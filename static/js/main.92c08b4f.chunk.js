(this["webpackJsonpspace-machine"]=this["webpackJsonpspace-machine"]||[]).push([[0],{22:function(e,t,n){e.exports=n(34)},27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(16),i=n.n(r),l=(n(27),n(7)),c="#282c34",d="black",u="#00347d",s="#001b40",m="black",f="black",p="#1b1e24",w="#37538a",h="white",b="#007ab3",g="white",v="black",O="#cc0000",D="#cc0000",y="red",E={width:"21vw",toggleWidth:"1.5vmin",item:"10vmin"},x={width:"20vw"},C={iconGrid:"13vmin",gutterGrid:"7vmin",icon:"11vmin"},j={large:"calc(25px + 3vmin)",medium:"calc(20px + 2.5vmin)",small:"calc(12px + 1.5vmin)",xsmall:"calc(10px + 1.3vmin)"},I={size:"3vmin",borderRadius:"1.5vmin"},N=Object(l.a)({Bounder:{backgroundColor:c,width:"100vw",height:"100vh",display:"flex",fontSize:"calc(20px + 2vmin)",color:"white",position:"absolute",top:"0px",left:"0px",userSelect:"none",zIndex:"-1",overflow:"hidden"},ModuleViewBounder:{minWidth:"60vw",height:"100vh",display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",zIndex:0,overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"0px"}}}),k=n(6),T=Object(l.a)({DrawerBounder:{backgroundColor:d,height:"100vh",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",color:"white",position:"absolute",top:"0px",userSelect:"none",zIndex:"10"},Drawer:{height:"100vh",width:E.width,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},DrawerHeader:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:E.width,overflowX:"scroll","&::-webkit-scrollbar":{height:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerHeaderItem:{fontSize:j.large,padding:"1vmin 1.5vmin",color:h,textDecoration:"none",whiteSpace:"nowrap","&:hover":{cursor:"pointer"}},ItemRouter:{display:"flex",flexFlow:"row wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start",width:E.width,height:"calc(100% - 60px)",overflowY:"scroll","&::-webkit-scrollbar":{width:"1px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerItem:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",borderRadius:"10px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",margin:"4vmin"},DrawerIcon:{backgroundColor:c,borderColor:c,borderStyle:"solid",width:E.item,height:E.item,borderRadius:"1.5vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",marginBottom:"1.5vmin","&:hover":{cursor:"pointer",borderColor:"white"}},DrawerItemText:{fontSize:j.small},Toggle:{backgroundColor:u,width:E.toggleWidth,height:"100%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"}},ToggleLine:{backgroundColor:s,borderRadius:"4px",width:"0.75vmin",height:"80px"}}),S=n(14);var M=function(e){var t=e.className,n=e.text,a=e.onClick,r={color:e.selectedRoute===n?b:h};return o.a.createElement("div",{className:t,onClick:a,style:r},n)},R=0;var L=function(e){var t=e.fullName,n=e.id,a=e.moduleType,r=T();return o.a.createElement("div",{className:r.DrawerItem},o.a.createElement("div",{className:r.DrawerIcon,draggable:!0,onDragStart:function(e){e.dataTransfer.setData("id","".concat(n," ").concat(R)),e.dataTransfer.setData("moduleType",a),e.dataTransfer.setData("name",n),window.setFillIsExpanded(!0),R+=1},onDragEnd:function(){window.setFillIsExpanded(!1)}}),o.a.createElement("div",{className:r.DrawerItemText},t))},B="VALUE";var A=function(){return o.a.createElement(a.Fragment,null,o.a.createElement(L,{fullName:"oscillator",id:"osc",moduleType:"OSCILLATOR"}),o.a.createElement(L,{fullName:"gain",id:"gain",moduleType:"GAIN"}),o.a.createElement(L,{fullName:"output",id:"out",moduleType:"OUTPUT"}),o.a.createElement(L,{fullName:"container",id:"cntnr",moduleType:"CONTAINER"}),o.a.createElement(L,{fullName:"auto filter",id:"filter",moduleType:"AUTOFILTER"}),o.a.createElement(L,{fullName:"kompressor",id:"komp",moduleType:"KOMPRESSOR"}),o.a.createElement(L,{fullName:"stereo panner",id:"str pan",moduleType:"STEREO_PANNER"}),o.a.createElement(L,{fullName:"signal delay",id:"sig dly",moduleType:"SIGNAL_DELAY"}))};var H=function(){var e=T(),t=Object(a.useState)(!0),n=Object(k.a)(t,2),r=n[0],i=n[1],l="-"+E.width,c=Object(S.b)({right:r?"0vw":l,config:{tension:220,clamp:!0}}),d=Object(a.useState)("base modules"),u=Object(k.a)(d,2),s=u[0],m=u[1];return o.a.createElement(S.a.div,{className:e.DrawerBounder,style:c},o.a.createElement("div",{className:e.Toggle,onClick:function(){i(!r)}},o.a.createElement("div",{className:e.ToggleLine,onClick:function(){i(!r)}})),o.a.createElement("div",{className:e.Drawer},o.a.createElement(re,{className:e.DrawerHeader},o.a.createElement(M,{className:e.DrawerHeaderItem,text:"base modules",onClick:function(){m("base modules")},selectedRoute:s}),o.a.createElement(M,{className:e.DrawerHeaderItem,text:"higher order",onClick:function(){m("higher order")},selectedRoute:s}),o.a.createElement(M,{className:e.DrawerHeaderItem,text:"settings",onClick:function(){m("settings")},selectedRoute:s})),o.a.createElement("div",{className:e.ItemRouter},"base modules"===s?o.a.createElement(A,null):"higher order"===s||"settings"===s?o.a.createElement("div",null):null)))},F=Object(l.a)({LeftDrawer:{backgroundColor:m,height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",fontSize:"calc(20px + 2vmin)",color:"white",userSelect:"none",overflow:"hidden",whiteSpace:"nowrap",zIndex:"20"},TopItems:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%",maxHeight:"50%",overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},HeaderScrollBounder:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderColor:"white",borderStyle:"none none solid none","&::-webkit-scrollbar":{height:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerHeader:{width:"100%",height:"1em",whiteSpace:"nowrap",backgroundColor:"transparent",color:"white",fontSize:j.large,padding:"1vmin 0vmin",borderWidth:"1px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",justifyText:"center",resize:"none",overflow:"hidden","&:hover":{cursor:"pointer"}},MenuHeader:{fontSize:j.medium,borderStyle:"none none solid none",margin:"1vmin",width:"90%"},Connection:{fontSize:j.small,backgroundColor:p,margin:".5vmin 3vmin",borderRadius:"1vmin",borderColor:"transparent",borderStyle:"solid",minWidth:"30%",padding:"1vmin",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{cursor:"pointer",borderColor:O},boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},ControlMenu:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},ControlBounder:{display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",padding:"1vmin",fontSize:j.small},ControlInput:{minWidth:"9vmin",maxWidth:"5em",margin:"1vmin",fontSize:j.small},ControlTypeSelect:{minWidth:"9vmin",maxWidth:"5em",margin:"1vmin",fontSize:j.small},BottomItems:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%",maxHeight:"50%",overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},CMInputBounder:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},CenterMenuInput:{backgroundColor:c,color:"white",height:"2vmin",padding:"1vmin",margin:"1.5vmin .75vmin 1.5vmin 1.5vmin",borderStyle:"none",borderRadius:"1vmin",fontSize:j.small,width:"23vmin","&:hover":{cursor:"text"}},InputSubmit:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:c,height:"2vmin",padding:"1vmin",margin:"1.5vmin 1.5vmin 1.5vmin 0.75vmin",borderRadius:"1vmin","&:hover":{cursor:"pointer"},fontSize:j.small},Error:{backgroundColor:D,width:"90%",color:"white",fontSize:j.small,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"1vmin",padding:"1vmin 0vmin",marginBottom:"1vmin"}}),z=n(5),U=function(e,t,n){return{type:"MOVE_MODULE",id:e,newRow:t,newCol:n}},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"ADD_CONNECTION",fromID:e,toID:t,param:n}},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"REMOVE_CONNECTION",fromID:e,toID:t,param:n}};var W=function(e){var t=e.setRMOpen,n=F(),r=Object(a.useRef)(null),i=Object(z.c)((function(e){return e.modules})),l=Object(z.b)(),c=Object(a.useState)(!1),d=Object(k.a)(c,2),u=d[0],s=d[1];function m(){if(r&&r.current){var e=r.current.value;0===e.length?s(!0):(l(function(e,t){return{type:"RENAME_MODULE",id:e,newName:t}}(window.highlightedID,e)),window.reRenderLeftDrawer(),t(!1))}}return o.a.createElement(le,{header:"rename",onClose:function(){t(!1)}},o.a.createElement("div",{className:n.CMInputBounder},o.a.createElement("input",{className:n.CenterMenuInput,placeholder:i[window.highlightedID].name,onKeyUp:function(e){13===e.keyCode?m():27===e.keyCode&&t(!1)},ref:r,autoFocus:!0}),o.a.createElement("div",{className:n.InputSubmit,onClick:function(){m()}},"enter")),u?o.a.createElement("div",{className:n.Error},"please enter a name"):null)};function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";0===n.length?(e.audioNode.connect(t.audioNode),console.log("connected ".concat(e.audioNode," to ").concat(t.audioNode))):t.audioNode[n]?e.audioNode.connect(t.audioNode[n]):alert("param does not exist")}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";0===n.length?e.audioNode.disconnect(t.audioNode):t.audioNode[n]?e.audioNode.disconnect(t.audioNode[n]):alert("param does not exist")}var q=function(){var e=F(),t=Object(a.useState)(!1),n=Object(k.a)(t,2),r=n[0],i=n[1];window.setLeftDrawerOpen=i;var l=Object(S.b)({width:r?x.width:"0vw",config:{tension:300,velocity:10,clamp:!0}}),c=Object(z.b)(),d=Object(a.useState)(!1),u=Object(k.a)(d,2),s=u[0],m=u[1],f=Object(z.c)((function(e){return e.modules})),p=f[window.highlightedID],w=window.audioModules,h=w[window.highlightedID],b=Object(a.useState)(!1),g=Object(k.a)(b,2),v=g[0],D=g[1];return window.reRenderLeftDrawer=function(){D(!v)},o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a.div,{className:e.LeftDrawer,style:l},o.a.createElement("div",{className:e.TopItems},o.a.createElement(re,{className:e.HeaderScrollBounder},o.a.createElement("div",{className:e.DrawerHeader,onClick:function(){m(!0)}},p?p.name:null)),p?0===p.inputs.length?null:o.a.createElement("div",{className:e.MenuHeader},"inputs"):null,p?p.inputs.map((function(t,n){var a=f[t[0]].name;return o.a.createElement("div",{className:e.Connection,key:t[0]+n,onClick:function(){c(P(t[0],p.id,t[1])),Y(w[t[0]],w[p.id],t[1])}},0===t[1].length?a:"".concat(a," - ").concat(t[1]))})):null,p?0===p.outputs.length?null:o.a.createElement("div",{className:e.MenuHeader},"outputs"):null,p?p.outputs.map((function(t,n){var a=f[t[0]].name;return o.a.createElement("div",{className:e.Connection,key:t[0]+n,onClick:function(){c(P(p.id,t[0],t[1])),Y(w[p.id],w[t[0]],t[1])}},0===t[1].length?a:"".concat(a," - ").concat(t[1]))})):null),o.a.createElement("div",{className:e.ControlMenu},o.a.createElement("div",{className:e.MenuHeader},"controls"),h?Object.keys(h.controls).map((function(t,n){var r=Object(k.a)(h.paramIDs[n],2),i=r[0],l=r[1];return o.a.createElement("div",{className:e.ControlBounder,key:p.id+n},l===B?o.a.createElement(a.Fragment,null,o.a.createElement("div",null,t),o.a.createElement("input",{className:e.ControlInput,type:"number",value:"".concat(h.audioNode[i]?h.audioNode[i].value:null),onChange:function(e){h.controls[t](e.target.value),window.reRenderLeftDrawer()}})):"BUTTON"===l?o.a.createElement(de,{style:{borderColor:O,width:"50%"},onClick:function(){h.controls[t]("")}},t):"TYPE"===l?o.a.createElement(a.Fragment,null,o.a.createElement("label",{htmlFor:"type"},"choose type"),o.a.createElement("select",{className:e.ControlTypeSelect,name:"type",id:"type",onChange:function(e){h.controls[t](e.target.value),window.reRenderLeftDrawer()},value:h.audioNode.type},h.typeTypes.map((function(e){return o.a.createElement("option",{value:e,key:p.id+e},e)})))):null)})):null),o.a.createElement("div",{className:e.BottomItems},o.a.createElement(de,{style:{borderColor:O,width:"50%",fontSize:j.small},onClick:function(){p.inputs.forEach((function(e){Y(w[e[0]],h),c(P(e[0],p.id,e[1]))})),p.outputs.forEach((function(e){Y(h,w[e[0]]),c(P(p.id,e[0],e[1]))})),c({type:"REMOVE_MODULE",id:window.highlightedID}),window.setLeftDrawerOpen(!1),window.highlightedID=""}},"delete"))),s?o.a.createElement(W,{setRMOpen:m}):null)},V=Object(l.a)({FillBounder:{backgroundColor:p,display:"flex",flexDirection:"column",margin:"10vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderRadius:"2vmin"},FillHeader:{borderColor:"white",borderStyle:"none none solid none",padding:"1vmin",marginLeft:"2vmin","&:hover":{cursor:"pointer"}},Fill:{display:"grid",minWidth:C.iconGrid,minHeight:C.iconGrid,alignItems:"center",justifyItems:"center",padding:"2vmin"},Icon:{backgroundColor:w,width:C.icon,height:C.icon,borderRadius:"1.5vmin",borderStyle:"none",borderColor:"white",whiteSpace:"wrap",fontSize:j.medium,padding:"1vmin",display:"flex",flexFlow:"column nowrap",alignItems:"flex-end",justifyContent:"space-between",overflow:"hidden",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)","&:hover":{cursor:"pointer",borderStyle:"solid"}},IconName:{fontSize:j.small},IconConnector:{backgroundColor:y,width:I.size,height:I.size,borderRadius:I.borderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"none",borderColor:"white","&:hover":{cursor:"pointer",borderStyle:"solid"}},DropSquare:{width:C.iconGrid,height:C.iconGrid,borderStyle:"none",borderColor:g,borderRadius:"10px"}});function X(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function K(e,t){for(var n=[],a=e;a<t;a++)n.push(a);return n}var Q={};var J=function(e){var t=e.fromID,n=e.toID,r=e.toType,i=e.onClose,l=Object(a.useState)(0),c=Object(k.a)(l,2),d=c[0],u=c[1],s=window.audioModules,m=Object(z.b)();return o.a.createElement(a.Fragment,null,0===d?o.a.createElement(le,{header:"connect to",onClose:function(){u(0),i()}},"OSCILLATOR"===r?null:o.a.createElement(de,{style:Q,onClick:function(){G(s[t],s[n]),m(_(t,n)),u(0),i()}},"module"),X(B,s[n].paramIDs.flat())?o.a.createElement(de,{style:Q,onClick:function(e){e.stopPropagation(),u(1)}},"params"):null):o.a.createElement(le,{header:"props",onClose:function(){u(0),i()}},s[n].paramIDs.filter((function(e){return e[1]===B})).map((function(e,a){return o.a.createElement(de,{key:t+n+a,onClick:function(){G(s[t],s[n],e[0]),m(_(t,n,e[0])),u(0),i()}},e[0])}))))};window.currSetHighlighted=function(e){};var $=function(e){var t=e.mod,n=e.gridCol,r=e.gridRow,i=V(),l=Object(a.useState)(t.id===window.highlightedID),c=Object(k.a)(l,2),d=c[0],u=c[1];t.id===window.highlightedID&&(window.currSetHighlighted=u);var s={gridColumn:"".concat(n," / span 1"),gridRow:"".concat(r," / span 1"),borderStyle:d?"solid":"none"},m=Object(z.c)((function(e){return e.modules})),f=Object(z.b)(),p=Object(a.useState)({isOpen:!1,fromID:""}),w=Object(k.a)(p,2),h=w[0],b=w[1];return o.a.createElement("div",{className:i.Icon,style:s,onDragOver:function(e){e.preventDefault()},onDragEnter:function(){u(!0)},onDragLeave:function(){u(!1)},onDrop:function(e){var n=e.dataTransfer.getData("id");if(n){if(m[n]){var a=e.dataTransfer.getData("fromRow"),o=e.dataTransfer.getData("fromCol");window.setFillIsExpanded(!1),f(U(n,t.row,t.col)),f(U(t.id,Number(a),Number(o)))}}else{var r=e.dataTransfer.getData("fromID");r&&b({isOpen:!0,fromID:r})}u(!1)},draggable:!0,onDragStart:function(e){e.dataTransfer.setData("id",t.id),e.dataTransfer.setData("fromRow","".concat(t.row)),e.dataTransfer.setData("fromCol","".concat(t.col)),window.setFillIsExpanded(!0)},onDragEnd:function(){window.setFillIsExpanded(!1)},onClick:function(e){e.stopPropagation&&e.stopPropagation(),0===window.linkToOutputID.length?t.id===window.highlightedID?(window.setLeftDrawerOpen(!1),u(!1),window.highlightedID="",window.currSetHighlighted=function(e){}):(window.setLeftDrawerOpen(!0),window.reRenderLeftDrawer(),u(!0),window.highlightedID=t.id,window.currSetHighlighted(!1),window.currSetHighlighted=u):b({isOpen:!0,fromID:window.linkToOutputID})}},"OUTPUT"!==t.moduleType?o.a.createElement("div",{className:i.IconConnector,draggable:!0,onDragStart:function(e){e.stopPropagation(),e.dataTransfer.setData("fromID",t.id)}}):o.a.createElement("div",{style:{width:"1vmin",height:"1vmin"}}),o.a.createElement("div",{className:i.IconName},t.name),h.isOpen?o.a.createElement(J,{fromID:h.fromID,toID:t.id,toType:t.moduleType,onClose:function(){b({isOpen:!1,fromID:""}),window.linkToOutputID=""}}):null)};var Z=function(e){var t=e.row,n=e.col,r=V(),i=Object(z.b)(),l=Object(z.c)((function(e){return{modules:e.modules}})).modules,c=Object(a.useState)(!1),d=Object(k.a)(c,2),u=d[0],s=d[1],m={gridColumn:"".concat(2*n+1," / span 1"),gridRow:"".concat(2*t+1," / span 1"),borderStyle:u?"solid":"none"};return o.a.createElement("div",{className:r.DropSquare,style:m,onDragOver:function(e){e.preventDefault()},onDragEnter:function(){s(!0)},onDragLeave:function(){s(!1)},onDrop:function(e){var a=e.dataTransfer.getData("id"),o=l[window.fillContainerID],r=o.childModules.concat(o.childModules),c=l[a],d=function(e,t,n,a){for(var o=0;o<n.length;o++){var r=a[n[o]];if(r.row===e&&r.col===t)return r.id}return!1}(t,n,r,l);if(c)if(d){var u=e.dataTransfer.getData("fromRow"),m=e.dataTransfer.getData("fromCol");s(!1),window.setFillIsExpanded(!1),i(U(a,t,n)),i(U(d,Number(u),Number(m)))}else s(!1),window.setFillIsExpanded(!1),i(U(a,t,n));else if(!d){var f=e.dataTransfer.getData("moduleType"),p=e.dataTransfer.getData("name");s(!1),i(function(e,t,n,a,o,r){return{type:"ADD_MODULE",moduleType:n,id:e,name:t,row:o,col:r,parentID:a}}(a,p,f,window.fillContainerID,t,n)),window.addModule(a,f),window.setFillIsExpanded(!1)}}})},ee=n(20),te=C.iconGrid,ne=C.gutterGrid;var ae=function(e){var t=e.containerModule,n=V(),r=Object(a.useState)(!1),i=Object(k.a)(r,2),l=i[0],c=i[1];window.setFillIsExpanded=c;var d,u=Object(z.c)((function(e){return{modules:e.modules}})).modules,s=function(e,t){var n=0,a=0;return e.forEach((function(e){var o=t[e];o.row>n&&(n=o.row),o.col>a&&(a=o.col)})),{maxRow:n,maxCol:a}}(t.childModules,u),m=s.maxRow,f=s.maxCol,p=0===t.childModules.length;return d=p?{gridTemplateRows:"repeat(".concat(1,", ",te," ").concat(ne,")"),gridTemplateColumns:"repeat(".concat(1,", ",te," ").concat(ne,")")}:{gridTemplateRows:"repeat(".concat(l?m+2:m+1,", ").concat(te," ").concat(ne,")"),gridTemplateColumns:"repeat(".concat(l?f+2:f+1,", ").concat(te," ").concat(ne,")")},o.a.createElement("div",{className:n.FillBounder},o.a.createElement("div",{className:n.FillHeader,style:{width:"".concat(t.name.length/2,"em")},onClick:function(e){e.stopPropagation(),window.highlightedID=t.id,window.setLeftDrawerOpen(!0)}},t.name),o.a.createElement(ee.ArcherContainer,null,o.a.createElement("div",{className:n.Fill,style:d,onClick:function(){window.highlightedID="",window.currSetHighlighted(!1),window.currSetHighlighted=function(e){},window.setLeftDrawerOpen(!1)}},l?p?o.a.createElement(Z,{row:0,col:0}):K(0,l?m+2:m+1).map((function(e){return K(0,l?f+2:f+1).map((function(t){return o.a.createElement(Z,{key:"".concat(e," ").concat(t),row:e,col:t})}))})).flat():null,t.childModules.map((function(e){var t=u[e];return o.a.createElement($,{key:t.id,mod:t,gridRow:2*t.row+1,gridCol:2*t.col+1})})))))},oe={overflowY:"hidden",overflowX:"scroll",display:"flex"};var re=function(e){var t=e.children,n=e.className,r=e.style,i=Object(a.useRef)(null),l=Object.assign({},oe);return o.a.createElement("div",{ref:i,className:n,style:Object.assign(l,r),onWheel:function(e){i&&i.current&&(i.current.scrollLeft+=e.deltaY)}},t)},ie=Object(l.a)({CenterMenuBounder:{backgroundColor:"rgba(0,0,0,0.7)",position:"absolute",top:0,left:0,width:"100vw",height:"100vh",zIndex:100},CenterMenu:{backgroundColor:f,position:"absolute",top:"50vh",left:"50vw",transform:"translate(-50%, calc(-50% - 50px))",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"2vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",minWidth:"15vw",padding:"1vmin 2vmin 2vmin 2vmin",border:"1px solid white"},Header:{padding:"1vmin 2vmin",margin:"0vmin 0vmin 2vmin 0vmin",borderColor:"white",borderStyle:"none none solid none",fontSize:j.large}});var le=function(e){var t=e.children,n=e.header,a=e.onClose,r=ie();return o.a.createElement("div",{className:r.CenterMenuBounder,onClick:function(e){e.stopPropagation(),a()}},o.a.createElement("div",{className:r.CenterMenu,onClick:function(e){e.stopPropagation()}},o.a.createElement("div",{className:r.Header},n),t))};Object(l.a)({TestingArea:{backgroundColor:"black",position:"absolute",top:"45vh",left:"25vw",width:"45vw",height:"50vh",display:"flex",flexDirection:"column",zIndex:150},ButtonDiv:{display:"flex",flexFlow:"row wrap"},Button:{margin:"2vmin",padding:"1vmin",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"}}});var ce=Object(l.a)({Button:{backgroundColor:v,borderColor:"transparent",borderRadius:"1vmin",borderStyle:"solid","&:active":{borderColor:"transparent"},"&:hover":{cursor:"pointer",borderColor:"white"},display:"flex",alignItems:"center",justifyContent:"center",padding:"1vmin",margin:"1vmin",textAlign:"center"}});var de=function(e){var t=e.onClick,n=e.children,a=e.style,r=ce();return o.a.createElement("div",{className:r.Button,onClick:t,style:a},n)},ue=n(3),se=n(2),me=new(0,window.AudioContext),fe=["sine","square","triangle","sawtooth"];var pe=function(){var e=me.createOscillator(),t={"set type":function(t){e.type=t},"set frequency":function(t){e.frequency.value=Number(t)},"set detune":function(t){e.detune.value=Number(t)},kill:function(){e.stop()}};return e.start(),{audioNode:e,paramIDs:[["type","TYPE"],["frequency",B],["detune",B],["kill","BUTTON"]],typeTypes:fe,controls:t}};var we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=me.createGain();t.gain.value=e;var n={"set gain":function(e){t.gain.value=Number(e)}};return{audioNode:t,paramIDs:[["gain",B]],controls:n}};var he=function(){return me.resume(),{audioNode:me.destination,paramIDs:[["resume","BUTTON"],["suspend","BUTTON"]],controls:{resume:function(){console.log("resuming"),me.resume()},suspend:function(){me.suspend()}}}},be=["lowpass","lowshelf","highpass","highshelf","allpass","bandpass","notch","peaking"];var ge=function(){var e=me.createBiquadFilter(),t={"set type":function(t){e.type=t},"set frequency":function(t){e.frequency.value=Number(t)},"set detune":function(t){e.detune.value=Number(t)},"set Q":function(t){e.Q.value=Number(t)},"set gain":function(t){e.gain.value=Number(t)}};return{audioNode:e,paramIDs:[["type","TYPE"],["frequency",B],["detune",B],["Q",B],["gain",B]],typeTypes:be,controls:t}};var ve=function(){var e=me.createDynamicsCompressor(),t={"set threshold":function(t){e.threshold.value=Number(t)},"set knee":function(t){e.knee.value=Number(t)},"set ratio":function(t){e.ratio.value=Number(t)},"set attack":function(t){e.attack.value=Number(t)},"set release":function(t){e.release.value=Number(t)}};return{audioNode:e,paramIDs:[["threshold",B],["knee",B],["ratio",B],["attack",B],["release",B]],controls:t}};var Oe=function(){var e=me.createStereoPanner(),t={"set pan":function(t){e.pan.value=Number(t)}};return{audioNode:e,paramIDs:[["pan",B]],controls:t}};var De=function(){var e=me.createDelay(),t={"set delay time":function(t){e.delayTime.value=Number(t)}};return{audioNode:e,paramIDs:[["delayTime",B]],controls:t}};var ye=function(){return function(e,t){switch(t){case"OSCILLATOR":window.audioModules=Object(se.a)(Object(se.a)({},window.audioModules),{},Object(ue.a)({},e,pe()));break;case"GAIN":window.audioModules=Object(se.a)(Object(se.a)({},window.audioModules),{},Object(ue.a)({},e,we()));break;case"OUTPUT":window.audioModules=Object(se.a)(Object(se.a)({},window.audioModules),{},Object(ue.a)({},e,he()));break;case"AUTOFILTER":window.audioModules=Object(se.a)(Object(se.a)({},window.audioModules),{},Object(ue.a)({},e,ge()));break;case"KOMPRESSOR":window.audioModules=Object(se.a)(Object(se.a)({},window.audioModules),{},Object(ue.a)({},e,ve()));break;case"STEREO_PANNER":window.audioModules=Object(se.a)(Object(se.a)({},window.audioModules),{},Object(ue.a)({},e,Oe()));break;case"SIGNAL_DELAY":window.audioModules=Object(se.a)(Object(se.a)({},window.audioModules),{},Object(ue.a)({},e,De()))}}};window.highlightedID="project",window.fillContainerID="project",window.linkToOutputID="",window.audioModules={},window.addModule=ye();var Ee=function(){var e=N(),t=Object(z.c)((function(e){return e.modules}));return o.a.createElement("div",{className:e.Bounder},o.a.createElement(q,null),o.a.createElement("div",{className:e.ModuleViewBounder},o.a.createElement(ae,{containerModule:t[window.fillContainerID]})),o.a.createElement(H,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=n(10),Ce=n(21),je=n(9),Ie=function(e,t){var n,a,o=t.id,r=t.name,i=t.moduleType,l=t.row,c=t.col,d=t.parentID;switch(i){case"CONTAINER":return Object.assign({},e,(n={},Object(ue.a)(n,o,{id:o,name:r,row:l,col:c,parentID:d,moduleType:i,inputs:[],outputs:[],childModules:[],isBaseContainer:!1}),Object(ue.a)(n,d,Object(se.a)(Object(se.a)({},e[d]),{},{childModules:[].concat(Object(je.a)(e[d].childModules),[o])})),n));default:return Object.assign({},e,(a={},Object(ue.a)(a,o,{id:o,name:r,row:l,col:c,parentID:d,moduleType:i,inputs:[],outputs:[]}),Object(ue.a)(a,d,Object(se.a)(Object(se.a)({},e[d]),{},{childModules:[].concat(Object(je.a)(e[d].childModules),[o])})),a))}},Ne=function(e,t){var n=t.id,a=e[n].parentID,o=Object.fromEntries(Object.entries(e).filter((function(e){return e[0]!==n})));return Object.assign({},o,Object.fromEntries(Object.entries(o).map((function(e){return[e[0],Object(se.a)(Object(se.a)({},e[1]),{},{inputs:e[1].inputs.filter((function(e){return e[0]!==n})),outputs:e[1].outputs.filter((function(e){return e[0]!==n}))})]}))),Object(ue.a)({},a,Object(se.a)(Object(se.a)({},e[a]),{},{childModules:e[a].childModules.filter((function(e){return e!==n}))})))},ke=function(e,t){var n=t.id,a=t.newRow,o=t.newCol;return Object.assign({},e,Object(ue.a)({},n,Object(se.a)(Object(se.a)({},e[n]),{},{row:a,col:o})))},Te=function(e,t){var n=t.id,a=t.newName;return Object.assign({},e,Object(ue.a)({},n,Object(se.a)(Object(se.a)({},e[n]),{},{name:a})))},Se=function(e,t){var n,a=t.fromID,o=t.toID,r=t.param;return Object.assign({},e,(n={},Object(ue.a)(n,o,Object(se.a)(Object(se.a)({},e[o]),{},{inputs:[].concat(Object(je.a)(e[o].inputs),[[a,r]])})),Object(ue.a)(n,a,Object(se.a)(Object(se.a)({},e[a]),{},{outputs:[].concat(Object(je.a)(e[a].outputs),[[o,r]])})),n))},Me=function(e,t){var n,a=t.fromID,o=t.toID,r=t.param;return Object.assign({},e,(n={},Object(ue.a)(n,o,Object(se.a)(Object(se.a)({},e[o]),{},{inputs:e[o].inputs.filter((function(e){return e[0]!==a||e[1]!==r}))})),Object(ue.a)(n,a,Object(se.a)(Object(se.a)({},e[a]),{},{outputs:e[a].outputs.filter((function(e){return e[0]!==o||e[1]!==r}))})),n))},Re={project:{id:"project",name:"project",row:0,col:0,moduleType:"CONTAINER",inputs:[],outputs:[],parentID:null,childModules:[],isBaseContainer:!0}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MODULE":return Ie(e,t);case"REMOVE_MODULE":return Ne(e,t);case"MOVE_MODULE":return ke(e,t);case"RENAME_MODULE":return Te(e,t);case"ADD_CONNECTION":return Se(e,t);case"REMOVE_CONNECTION":return Me(e,t);default:return e}},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"project",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOWN_1_BASE":case"CHANGE_BASE":return t.newID;default:return e}},Ae=Object(xe.combineReducers)({modules:Le,baseContainerID:Be}),He=Object(xe.createStore)(Ae,Object(Ce.composeWithDevTools)());i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(z.a,{store:He},o.a.createElement(Ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.92c08b4f.chunk.js.map