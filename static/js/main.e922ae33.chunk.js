(this["webpackJsonpspace-machine"]=this["webpackJsonpspace-machine"]||[]).push([[0],{21:function(e,t,n){e.exports=n(33)},26:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(16),i=n.n(r),l=(n(26),n(7)),c="#282c34",d="black",u="#00347d",s="#001b40",m="black",f="black",p="#1b1e24",w="#37538a",h="white",g="#007ab3",v="white",b="black",O="#cc0000",D="#cc0000",x="red",y={width:"21vw",toggleWidth:"1.5vmin",item:"10vmin"},C={width:"20vw"},I={iconGrid:"13vmin",gutterGrid:"7vmin",icon:"11vmin"},j={large:"calc(25px + 3vmin)",medium:"calc(20px + 2.5vmin)",small:"calc(12px + 1.5vmin)",xsmall:"calc(10px + 1.3vmin)"},E={size:"3vmin",borderRadius:"1.5vmin"},N=Object(l.a)({Bounder:{backgroundColor:c,width:"100vw",height:"100vh",display:"flex",fontSize:"calc(20px + 2vmin)",color:"white",position:"absolute",top:"0px",left:"0px",userSelect:"none",zIndex:"-1",overflow:"hidden"},ModuleViewBounder:{minWidth:"60vw",height:"100vh",display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",zIndex:0,overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"0px"}}}),T=n(6),k=Object(l.a)({DrawerBounder:{backgroundColor:d,height:"100vh",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",color:"white",position:"absolute",top:"0px",userSelect:"none",zIndex:"10"},Drawer:{height:"100vh",width:y.width,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},DrawerHeader:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:y.width,overflowX:"scroll","&::-webkit-scrollbar":{height:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerHeaderItem:{fontSize:j.large,padding:"1vmin 1.5vmin",color:h,textDecoration:"none",whiteSpace:"nowrap","&:hover":{cursor:"pointer"}},ItemRouter:{display:"flex",flexFlow:"row wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start",width:y.width,height:"calc(100% - 60px)",overflowY:"scroll","&::-webkit-scrollbar":{width:"1px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerItem:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",borderRadius:"10px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",margin:"4vmin"},DrawerIcon:{backgroundColor:c,borderColor:c,borderStyle:"solid",width:y.item,height:y.item,borderRadius:"1.5vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",marginBottom:"1.5vmin","&:hover":{cursor:"pointer",borderColor:"white"}},DrawerItemText:{fontSize:j.small},Toggle:{backgroundColor:u,width:y.toggleWidth,height:"100%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"}},ToggleLine:{backgroundColor:s,borderRadius:"4px",width:"0.75vmin",height:"80px"}}),S=n(14);var M=function(e){var t=e.className,n=e.text,o=e.onClick,r={color:e.selectedRoute===n?g:h};return a.a.createElement("div",{className:t,onClick:o,style:r},n)},R=0;var B=function(e){var t=e.fullName,n=e.id,o=e.moduleType,r=k();return a.a.createElement("div",{className:r.DrawerItem},a.a.createElement("div",{className:r.DrawerIcon,draggable:!0,onDragStart:function(e){e.dataTransfer.setData("id","".concat(n," ").concat(R)),e.dataTransfer.setData("moduleType",o),e.dataTransfer.setData("name",n),window.setFillIsExpanded(!0),R+=1},onDragEnd:function(){window.setFillIsExpanded(!1)}}),a.a.createElement("div",{className:r.DrawerItemText},t))},L="VALUE";var A=function(){return a.a.createElement(o.Fragment,null,a.a.createElement(B,{fullName:"oscillator",id:"osc",moduleType:"OSCILLATOR"}),a.a.createElement(B,{fullName:"gain",id:"gain",moduleType:"GAIN"}),a.a.createElement(B,{fullName:"output",id:"out",moduleType:"OUTPUT"}),a.a.createElement(B,{fullName:"container",id:"cntnr",moduleType:"CONTAINER"}),a.a.createElement(B,{fullName:"auto filter",id:"filter",moduleType:"AUTOFILTER"}))};var H=function(){var e=k(),t=Object(o.useState)(!0),n=Object(T.a)(t,2),r=n[0],i=n[1],l="-"+y.width,c=Object(S.b)({right:r?"0vw":l,config:{tension:220,clamp:!0}}),d=Object(o.useState)("base modules"),u=Object(T.a)(d,2),s=u[0],m=u[1];return a.a.createElement(S.a.div,{className:e.DrawerBounder,style:c},a.a.createElement("div",{className:e.Toggle,onClick:function(){i(!r)}},a.a.createElement("div",{className:e.ToggleLine,onClick:function(){i(!r)}})),a.a.createElement("div",{className:e.Drawer},a.a.createElement(ae,{className:e.DrawerHeader},a.a.createElement(M,{className:e.DrawerHeaderItem,text:"base modules",onClick:function(){m("base modules")},selectedRoute:s}),a.a.createElement(M,{className:e.DrawerHeaderItem,text:"higher order",onClick:function(){m("higher order")},selectedRoute:s}),a.a.createElement(M,{className:e.DrawerHeaderItem,text:"settings",onClick:function(){m("settings")},selectedRoute:s})),a.a.createElement("div",{className:e.ItemRouter},"base modules"===s?a.a.createElement(A,null):"higher order"===s||"settings"===s?a.a.createElement("div",null):null)))},F=Object(l.a)({LeftDrawer:{backgroundColor:m,height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",fontSize:"calc(20px + 2vmin)",color:"white",userSelect:"none",overflow:"hidden",whiteSpace:"nowrap",zIndex:"20"},TopItems:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%",maxHeight:"50%",overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},HeaderScrollBounder:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderColor:"white",borderStyle:"none none solid none","&::-webkit-scrollbar":{height:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerHeader:{width:"100%",height:"1em",whiteSpace:"nowrap",backgroundColor:"transparent",color:"white",fontSize:j.large,padding:"1vmin 0vmin",borderWidth:"1px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",justifyText:"center",resize:"none",overflow:"hidden","&:hover":{cursor:"pointer"}},MenuHeader:{fontSize:j.medium,borderStyle:"none none solid none",margin:"1vmin",width:"90%"},Connection:{fontSize:j.small,backgroundColor:p,margin:".5vmin 3vmin",borderRadius:"1vmin",borderColor:"transparent",borderStyle:"solid",minWidth:"30%",padding:"1vmin",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{cursor:"pointer",borderColor:O},boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},ControlMenu:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},ControlBounder:{display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",padding:"1vmin",fontSize:j.small},ControlInput:{minWidth:"9vmin",maxWidth:"5em",margin:"1vmin",fontSize:j.small},ControlTypeSelect:{minWidth:"9vmin",maxWidth:"5em",margin:"1vmin",fontSize:j.small},BottomItems:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%",maxHeight:"50%",overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},CMInputBounder:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},CenterMenuInput:{backgroundColor:c,color:"white",height:"2vmin",padding:"1vmin",margin:"1.5vmin .75vmin 1.5vmin 1.5vmin",borderStyle:"none",borderRadius:"1vmin",fontSize:j.small,width:"23vmin","&:hover":{cursor:"text"}},InputSubmit:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:c,height:"2vmin",padding:"1vmin",margin:"1.5vmin 1.5vmin 1.5vmin 0.75vmin",borderRadius:"1vmin","&:hover":{cursor:"pointer"},fontSize:j.small},Error:{backgroundColor:D,width:"90%",color:"white",fontSize:j.small,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"1vmin",padding:"1vmin 0vmin",marginBottom:"1vmin"}}),z=n(5),U=function(e,t,n){return{type:"MOVE_MODULE",id:e,newRow:t,newCol:n}},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"ADD_CONNECTION",fromID:e,toID:t,param:n}},V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"REMOVE_CONNECTION",fromID:e,toID:t,param:n}};var _=function(e){var t=e.setRMOpen,n=F(),r=Object(o.useRef)(null),i=Object(z.c)((function(e){return e.modules})),l=Object(z.b)(),c=Object(o.useState)(!1),d=Object(T.a)(c,2),u=d[0],s=d[1];function m(){if(r&&r.current){var e=r.current.value;0===e.length?s(!0):(l(function(e,t){return{type:"RENAME_MODULE",id:e,newName:t}}(window.highlightedID,e)),window.reRenderLeftDrawer(),t(!1))}}return a.a.createElement(ie,{header:"rename",onClose:function(){t(!1)}},a.a.createElement("div",{className:n.CMInputBounder},a.a.createElement("input",{className:n.CenterMenuInput,placeholder:i[window.highlightedID].name,onKeyUp:function(e){13===e.keyCode?m():27===e.keyCode&&t(!1)},ref:r,autoFocus:!0}),a.a.createElement("div",{className:n.InputSubmit,onClick:function(){m()}},"enter")),u?a.a.createElement("div",{className:n.Error},"please enter a name"):null)};function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";0===n.length?(e.audioNode.connect(t.audioNode),console.log("connected ".concat(e.audioNode," to ").concat(t.audioNode))):t.audioNode[n]?e.audioNode.connect(t.audioNode[n]):alert("param does not exist")}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";0===n.length?e.audioNode.disconnect(t.audioNode):t.audioNode[n]?e.audioNode.disconnect(t.audioNode[n]):alert("param does not exist")}var G=function(){var e=F(),t=Object(o.useState)(!1),n=Object(T.a)(t,2),r=n[0],i=n[1];window.setLeftDrawerOpen=i;var l=Object(S.b)({width:r?C.width:"0vw",config:{tension:300,velocity:10,clamp:!0}}),c=Object(z.b)(),d=Object(o.useState)(!1),u=Object(T.a)(d,2),s=u[0],m=u[1],f=Object(z.c)((function(e){return e.modules})),p=f[window.highlightedID],w=window.audioModules,h=w[window.highlightedID],g=Object(o.useState)(!1),v=Object(T.a)(g,2),b=v[0],D=v[1];return window.reRenderLeftDrawer=function(){D(!b)},a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.div,{className:e.LeftDrawer,style:l},a.a.createElement("div",{className:e.TopItems},a.a.createElement(ae,{className:e.HeaderScrollBounder},a.a.createElement("div",{className:e.DrawerHeader,onClick:function(){m(!0)}},p?p.name:null)),p?0===p.inputs.length?null:a.a.createElement("div",{className:e.MenuHeader},"inputs"):null,p?p.inputs.map((function(t,n){var o=f[t[0]].name;return a.a.createElement("div",{className:e.Connection,key:t[0]+n,onClick:function(){c(V(t[0],p.id,t[1])),q(w[t[0]],w[p.id],t[1])}},0===t[1].length?o:"".concat(o," - ").concat(t[1]))})):null,p?0===p.outputs.length?null:a.a.createElement("div",{className:e.MenuHeader},"outputs"):null,p?p.outputs.map((function(t,n){var o=f[t[0]].name;return a.a.createElement("div",{className:e.Connection,key:t[0]+n,onClick:function(){c(V(p.id,t[0],t[1])),q(w[p.id],w[t[0]],t[1])}},0===t[1].length?o:"".concat(o," - ").concat(t[1]))})):null),a.a.createElement("div",{className:e.ControlMenu},a.a.createElement("div",{className:e.MenuHeader},"controls"),h?Object.keys(h.controls).map((function(t,n){var r=Object(T.a)(h.paramIDs[n],2),i=r[0],l=r[1];return a.a.createElement("div",{className:e.ControlBounder,key:p.id+n},l===L?a.a.createElement(o.Fragment,null,a.a.createElement("div",null,t),a.a.createElement("input",{className:e.ControlInput,type:"number",value:"".concat(h.audioNode[i]?h.audioNode[i].value:null),onChange:function(e){h.controls[t](e.target.value),window.reRenderLeftDrawer()}})):"BUTTON"===l?a.a.createElement(ce,{style:{borderColor:O,width:"50%"},onClick:function(){h.controls[t]("")}},t):"TYPE"===l?a.a.createElement(o.Fragment,null,a.a.createElement("label",{htmlFor:"type"},"choose type"),a.a.createElement("select",{className:e.ControlTypeSelect,name:"type",id:"type",onChange:function(e){h.controls[t](e.target.value)},value:h.audioNode.type},h.typeTypes.map((function(e){return a.a.createElement("option",{value:e,key:p.id+e},e)})))):null)})):null),a.a.createElement("div",{className:e.BottomItems},a.a.createElement(ce,{style:{borderColor:O,width:"50%",fontSize:j.small},onClick:function(){c({type:"REMOVE_MODULE",id:window.highlightedID}),window.setLeftDrawerOpen(!1),window.highlightedID=""}},"delete"))),s?a.a.createElement(_,{setRMOpen:m}):null)},Y=Object(l.a)({FillBounder:{backgroundColor:p,display:"flex",flexDirection:"column",margin:"10vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderRadius:"2vmin"},FillHeader:{borderColor:"white",borderStyle:"none none solid none",padding:"1vmin",marginLeft:"2vmin","&:hover":{cursor:"pointer"}},Fill:{display:"grid",minWidth:I.iconGrid,minHeight:I.iconGrid,alignItems:"center",justifyItems:"center",padding:"2vmin"},Icon:{backgroundColor:w,width:I.icon,height:I.icon,borderRadius:"1.5vmin",borderStyle:"none",borderColor:"white",whiteSpace:"wrap",fontSize:j.medium,padding:"1vmin",display:"flex",flexFlow:"column nowrap",alignItems:"flex-end",justifyContent:"space-between",overflow:"hidden",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)","&:hover":{cursor:"pointer",borderStyle:"solid"}},IconName:{fontSize:j.small},IconConnector:{backgroundColor:x,width:E.size,height:E.size,borderRadius:E.borderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"none",borderColor:"white","&:hover":{cursor:"pointer",borderStyle:"solid"}},DropSquare:{width:I.iconGrid,height:I.iconGrid,borderStyle:"none",borderColor:v,borderRadius:"10px"}});function X(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function Q(e,t){for(var n=[],o=e;o<t;o++)n.push(o);return n}var J={};var K=function(e){var t=e.fromID,n=e.toID,r=e.onClose,i=Object(o.useState)(0),l=Object(T.a)(i,2),c=l[0],d=l[1],u=window.audioModules,s=Object(z.b)();return a.a.createElement(o.Fragment,null,0===c?a.a.createElement(ie,{header:"connect to",onClose:function(){d(0),r()}},a.a.createElement(ce,{style:J,onClick:function(){P(u[t],u[n]),s(W(t,n)),d(0),r()}},"module"),X(L,u[n].paramIDs.flat())?a.a.createElement(ce,{style:J,onClick:function(e){e.stopPropagation(),d(1)}},"params"):null):a.a.createElement(ie,{header:"props",onClose:function(){d(0),r()}},u[n].paramIDs.filter((function(e){return e[1]===L})).map((function(e,o){return a.a.createElement(ce,{key:t+n+o,onClick:function(){P(u[t],u[n],e[0]),s(W(t,n,e[0])),d(0),r()}},e[0])}))))};window.currSetHighlighted=function(e){};var $=function(e){var t=e.mod,n=e.gridCol,r=e.gridRow,i=Y(),l=Object(o.useState)(t.id===window.highlightedID),c=Object(T.a)(l,2),d=c[0],u=c[1];t.id===window.highlightedID&&(window.currSetHighlighted=u);var s={gridColumn:"".concat(n," / span 1"),gridRow:"".concat(r," / span 1"),borderStyle:d?"solid":"none"},m=Object(z.c)((function(e){return e.modules})),f=Object(z.b)(),p=Object(o.useState)({isOpen:!1,fromID:""}),w=Object(T.a)(p,2),h=w[0],g=w[1];return a.a.createElement("div",{className:i.Icon,style:s,onDragOver:function(e){e.preventDefault()},onDragEnter:function(){u(!0)},onDragLeave:function(){u(!1)},onDrop:function(e){var n=e.dataTransfer.getData("id");if(n){if(m[n]){var o=e.dataTransfer.getData("fromRow"),a=e.dataTransfer.getData("fromCol");window.setFillIsExpanded(!1),f(U(n,t.row,t.col)),f(U(t.id,Number(o),Number(a)))}}else{var r=e.dataTransfer.getData("fromID");r&&g({isOpen:!0,fromID:r})}u(!1)},draggable:!0,onDragStart:function(e){e.dataTransfer.setData("id",t.id),e.dataTransfer.setData("fromRow","".concat(t.row)),e.dataTransfer.setData("fromCol","".concat(t.col)),window.setFillIsExpanded(!0)},onDragEnd:function(){window.setFillIsExpanded(!1)},onClick:function(e){e.stopPropagation&&e.stopPropagation(),0===window.linkToOutputID.length?t.id===window.highlightedID?(window.setLeftDrawerOpen(!1),u(!1),window.highlightedID="",window.currSetHighlighted=function(e){}):(window.setLeftDrawerOpen(!0),window.reRenderLeftDrawer(),u(!0),window.highlightedID=t.id,window.currSetHighlighted(!1),window.currSetHighlighted=u):g({isOpen:!0,fromID:window.linkToOutputID})}},"OUTPUT"!==t.moduleType?a.a.createElement("div",{className:i.IconConnector,draggable:!0,onDragStart:function(e){e.stopPropagation(),e.dataTransfer.setData("fromID",t.id)}}):a.a.createElement("div",{style:{width:"1vmin",height:"1vmin"}}),a.a.createElement("div",{className:i.IconName},t.name),h.isOpen?a.a.createElement(K,{fromID:h.fromID,toID:t.id,onClose:function(){g({isOpen:!1,fromID:""}),window.linkToOutputID=""}}):null)};var Z=function(e){var t=e.row,n=e.col,r=Y(),i=Object(z.b)(),l=Object(z.c)((function(e){return{modules:e.modules}})).modules,c=Object(o.useState)(!1),d=Object(T.a)(c,2),u=d[0],s=d[1],m={gridColumn:"".concat(2*n+1," / span 1"),gridRow:"".concat(2*t+1," / span 1"),borderStyle:u?"solid":"none"};return a.a.createElement("div",{className:r.DropSquare,style:m,onDragOver:function(e){e.preventDefault()},onDragEnter:function(){s(!0)},onDragLeave:function(){s(!1)},onDrop:function(e){var o=e.dataTransfer.getData("id"),a=l[window.fillContainerID],r=a.childModules.concat(a.childModules),c=l[o],d=function(e,t,n,o){for(var a=0;a<n.length;a++){var r=o[n[a]];if(r.row===e&&r.col===t)return r.id}return!1}(t,n,r,l);if(c)if(d){var u=e.dataTransfer.getData("fromRow"),m=e.dataTransfer.getData("fromCol");s(!1),window.setFillIsExpanded(!1),i(U(o,t,n)),i(U(d,Number(u),Number(m)))}else s(!1),window.setFillIsExpanded(!1),i(U(o,t,n));else if(!d){var f=e.dataTransfer.getData("moduleType"),p=e.dataTransfer.getData("name");s(!1),i(function(e,t,n,o,a,r){return{type:"ADD_MODULE",moduleType:n,id:e,name:t,row:a,col:r,parentID:o}}(o,p,f,window.fillContainerID,t,n)),window.addModule(o,f),window.setFillIsExpanded(!1)}}})},ee=I.iconGrid,te=I.gutterGrid;var ne=function(e){var t=e.containerModule,n=Y(),r=Object(o.useState)(!1),i=Object(T.a)(r,2),l=i[0],c=i[1];window.setFillIsExpanded=c;var d,u=Object(z.c)((function(e){return{modules:e.modules}})).modules,s=function(e,t){var n=0,o=0;return e.forEach((function(e){var a=t[e];a.row>n&&(n=a.row),a.col>o&&(o=a.col)})),{maxRow:n,maxCol:o}}(t.childModules,u),m=s.maxRow,f=s.maxCol,p=0===t.childModules.length;return d=p?{gridTemplateRows:"repeat(".concat(1,", ",ee," ").concat(te,")"),gridTemplateColumns:"repeat(".concat(1,", ",ee," ").concat(te,")")}:{gridTemplateRows:"repeat(".concat(l?m+2:m+1,", ").concat(ee," ").concat(te,")"),gridTemplateColumns:"repeat(".concat(l?f+2:f+1,", ").concat(ee," ").concat(te,")")},a.a.createElement("div",{className:n.FillBounder},a.a.createElement("div",{className:n.FillHeader,style:{width:"".concat(t.name.length/2,"em")},onClick:function(e){e.stopPropagation(),window.highlightedID=t.id,window.setLeftDrawerOpen(!0)}},t.name),a.a.createElement("div",{className:n.Fill,style:d,onClick:function(){window.highlightedID="",window.currSetHighlighted(!1),window.currSetHighlighted=function(e){},window.setLeftDrawerOpen(!1)}},l?p?a.a.createElement(Z,{row:0,col:0}):Q(0,l?m+2:m+1).map((function(e){return Q(0,l?f+2:f+1).map((function(t){return a.a.createElement(Z,{key:"".concat(e," ").concat(t),row:e,col:t})}))})).flat():null,t.childModules.map((function(e){var t=u[e];return a.a.createElement($,{key:t.id,mod:t,gridRow:2*t.row+1,gridCol:2*t.col+1})}))))},oe={overflowY:"hidden",overflowX:"scroll",display:"flex"};var ae=function(e){var t=e.children,n=e.className,r=e.style,i=Object(o.useRef)(null),l=Object.assign({},oe);return a.a.createElement("div",{ref:i,className:n,style:Object.assign(l,r),onWheel:function(e){i&&i.current&&(i.current.scrollLeft+=e.deltaY)}},t)},re=Object(l.a)({CenterMenuBounder:{backgroundColor:"rgba(0,0,0,0.7)",position:"absolute",top:0,left:0,width:"100vw",height:"100vh",zIndex:100},CenterMenu:{backgroundColor:f,position:"absolute",top:"50vh",left:"50vw",transform:"translate(-50%, calc(-50% - 50px))",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"2vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",minWidth:"15vw",padding:"1vmin 2vmin 2vmin 2vmin",border:"1px solid white"},Header:{padding:"1vmin 2vmin",margin:"0vmin 0vmin 2vmin 0vmin",borderColor:"white",borderStyle:"none none solid none",fontSize:j.large}});var ie=function(e){var t=e.children,n=e.header,o=e.onClose,r=re();return a.a.createElement("div",{className:r.CenterMenuBounder,onClick:function(e){e.stopPropagation(),o()}},a.a.createElement("div",{className:r.CenterMenu,onClick:function(e){e.stopPropagation()}},a.a.createElement("div",{className:r.Header},n),t))};Object(l.a)({TestingArea:{backgroundColor:"black",position:"absolute",top:"45vh",left:"25vw",width:"45vw",height:"50vh",display:"flex",flexDirection:"column",zIndex:150},ButtonDiv:{display:"flex",flexFlow:"row wrap"},Button:{margin:"2vmin",padding:"1vmin",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"}}});var le=Object(l.a)({Button:{backgroundColor:b,borderColor:"transparent",borderRadius:"1vmin",borderStyle:"solid","&:active":{borderColor:"transparent"},"&:hover":{cursor:"pointer",borderColor:"white"},display:"flex",alignItems:"center",justifyContent:"center",padding:"1vmin",margin:"1vmin",textAlign:"center"}});var ce=function(e){var t=e.onClick,n=e.children,o=e.style,r=le();return a.a.createElement("div",{className:r.Button,onClick:t,style:o},n)},de=n(3),ue=n(2),se=new(0,window.AudioContext),me=["sine","square","triangle","sawtooth"];var fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sine",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:440,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=se.createOscillator();function a(){o.stop()}function r(e){o.type=e}function i(e){o.frequency.value=Number(e)}function l(e){o.detune.value=Number(e)}o.type=e,o.frequency.setValueAtTime(t,se.currentTime),o.detune.setValueAtTime(n,se.currentTime);var c={"set type":r,"set frequency":i,"set detune":l,kill:a};return o.start(),{audioNode:o,paramIDs:[["type","TYPE"],["frequency",L],["detune",L],["kill","BUTTON"]],typeTypes:me,controls:c}};var pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=se.createGain();function n(e){t.gain.value=Number(e)}return t.gain.value=e,{audioNode:t,paramIDs:[["gain",L]],controls:{"set gain":n}}};var we=function(){return se.resume(),{audioNode:se.destination,paramIDs:[["resume","BUTTON"],["suspend","BUTTON"]],controls:{resume:function(){console.log("resuming"),se.resume()},suspend:function(){se.suspend()}}}},he=["lowpass","lowshelf","highpass","highshelf","allpass","bandpass","notch","peaking"];var ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lowpass",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=se.createBiquadFilter();function i(e){r.type=e}function l(e){r.frequency.value=Number(e)}function c(e){r.detune.value=Number(e)}function d(e){r.Q.value=Number(e)}function u(e){r.gain.value=Number(e)}r.type=e,r.frequency.setValueAtTime(t,se.currentTime),r.detune.setValueAtTime(n,se.currentTime),r.Q.setValueAtTime(o,se.currentTime),r.gain.setValueAtTime(a,se.currentTime);var s={"set type":i,"set frequency":l,"set detune":c,"set Q":d,"set gain":u};return{audioNode:r,paramIDs:[["type","TYPE"],["frequency",L],["detune",L],["Q",L],["gain",L]],typeTypes:he,controls:s}};var ve=function(){return function(e,t){switch(t){case"OSCILLATOR":window.audioModules=Object(ue.a)(Object(ue.a)({},window.audioModules),{},Object(de.a)({},e,fe()));break;case"GAIN":window.audioModules=Object(ue.a)(Object(ue.a)({},window.audioModules),{},Object(de.a)({},e,pe()));break;case"OUTPUT":window.audioModules=Object(ue.a)(Object(ue.a)({},window.audioModules),{},Object(de.a)({},e,we()));break;case"AUTOFILTER":window.audioModules=Object(ue.a)(Object(ue.a)({},window.audioModules),{},Object(de.a)({},e,ge()))}}};window.highlightedID="project",window.fillContainerID="project",window.linkToOutputID="",window.audioModules={},window.addModule=ve();var be=function(){var e=N(),t=Object(z.c)((function(e){return e.modules}));return a.a.createElement("div",{className:e.Bounder},a.a.createElement(G,null),a.a.createElement("div",{className:e.ModuleViewBounder},a.a.createElement(ne,{containerModule:t[window.fillContainerID]})),a.a.createElement(H,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=n(10),De=n(20),xe=n(9),ye=function(e,t){var n,o,a=t.id,r=t.name,i=t.moduleType,l=t.row,c=t.col,d=t.parentID;switch(i){case"CONTAINER":return Object.assign({},e,(n={},Object(de.a)(n,a,{id:a,name:r,row:l,col:c,parentID:d,moduleType:i,inputs:[],outputs:[],childModules:[],isBaseContainer:!1}),Object(de.a)(n,d,Object(ue.a)(Object(ue.a)({},e[d]),{},{childModules:[].concat(Object(xe.a)(e[d].childModules),[a])})),n));default:return Object.assign({},e,(o={},Object(de.a)(o,a,{id:a,name:r,row:l,col:c,parentID:d,moduleType:i,inputs:[],outputs:[]}),Object(de.a)(o,d,Object(ue.a)(Object(ue.a)({},e[d]),{},{childModules:[].concat(Object(xe.a)(e[d].childModules),[a])})),o))}},Ce=function(e,t){var n=t.id,o=e[n].parentID,a=Object.fromEntries(Object.entries(e).filter((function(e){return e[0]!==n})));return Object.assign({},a,Object.fromEntries(Object.entries(a).map((function(e){return[e[0],Object(ue.a)(Object(ue.a)({},e[1]),{},{inputs:e[1].inputs.filter((function(e){return e[0]!==n})),outputs:e[1].outputs.filter((function(e){return e[0]!==n}))})]}))),Object(de.a)({},o,Object(ue.a)(Object(ue.a)({},e[o]),{},{childModules:e[o].childModules.filter((function(e){return e!==n}))})))},Ie=function(e,t){var n=t.id,o=t.newRow,a=t.newCol;return Object.assign({},e,Object(de.a)({},n,Object(ue.a)(Object(ue.a)({},e[n]),{},{row:o,col:a})))},je=function(e,t){var n=t.id,o=t.newName;return Object.assign({},e,Object(de.a)({},n,Object(ue.a)(Object(ue.a)({},e[n]),{},{name:o})))},Ee=function(e,t){var n,o=t.fromID,a=t.toID,r=t.param;return Object.assign({},e,(n={},Object(de.a)(n,a,Object(ue.a)(Object(ue.a)({},e[a]),{},{inputs:[].concat(Object(xe.a)(e[a].inputs),[[o,r]])})),Object(de.a)(n,o,Object(ue.a)(Object(ue.a)({},e[o]),{},{outputs:[].concat(Object(xe.a)(e[o].outputs),[[a,r]])})),n))},Ne=function(e,t){var n,o=t.fromID,a=t.toID,r=t.param;return Object.assign({},e,(n={},Object(de.a)(n,a,Object(ue.a)(Object(ue.a)({},e[a]),{},{inputs:e[a].inputs.filter((function(e){return e[0]!==o||e[1]!==r}))})),Object(de.a)(n,o,Object(ue.a)(Object(ue.a)({},e[o]),{},{outputs:e[o].outputs.filter((function(e){return e[0]!==a||e[1]!==r}))})),n))},Te={project:{id:"project",name:"project",row:0,col:0,moduleType:"CONTAINER",inputs:[],outputs:[],parentID:null,childModules:[],isBaseContainer:!0}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MODULE":return ye(e,t);case"REMOVE_MODULE":return Ce(e,t);case"MOVE_MODULE":return Ie(e,t);case"RENAME_MODULE":return je(e,t);case"ADD_CONNECTION":return Ee(e,t);case"REMOVE_CONNECTION":return Ne(e,t);default:return e}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"project",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOWN_1_BASE":case"CHANGE_BASE":return t.newID;default:return e}},Me=Object(Oe.combineReducers)({modules:ke,baseContainerID:Se}),Re=Object(Oe.createStore)(Me,Object(De.composeWithDevTools)());i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(z.a,{store:Re},a.a.createElement(be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.e922ae33.chunk.js.map