{"version":3,"sources":["theme/zIndex.ts","App/style.ts","audioModules/moduleTypes.ts","redux/modules/moduleActions.ts","redux/modules/moduleActionTypes.ts","redux/connections/connectionActions.ts","redux/connections/connectionActionTypes.ts","redux/root/rootActions.ts","redux/root/rootActionTypes.ts","audioCtx.ts","audioModules/modules/constant.ts","audioModules/modules/autoFilter.ts","audioModules/modules/output.ts","audioModules/modules/stereoPanner.ts","audioModules/modules/signalDelay.ts","audioModules/modules/kompressor.ts","audioModules/modules/gain.ts","audioModules/modules/oscillator.ts","audioModules/modules/lineInput.ts","audioModules/modules/container.ts","audioModules/modules/mediaElement.ts","audioModules/modules/distortion.ts","audioModules/modules/analyzer.ts","audioModules/modules/envelopedTrigger.ts","audioModules/modules/whiteNoise.ts","audioModules/modules/tuner.ts","audioModules/makeAddModule.ts","components/PointerLayer/makeData.ts","components/PointerLayer/style.ts","components/PointerLayer/PointerLayer.tsx","App/configureSpaceDB.ts","App/setUserAgent.ts","theme/theme.ts","components/ContextMenus/ContextMenu/style.ts","components/Conditional/Conditional.tsx","components/ContextMenus/ContextMenu/ContextMenu.tsx","components/ContextMenus/ContextMenu/helpers.ts","components/Flex/style.ts","components/Flex/FlexRow.tsx","theme/moduleColor.ts","components/AutoPlacingGrid.tsx/style.ts","components/AutoPlacingGrid.tsx/AutoPlacingGrid.tsx","components/Flex/FlexCol.tsx","audioModules/connection.ts","components/ContextMenus/ConnectionMenu/helpers.ts","components/ContextMenus/ConnectionMenu/style.ts","components/ContextMenus/ConnectionMenu/InModule.tsx","components/ContextMenus/ConnectionMenu/ContainerInModule.tsx","components/ContextMenus/ConnectionMenu/OutModule.tsx","components/ContextMenus/ConnectionMenu/ContainerOutModule.tsx","components/ContextMenus/ConnectionMenu/ConnectionMenu.tsx","components/Button/style.ts","components/Button/Button.tsx","components/SVG/TrashSVG.tsx","components/ContextMenus/style.ts","components/ContextMenus/DeleteButton.tsx","components/ContextMenus/Module/ModuleDeleteButton.tsx","components/ContextMenus/Module/style.ts","components/ContextMenus/Module/InputOutputView.tsx","components/ContextMenus/Module/ContainerOpenButton.tsx","components/ContextMenus/Module/SpaceDBSaveButton.tsx","components/Switch/style.ts","components/Switch/Switch.tsx","components/ContextMenus/Module/MarkContainerControls.tsx","components/ContextMenus/Module/MarkContainerIO.tsx","components/ContextMenus/Module/FileSaveButton.tsx","components/ContextMenus/Module/ModuleContextMenu.tsx","components/ContextMenus/SpaceDB/Modules/ModuleDeleteButton.tsx","components/ContextMenus/SpaceDB/Modules/SDBModuleContextMenu.tsx","components/ContextMenus/SpaceDB/Projects/ProjectDeleteButton.tsx","components/ContextMenus/SpaceDB/Projects/SDBProjectContextMenu.tsx","components/ContextMenus/ContextMenus.tsx","components/ModuleView/style.ts","components/LargeIcon/style.ts","components/LargeIcon/controls/style.ts","components/LargeIcon/controls/File.tsx","components/LargeIcon/controls/Type.tsx","helpers/genFuncs.ts","components/Knob/helpers.ts","components/Knob/style.ts","components/Knob/StatelessKnob.tsx","components/LargeIcon/controls/Value.tsx","components/LargeIcon/controls/Button.tsx","components/LargeIcon/controls/Switch.tsx","components/LargeIcon/controls/Graph.tsx","components/BabylonCanvas/style.ts","components/BabylonCanvas/BabylonCanvas.tsx","redux/helpers.ts","helpers/notes.ts","components/LargeIcon/controls/Tuner/makeDial.ts","components/LargeIcon/controls/Tuner/Tuner.tsx","components/LargeIcon/controls/Pad.tsx","components/LargeIcon/ControlMenu.tsx","components/LargeIcon/ContainerControlMenu.tsx","components/DropSquare/style.ts","components/ModuleView/helpers.ts","redux/getContainerAsProject.ts","audioModules/restoreAudioModule.ts","audioModules/mergeExistingAM.ts","redux/idGen.ts","redux/replicateContainer.ts","redux/replicateModule.ts","components/DropSquare/callbacks.ts","components/DropSquare/DropSquare.tsx","components/ModuleView/Icon.tsx","components/ModuleView/callbacks.ts","components/ModuleView/Fill.tsx","components/RightDrawer/style.ts","components/RightDrawer/HeaderItem.tsx","audioModules/restoreAMFromState.ts","components/RightDrawer/SpaceDBMenu.tsx","components/RightDrawer/FileMenu/BlankProjectButton.tsx","helpers/fileAccess.ts","components/RightDrawer/FileMenu/OpenFileButton.tsx","components/RightDrawer/FileMenu/SaveAsNewButton.tsx","components/RightDrawer/FileMenu/SaveCurrentButton.tsx","components/RightDrawer/FileMenu/FileMenu.tsx","components/RightDrawer/RightDrawer.tsx","components/AudioTags/AudioTag.tsx","components/AudioTags/AudioTags.tsx","components/CenterMenus/RangeSetMenu/style.ts","components/CenterMenus/CenterMenu/style.ts","components/CenterMenus/CenterMenu/CenterMenu.tsx","components/CenterMenus/RangeSetMenu/KnobRangeSetMenu.tsx","components/CenterMenus/SaveMenu/style.ts","components/CenterMenus/SaveMenu/SpaceDBProjectSaveMenu.tsx","components/CenterMenus/ConfirmDeleteMenu/ConfirmDeleteMenu.tsx","components/CenterMenus/SaveMenu/helpers.ts","components/CenterMenus/SaveMenu/FileContainerSaveMenu.tsx","components/CenterMenus/SaveMenu/SpaceDBContainerSaveMenu.tsx","components/CenterMenus/RangeSetMenu/AnalyzerRangeSetMenu.tsx","components/CenterMenus/RenameMenu/style.ts","components/CenterMenus/RenameMenu/RenameMenu.tsx","components/CenterMenus/RenameMenu/RenameModuleMenu.tsx","components/CenterMenus/RenameMenu/RenameControlMenu.tsx","components/CenterMenus/AddModuleMenu/style.ts","components/CenterMenus/AddModuleMenu/LeftBar.tsx","components/CenterMenus/AddModuleMenu/Icons/style.ts","components/CenterMenus/AddModuleMenu/Icons/base/ModuleIcon.tsx","components/CenterMenus/AddModuleMenu/Icons/base/ModuleIcons.tsx","components/CenterMenus/AddModuleMenu/Icons/base/moduleData.ts","components/CenterMenus/AddModuleMenu/Icons/spaceDB/SpaceDBModuleIcon.tsx","components/CenterMenus/AddModuleMenu/Icons/spaceDB/SpaceDBModules.tsx","components/CenterMenus/AddModuleMenu/Icons/file/FileModuleIcon.tsx","components/CenterMenus/AddModuleMenu/Icons/SearchIcons.tsx","components/CenterMenus/AddModuleMenu/Icons/file/FileModules.tsx","components/CenterMenus/AddModuleMenu/IconRouter.tsx","components/CenterMenus/AddModuleMenu/SearchBar.tsx","components/CenterMenus/AddModuleMenu/AddModuleMenu.tsx","redux/modules/reducers/addModule.ts","redux/modules/reducers/moveModule.ts","redux/modules/reducers/renameModule.ts","redux/modules/reducers/markContainerInput.ts","redux/modules/reducers/unmarkContainerInput.ts","redux/modules/reducers/markContainerOutput.ts","redux/modules/reducers/unmarkContainerOutput.ts","redux/modules/reducers/markContainerControl.ts","redux/modules/reducers/unmarkContainerControl.ts","redux/modules/reducers/renameContainerControl.ts","redux/modules/reducers/updateControlValue.ts","redux/modules/reducers/updateControlRange.ts","redux/modules/moduleReducer.ts","redux/baseContainerID/bcidReducer.ts","redux/baseContainerID/bcidActionTypes.ts","redux/connections/reducers/addConnection.ts","redux/connections/reducers/removeConnection.ts","redux/connections/reducers/removeModule.ts","redux/connections/reducers/mergeContainer.ts","redux/connections/connectionReducer.ts","redux/rootReducer.ts","components/RightDrawer/FileMenu/ConfirmBlankProject.tsx","components/CenterMenus/CenterMenus.tsx","components/Notification/makeData.ts","components/Notification/style.ts","components/Notification/Notification.tsx","App/App.tsx","serviceWorker.ts","redux/store.ts","index.tsx","icons/trash.svg","icons/settings.svg"],"names":["zIndex","useJSS","createUseStyles","Bounder","backgroundImage","backgroundPosition","width","height","display","fontSize","color","position","top","left","userSelect","overflow","ModuleViewBounder","minWidth","flexDirection","alignItems","justifyContent","CONTAINER","VALUE","addModule","id","name","moduleType","controlData","parentID","row","col","connectionInputs","connectionOutputs","type","moveModule","newRow","newCol","markContainerControl","modID","controlID","actualModID","unmarkContainerControl","updateControlValue","newValue","updateControlRange","newRange","addConnection","fromID","toID","param","outputIndex","inputIndex","containerOutputChildID","containerInputChildID","removeConnection","connectionID","mergeContainer","containerID","newModules","newConnections","restoreFromState","state","audioCtx","window","AudioContext","webkitAudioContext","makeConstantSource","prevControlData","constantSource","createConstantSource","offset","value","controlSetFuncs","Number","stop","start","audioNode","connectingParamIDs","filterTypes","makeAutoFilter","autoFilter","createBiquadFilter","frequency","detune","Q","gain","newType","newFrequency","newDetune","newQ","newGain","typeTypes","makeOutput","resume","masterGain","createGain","connect","destination","arg","suspend","makeStereoPanner","stereoPanner","createStereoPanner","pan","newPan","makeSignalDelay","signalDelay","createDelay","delayTime","newDelayTime","makeKompressor","kompressor","createDynamicsCompressor","threshold","knee","ratio","attack","release","newThreshold","newKnee","newRatio","newAttack","newRelease","makeGain","oscillatorTypes","makeOscillator","oscillator","createOscillator","makeLineInput","navigator","mediaDevices","getUserMedia","audio","echoCancellation","autoGainControl","noiseSuppression","latency","then","stream","lineInput","createMediaStreamSource","channelSplitter","createChannelSplitter","lineInputModule","getAudioTracks","enabled","audioModules","makeContainer","makeMediaElement","audioRef","current","url","src","pause","play","createMediaElementSource","ref","makeDistortionCurve","amount","x","k","curve","Float32Array","deg","Math","PI","i","abs","makeDistortion","distortion","createWaveShaper","newAmount","newOversample","floor","oversample","makeAnalyzer","analyzer","createAnalyser","fftSize","bufferLength","frequencyBinCount","timeArray","makeEnvelopedTrigger","constant","decay","sustain","val","currTime","currentTime","linearRampToValueAtTime","setTargetAtTime","cancelAndHoldAtTime","bufferSize","sampleRate","makeWhiteNoise","buffer","createBuffer","data","getChannelData","random","noise","createBufferSource","loop","downSample","freqArray","harmonic","over","map","num","getFreqFromIndex","index","makeTuner","pow","smoothingTimeConstant","getFloatFrequencyData","maxBin","maxdB","harmonicArray","numHarmonics","min","harmonicCopy","add","addHarmonics","makeAddModule","dispatch","osc","oscControlData","controlType","paramID","range","gainControlData","output","outputControlData","maxRange","filter","filterControlData","komp","kompControlData","panner","pannerControlData","delay","delayControlData","constantControlData","mediaControlData","addAudioTag","reRenderAudioTags","container","containerControlData","distortionControlData","analyzerControlData","envelopedTrigger","envelopedTriggerControlData","whiteNoise","whiteNoiseControlData","tuner","tunerControlData","makePointerLayerData","isOpen","pointerId","onPointerMove","onPointerUp","PointerLayer","pointerLayerData","resetPointerLayerData","classes","pointerLayerRef","useRef","useEffect","className","e","configureSpaceDB","spaceDB","feathers","restClient","rest","configure","fetch","projectSaveService","service","containerSaveService","setUserAgent","userAgent","toLowerCase","indexOf","usingElectron","colors","sizes","toggleWidth","item","iconGrid","gutterGrid","icon","bigIconWidth","bigIconHeight","large","medium","small","xsmall","xxsmall","size","borderRadius","smallSize","smallBorderRadius","markerWidth","markerHeight","rotRange","sensitivity","borderWidth","diameter","leftBarWidth","iconRouterWidth","ContextMenuBounder","backgroundColor","opacity","visibility","ContextMenu","maxHeight","padding","overflowY","MenuItem","maxWidth","borderStyle","borderColor","Conditional","children","showIf","onClose","bounderStyle","style","event","cmRef","innerHeight","pageY","offsetHeight","innerWidth","pageX","offsetWidth","onPointerDown","Object","assign","stopPropagation","FlexRow","flexWrap","FlexCol","getModuleColor","AutoPlacingGrid","gridTemplateRows","numRows","gridTemplateColumns","numCols","gridAutoFlow","direction","gridAutoRows","gridAutoColumns","gap","justifyItems","onDrop","onDragOver","fromMod","toMod","length","alert","disconnect","connectionExists","connections","actualToID","newOutputIndex","newInputIndex","newParam","outputs","actualInputID","testingID","executeConnection","actualFromID","modules","am","isFromContainer","isToContainer","undefined","flashNotification","Module","flexGrow","flexShrink","boxShadow","IconConnector","cursor","ConnectorBounder","Name","whiteSpace","marginBottom","ConnectorName","ParamName","ConnectionReciever","SmallConnectionReciever","InModule","startsBig","mod","useSelector","audioMod","useState","isBig","setBig","useDispatch","onClick","marginRight","input","key","preventDefault","dataTransfer","getData","ContainerInModule","isBase","modInputs","childrenStartBig","inputModID","OutModule","draggable","onDragStart","setData","toString","ContainerOutModule","modOutputs","outputModID","makeData","ConnectionMenu","openConnectionMenu","Button","notClickable","margin","textAlign","onKeyDown","onContextMenu","TrashSVG","alt","trashSVG","DeleteButtonBounder","DeleteButtonSVG","DeleteButton","ModuleDeleteButton","selectedModule","inputs","forEach","inputData","actualOutputID","outputData","Connection","MenuHeader","OpenButton","SaveButton","InputOutputView","ContainerOpenButton","fillContainerID","reRenderFillContainer","SpaceDBSaveButton","find","containerSaves","openSpaceDBContainerSaveMenu","SwitchSVG","marginLeft","Text","fullWidth","fullHeight","rectWidth","rectHeight","rectX","circleCY","Switch","text","onSwitch","initState","isSwitched","setSwitched","spring","useSpring","cx","fill","config","tension","y","rx","ry","circle","cy","r","MarkContainerControls","open","containerControls","keys","control","containerControl","markedToContainer","modName","isMarked","nowMarked","openControlRenameMenu","switchStyle","MarkContainerIO","baseContainerID","showingContainerInput","showingContainerOutput","isContainerInput","newState","unmarkContainerInput","isContainerOutput","unmarkContainerOutput","FileSaveButton","openFileContainerSaveMenu","ModuleContextMenu","openModuleContextMenu","title","openModuleRenameMenu","saveName","remove","res","console","log","refreshSpaceDBModules","SDBModuleContextMenu","openSDBModuleContextMenu","ProjectDeleteButton","setSaveList","openConfirmDeleteMenu","setTimeout","saveNames","SDBProjectContextMenu","openSDBProjectContextMenu","ContextMenus","FillBounder","FillHeaderBounder","FillHeader","Fill","minHeight","rowGap","columnGap","ArcherContainer","Icon","flexFlow","IconControlContainer","justifySelf","overflowX","ArcherElement","IconName","alignSelf","ControlBounder","ControlMenu","ControlTypeSelect","ControlInput","Pad","SrcName","overflowWrap","wordWrap","hyphens","File","setFunc","reRenderIcon","label","htmlFor","onChange","file","target","files","URL","createObjectURL","audioTags","srcName","Type","audioModule","stringIn","str","ar","bothStringsIn","str1","str2","out","push","clamp","max","inRange","mapValBetweenRanges","fromRange","toRange","valProportion","toRangeDif","getRotation","makeValString","roundedNumString","slice","KnobContainer","placeItems","KnobSVG","gridRow","gridColumn","KnobText","InteractionLayer","SettingsButton","placeSelf","justClicked","StatelessKnob","initValue","onEveryChange","onSettingsClick","inputVal","setInputVal","svgRef","scale","tempVal","textRef","movementY","transform","stroke","strokeWidth","onBlur","newVal","blur","shiftKey","placeholder","focus","openPointerLayer","settingsSVG","ValueControl","displayModName","currRange","openKnobRangeSetMenu","ButtonControl","SwitchControl","Graph","yRange","zero","setWidth","setup","p5","canvasParentRef","createCanvas","clientWidth","parent","CENTER","draw","getFloatTimeDomainData","xStep","background","currX","currY","strokeWeight","nextX","nextY","line","zeroXStep","openAnalyzerRangeSetMenu","BabylonCanvas","onRender","onSceneReady","antialias","engineOptions","adaptToDeviceRatio","sceneOptions","reactCanvas","engine","Engine","scene","Scene","isReady","onReadyObservable","addOnce","runRenderLoop","render","resize","getEngine","addEventListener","dispose","removeEventListener","filterOutFromObj","obj","idsToFilterOut","fromEntries","entries","entry","keepOnlyIdsInObj","idsToKeep","ObjFrom2Arrays","notes","keysNoSharp","note","notesNoSharp","noteIndices","noteFreqRange","dialRange","makeTextPlane","textPlane","MeshBuilder","CreatePlane","sourcePlane","Plane","textMat","AdvancedDynamicTexture","CreateForMesh","textBlock","TextBlock","addControl","makeDial","dialMat","StandardMaterial","tickMat","diffuseColor","Color3","dial","CreateCylinder","tessellation","material","cullingStrategy","AbstractMesh","CULLINGSTRATEGY_OPTIMISTIC_INCLUSION","tickPos","tickNode","TransformNode","tick","CreateBox","depth","rotation","noteTextPlane","freqTextPlane","Tuner","frame","clearColor","Color4","FromHexString","ambientColor","camPos","Vector3","TargetCamera","setTarget","lightPos","light","PointLight","diffuse","specular","maxFreq","getMeshByName","marginTop","PadControl","onPointerCancel","Value","ContainerControlMenu","DropSquare","onlyOneConnectionOption","onlyOneOutput","onlyOneInput","onlyOne","getChildrenRecursive","childIDs","childModules","containerChildIDs","getInternalConnectionIDs","trimmedIDs","allConnectionIDs","connectionIDs","getInternalConnections","getContainerModulesConnections","restoreAudioModule","mergeExistingContainerAM","toType","fromType","genRandomID","totNumber","getReplicatedState","totNumberModules","totNumberConnections","modIDs","modIDConverter","connectionIDConverter","values","containerMod","outputID","inputID","connection","performContainerMerge","modulesToMerge","connectionsToMerge","duplicateModule","newID","setHL","currentChildren","possiblyMod","possiblyOccupyingID","isOccupied","fromRow","fromCol","refreshArcherContainer","moduleDragType","MOVE","COPY","duplicateContainer","dropType","get","isHL","dsStyle","onDragEnter","types","onDragLeave","openAddModuleMenu","onPointerEnter","onPointerLeave","ModuleViewIcon","gridCol","isLarge","setLarge","reRender","toReRender","archerElementStyle","iconStyle","nameStyle","persist","iconOnDrop","iconOnDragStart","relations","targetId","targetAnchor","sourceAnchor","strokeColor","ModuleViewFill","gridStyle","containerModule","maxRow","maxCol","moduleID","getGridRange","isEmpty","archerContainerRef","refreshScreen","svgContainerStyle","arrowLength","flat","DrawerBounder","right","Drawer","DrawerHeader","DrawerHeaderItem","textDecoration","ItemRouter","alignContent","Toggle","ToggleLine","SDBSaveList","HeaderItem","linkStyle","selectedRoute","restoreAMFromState","prevConnections","numberRestores","connectLate","numTries","buttonStyle","SpaceDBMenu","saveList","openSpaceDBProjectSaveMenu","savedState","BlankProjectButton","numMods","openConfirmBlankProjectMenu","saveJSONToFileHandle","fileHandle","json","a","createWritable","writable","write","JSON","stringify","close","loadJSONFromPickedFile","onFileHandle","showOpenFilePicker","getFile","parse","saveJSONToChosenFile","onSaved","showSaveFilePicker","description","accept","saveFileHandle","getTrimmedSMFileName","getDirectoryContentNames","dirHandle","names","getDirectorySMMNames","allNames","saveSMM","containerSave","getFileHandle","create","getSavedSMMFromName","stringData","OpenFileButton","SaveAsNewButton","SaveCurrentButton","FileMenu","reRenderFileMenu","drawerWidth","addPx","RightDrawer","setOpen","drawerSpring","setSR","drawerRef","toggleRef","drawerHeaderRef","itemRouterRef","vw","document","documentElement","adjusting","div","setPointerCapture","clientX","releasePointerCapture","onWheel","scrollLeft","deltaY","AudioTag","possiblyMediaElement","autoPlay","AudioTags","ids","CMInputBounder","CenterMenuInput","CenterMenuBounder","backdropFilter","CenterMenu","border","Header","isClosed","headerClassName","headerStyle","header","onChangeSubmit","KnobRangeSetMenu","setMin","setMax","setMaxRange","preOnClose","SpaceDBProjectSaveMenu","setSaveName","message","confirmSaveData","setConfirmSaveData","inputRef","autoFocus","update","ConfirmDeleteMenu","confirmContainerSaveName","success","saveContainerToFile","save","moduleDirectoryHandle","initName","FileContainerSaveMenu","confirmOpen","setConfirmOpen","containerModID","trySaveModule","fileModuleSaveNames","SpaceDBContainerSaveMenu","setName","AnalyzerRangeSetMenu","InputSubmit","Error","RenameMenu","onSubmit","setVal","isTooShort","setIsTooShort","trySubmit","toRenameID","RenameModuleMenu","newName","renameModule","parentModID","RenameControlMenu","renameContainerControl","LeftBar","LeftBarButton","RouterBounder","IconRouter","SearchBar","outline","selectedGroup","setSG","addModuleMenuGroups","group","SPACEDB_MODULES","DrawerItem","DrawerIcon","DrawerItemText","ModuleIcon","fullName","shortName","isFocussed","totNumModules","addSelectedSearchModule","onFocus","ModuleIcons","moduleData","effectModuleData","sourceModuleData","utilityModuleData","allModuleData","concat","SpaceDBModuleIcon","moduleName","SpaceDBModules","spaceDBModules","totNumConnections","FileModuleIcon","SearchIcons","query","upperCaseQuery","toUpperCase","filteredSpaceDBModules","filteredModuleData","filteredFileModules","FileModules","fileModules","setFileModules","showDirectoryPicker","prevSelectedGroup","EFFECTS","SOURCES","UTILITY","FILE_MODULES","SEARCH","setQuery","searchRef","AddModuleMenu","setSpaceDBModules","styleSpring","toContainerControls","isBaseContainer","renameContainer","markContainerInput","markContainerOutput","moduleReducer","action","addModuleReducer","moveModuleReducer","renameModuleReducer","markContainerInputReducer","unmarkContainerInputReducer","markContainerOutputReducer","unmarkContainerOutputReducer","markContainerControlReducer","unmarkContainerControlReducer","updateControlValueReducer","updateControlRangeReducer","renameContainerControlReducer","bcidReducer","removeModule","toTrimModIDs","getContainerIDs","toTrimConnectionIDs","trimmedModules","childID","connectionReducer","createInitState","combinedModuleConnectionReducer","rootReducer","makeBlankProject","emptyState","ConfirmBlankProject","CenterMenus","makeNotificationData","Notification","setNotificationData","isVisible","setIsVisible","notificationTime","App","setPointerLayerData","Boolean","location","hostname","match","store","createStore","composeWithDevTools","ReactDOM","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch","error","module","exports"],"mappings":"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","file":"static/js/main.4cc6b3aa.chunk.js","sourcesContent":["interface ZIndex {\n  [index: string]: number\n}\n\nexport const zIndex: ZIndex = {\n  background: -1,\n  centerMenu: 100,\n  contextMenu: 50,\n  moduleViewBounder: 0,\n}","import { createUseStyles } from 'react-jss'\nimport { zIndex } from '../theme/zIndex'\n//import { colors } from '../theme/theme'\n\nconst useJSS = createUseStyles({\n  Bounder: {\n    //backgroundColor: colors.grey,\n    //backgroundImage: 'url(https://media.wired.com/photos/5a593a7ff11e325008172bc2/master/pass/pulsar-831502910.jpg)',\n    backgroundImage: 'url(https://i.imgur.com/mSjoh6M.jpg)',\n    backgroundPosition: 'center',\n    width: '100vw',\n    height: '100vh',\n    display: 'flex',\n    fontSize: 'calc(20px + 2vmin)',\n    color: 'white',\n    position: 'absolute',\n    top: '0px',\n    left: '0px',\n    userSelect: 'none',\n    zIndex: zIndex.background,\n    overflow: 'hidden',\n  },\n\n  ModuleViewBounder: {\n    minWidth: '60vw',\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    zIndex: zIndex.moduleViewBounder,\n    overflow: 'scroll',\n    '&::-webkit-scrollbar': {\n      width: '0px',\n    },\n  }\n})\n\nexport default useJSS","import { OscillatorModule } from './modules/oscillator'\nimport { GainModule } from './modules/gain'\nimport { OutputModule } from './modules/output'\nimport { AutoFilterModule } from './modules/autoFilter'\nimport { KompressorModule } from './modules/kompressor'\nimport { StereoPannerModule } from './modules/stereoPanner'\nimport { SignalDelayModule } from './modules/signalDelay'\nimport { ConstantModule } from './modules/constant'\nimport { MediaElementModule } from './modules/mediaElement'\nimport { LineInputModule } from './modules/lineInput'\nimport { ContainerModule } from './modules/container'\nimport { DistortionModule } from './modules/distortion'\nimport { AnalyzerModule } from './modules/analyzer'\nimport { WhiteNoiseModule } from './modules/whiteNoise'\nimport { TunerModule } from './modules/tuner'\n\n// module types\n\nexport const GAIN = 'GAIN'\nexport const OSCILLATOR = 'OSCILLATOR'\nexport const OUTPUT = 'OUTPUT'\nexport const AUTOFILTER = 'AUTOFILTER'\nexport const KOMPRESSOR = 'KOMPRESSOR'\nexport const STEREO_PANNER = 'STEREO_PANNER'\nexport const SIGNAL_DELAY = 'SIGNAL_DELAY'\nexport const CONSTANT = 'CONSTANT'\nexport const MEDIA_ELEMENT = 'MEDIA_ELEMENT'\nexport const LINE_IN = 'LINE_IN'\nexport const CONTAINER = 'CONTAINER'\nexport const DISTORTION = 'DISTORTION'\nexport const ANALYZER = 'ANALYZER'\nexport const ENVELOPED_TRIGGER = 'ENVELOPED_TRIGGER'\nexport const WHITE_NOISE = 'WHITE_NOISE'\nexport const TUNER = 'TUNER'\n\nexport type ModuleType = 'OSCILLATOR' | 'CONTAINER' | 'OUTPUT' | 'GAIN' | 'AUTOFILTER' | 'KOMPRESSOR' | 'STEREO_PANNER' | 'SIGNAL_DELAY' | 'CONSTANT' | 'MEDIA_ELEMENT' | 'LINE_IN' | 'DISTORTION' | 'ANALYZER' | 'ENVELOPED_TRIGGER' | 'WHITE_NOISE' | 'TUNER'\n\nexport type AudioModuleWithTypes = OscillatorModule | AutoFilterModule\n\nexport type ConnectingAudioModule = OscillatorModule | GainModule | AutoFilterModule | KompressorModule | StereoPannerModule | SignalDelayModule | ConstantModule | MediaElementModule | LineInputModule | OutputModule | DistortionModule | AnalyzerModule | WhiteNoiseModule | TunerModule\n\nexport type AudioModule = ConnectingAudioModule | ContainerModule\n\nexport interface AudioModules {\n  [index: string]: AudioModule\n}\n\n// control types\n\nexport const NONE = 'NONE' // no control rendered, but the func is available\nexport const TYPE = 'TYPE'\nexport const VALUE = 'VALUE'\nexport const BUTTON = 'BUTTON'\nexport const FILE = 'FILE'\nexport const INFO = 'INFO'\nexport const SWITCH = 'SWITCH'\nexport const GRAPH = 'GRAPH'\nexport const PAD = 'PAD'\nexport const TUNER_CONTROL = 'TUNER_CONTROL'\n\nexport type ControlType = 'NONE' | 'TYPE' | 'VALUE' | 'BUTTON' | 'FILE' | 'INFO' | 'SWITCH' | 'GRAPH' | 'PAD' | 'TUNER_CONTROL'\nexport type Value = number | string | boolean\nexport type SetFunc = (arg: string) => number | number[] | void\nexport type Range = [number, number] // min / max\n\nexport interface ControlDataPacket {\n  controlType: ControlType\n  paramID?: string\n  value?: Value // need either paramID or value\n  range?: Range\n  maxRange?: Range // the max the range can be set to be\n  markedToContainer?: boolean\n}\n\nexport interface ControlData {\n  [controlID: string]: ControlDataPacket\n}\n\nexport interface ControlSetFuncs {\n  [controlID: string]: SetFunc\n}\n\nexport interface BaseAM {\n  connectingParamIDs: string[]\n  controlSetFuncs: ControlSetFuncs\n}\n\n\n","import { \n  ADD_MODULE,\n  MOVE_MODULE, \n  RENAME_MODULE,\n  MARK_CONTAINER_INPUT,\n  UNMARK_CONTAINER_INPUT,\n  MARK_CONTAINER_OUTPUT,\n  UNMARK_CONTAINER_OUTPUT,\n  MARK_CONTAINER_CONTROL,\n  UNMARK_CONTAINER_CONTROL,\n  UPDATE_CONTROL_VALUE,\n  UPDATE_CONTROL_RANGE,\n  RENAME_CONTAINER_CONTROL,\n} from './moduleActionTypes'\nimport { ModuleType, ControlData, Range, Value } from '../../audioModules/moduleTypes'\nimport { AddModuleAction, MoveModuleAction, RenameModuleAction, MarkContainerIOAction, MarkContainerControlAction, UpdateControlValueAction, UpdateControlRangeAction, RenameContainerControlAction } from './moduleTSTypes'\n\nexport const addModule = (id: string, name: string, moduleType: ModuleType, controlData: ControlData, parentID: string, row: number, col: number, connectionInputs: string[], connectionOutputs: string[]): AddModuleAction => {\n  return {\n    type: ADD_MODULE,\n    moduleType,\n    id,\n    name,\n    controlData,\n    row,\n    col,\n    parentID,\n    connectionInputs,\n    connectionOutputs,\n  }\n}\n\nexport const moveModule = (id: string, newRow: number, newCol: number): MoveModuleAction => {\n  return {\n    type: MOVE_MODULE,\n    id,\n    newRow,\n    newCol,\n  }\n}\n\nexport const renameModule = (id: string, newName: string): RenameModuleAction => {\n  return {\n    type: RENAME_MODULE,\n    id,\n    newName,\n  }\n}\n\nexport const markContainerInput = (id: string): MarkContainerIOAction => {\n  return {\n    type: MARK_CONTAINER_INPUT,\n    id,\n  }\n}\n\nexport const unmarkContainerInput = (id: string): MarkContainerIOAction => {\n  return {\n    type: UNMARK_CONTAINER_INPUT,\n    id,\n  }\n}\nexport const markContainerOutput = (id: string): MarkContainerIOAction => {\n  return {\n    type: MARK_CONTAINER_OUTPUT,\n    id,\n  }\n}\n\nexport const unmarkContainerOutput = (id: string): MarkContainerIOAction => {\n  return {\n    type: UNMARK_CONTAINER_OUTPUT,\n    id,\n  }\n}\n\nexport const markContainerControl = (modID: string, controlID: string, actualModID: string, name?: string): MarkContainerControlAction => {\n  return {\n    type: MARK_CONTAINER_CONTROL,\n    modID,\n    controlID,\n    actualModID,\n    name,\n  }\n}\n\nexport const renameContainerControl = (name: string, parentModID: string, modID: string, controlID: string, actualModID: string): RenameContainerControlAction => {\n  return {\n    type: RENAME_CONTAINER_CONTROL,\n    name,\n    parentModID,\n    modID,\n    controlID,\n    actualModID,\n  }\n}\n\nexport const unmarkContainerControl = (modID: string, controlID: string, actualModID: string): MarkContainerControlAction => {\n  return {\n    type: UNMARK_CONTAINER_CONTROL,\n    modID,\n    controlID,\n    actualModID,\n  }\n}\n\nexport const updateControlValue = (modID: string, controlID: string, newValue: Value): UpdateControlValueAction => {\n  return {\n    type: UPDATE_CONTROL_VALUE,\n    modID,\n    controlID,\n    newValue,\n  }\n}\n\nexport const updateControlRange = (modID: string, controlID: string, newRange: Range): UpdateControlRangeAction => {\n  return {\n    type: UPDATE_CONTROL_RANGE,\n    modID,\n    controlID,\n    newRange,\n  }\n}","export const ADD_MODULE = 'ADD_MODULE'\nexport const MOVE_MODULE = 'MOVE_MODULE'\nexport const RENAME_MODULE = 'RENAME_MODULE'\nexport const MARK_CONTAINER_INPUT = 'MARK_CONTAINER_INPUT'\nexport const UNMARK_CONTAINER_INPUT = 'UNMARK_CONTAINER_INPUT'\nexport const MARK_CONTAINER_OUTPUT = 'MARK_CONTAINER_OUTPUT'\nexport const UNMARK_CONTAINER_OUTPUT = 'UNMARK_CONTAINER_OUTPUT'\nexport const MARK_CONTAINER_CONTROL = 'MARK_CONTAINER_CONTROL'\nexport const UNMARK_CONTAINER_CONTROL = 'UNMARK_CONTAINER_CONTROL'\nexport const RENAME_CONTAINER_CONTROL = 'RENAME_CONTAINER_CONTROL'\nexport const UPDATE_CONTROL_VALUE = 'UPDATE_CONTROL_DATA'\nexport const UPDATE_CONTROL_RANGE = 'UPDATE_CONTROL_RANGE'","import { ADD_CONNECTION, REMOVE_CONNECTION, REMOVE_MODULE, MERGE_CONTAINER } from \"./connectionActionTypes\"\nimport { AddConnectionAction, RemoveConnectionAction, RemoveModuleAction, MergeContainerAction } from \"./connectionTSTypes\"\nimport { Modules, Connections } from \"../stateTSTypes\"\n\nexport const addConnection = (fromID: string, toID: string, param: string, outputIndex: number, inputIndex: number, containerOutputChildID?: string, containerInputChildID?: string): AddConnectionAction => {\n  return {\n    type: ADD_CONNECTION,\n    fromID,\n    toID,\n    param,\n    outputIndex,\n    inputIndex,\n    containerOutputChildID,\n    containerInputChildID,\n  }\n}\n\nexport const removeConnection = (connectionID: string): RemoveConnectionAction => {\n  return {\n    type: REMOVE_CONNECTION,\n    connectionID,\n  }\n}\n\nexport const removeModule = (id: string): RemoveModuleAction => {\n  return {\n    type: REMOVE_MODULE,\n    id,\n  }\n}\n\nexport const mergeContainer = (containerID: string, newModules: Modules, newConnections: Connections, parentID: string, row: number, col: number): MergeContainerAction => {\n  return {\n    type: MERGE_CONTAINER,\n    containerID,\n    newModules,\n    newConnections,\n    parentID,\n    row,\n    col,\n  }\n}","export const ADD_CONNECTION = 'ADD_CONNECTION'\nexport const REMOVE_CONNECTION = 'REMOVE_CONNECTION'\nexport const REMOVE_MODULE = 'REMOVE_MODULE'\nexport const MERGE_CONTAINER = 'MERGE_CONTAINER'\n","import { RESTORE_FROM_STATE } from \"./rootActionTypes\";\nimport { RootState } from \"../stateTSTypes\";\nimport { RestoreFromStateAction } from \"./rootActionTSTypes\";\n\nexport function restoreFromState(state: RootState): RestoreFromStateAction {\n  return {\n    type: RESTORE_FROM_STATE,\n    state,\n  }\n}","export const RESTORE_FROM_STATE = 'RESTORE_FROM_STATE'","declare global {\n  interface Window {\n    webkitAudioContext: AudioContext\n  }\n}\n\nconst AudioContext = window.AudioContext || window.webkitAudioContext // works with safari\nconst audioCtx = new AudioContext()\nexport default audioCtx","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE, BUTTON } from '../moduleTypes'\n\nexport interface ConstantModule extends BaseAM {\n  audioNode: ConstantSourceNode\n}\n\nexport function makeConstantControlData(): ControlData {\n  return {\n    'value': {\n      controlType: VALUE,\n      paramID: 'offset',\n      value: 0,\n      range: [-100, 100],\n    },\n    'kill': {\n      controlType: BUTTON,\n      paramID: 'n/a',\n    }\n  }\n}\n\n\nfunction makeConstantSource(prevControlData?: ControlData): ConstantModule {\n  const constantSource = audioCtx.createConstantSource()\n  constantSource.offset.value = prevControlData ? prevControlData['value'].value as number : 0\n\n  const connectingParamIDs = ['offset']\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'value': (newValue: string) => { constantSource.offset.value = Number(newValue) },\n    'kill': (arg = '') => { constantSource.stop() }\n  }\n\n  constantSource.start()\n\n  return {\n    audioNode: constantSource,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n}\n\nexport default makeConstantSource","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE, TYPE } from '../moduleTypes'\n\nexport interface AutoFilterModule extends BaseAM {\n  audioNode: BiquadFilterNode\n  typeTypes: string[]\n}\n\nconst filterTypes = ['lowpass', 'lowshelf', 'highpass', 'highshelf', 'allpass', 'bandpass', 'notch', 'peaking']\nconst connectingParamIDs = ['frequency', 'detune', 'Q', 'gain']\n\nexport function makeFilterControlData(autoFilter: BiquadFilterNode): ControlData {\n  return {\n    'set type': {\n      controlType: TYPE,\n      paramID: 'type',\n      value: autoFilter.type\n    },\n    'frequency': {\n      controlType: VALUE,\n      paramID: 'frequency',\n      value: autoFilter.frequency.value,\n      range: [0, audioCtx.sampleRate / 2],\n      maxRange: [0, audioCtx.sampleRate / 2]\n    },\n    'detune': {\n      controlType: VALUE,\n      paramID: 'detune',\n      value: autoFilter.detune.value,\n      range: [-50, 50],\n      maxRange: [-153600, 153600]\n    },\n    'Q': {\n      controlType: VALUE,\n      paramID: 'Q',\n      value: autoFilter.Q.value,\n      range: [0.0001, 1000],\n      maxRange: [0.0001, 1000],\n    },\n    'gain': {\n      controlType: VALUE,\n      paramID: 'gain',\n      value: autoFilter.gain.value,\n      range: [-40, 40],\n      maxRange: [-40, 40],\n    },\n  }\n}\n\nfunction makeAutoFilter (prevControlData?: ControlData): AutoFilterModule {\n  const autoFilter = audioCtx.createBiquadFilter()\n\n  if (prevControlData) {\n    autoFilter.type = prevControlData['set type'].value as BiquadFilterType\n    autoFilter.frequency.value = prevControlData['frequency'].value as number\n    autoFilter.detune.value = prevControlData['detune'].value as number\n    autoFilter.Q.value = prevControlData['Q'].value as number\n    autoFilter.gain.value = prevControlData['gain'].value as number\n  }\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'set type': (newType: string) => { autoFilter.type = newType as BiquadFilterType},\n    'frequency': (newFrequency: string) => { \n      autoFilter.frequency.value = Number(newFrequency) \n    },\n    'detune': (newDetune: string) => { \n      autoFilter.detune.value = Number(newDetune) \n    },\n    'Q': (newQ: string) => { \n      autoFilter.Q.value = Number(newQ) \n    },\n    'gain': (newGain: string) => {\n      autoFilter.gain.value = Number(newGain)\n    },\n  }\n\n  return {\n    audioNode: autoFilter,\n    typeTypes: filterTypes,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n    \n}\n\nexport default makeAutoFilter","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, BUTTON, VALUE } from '../moduleTypes'\n\nexport interface OutputModule extends BaseAM {\n  audioNode: GainNode\n}\n\nexport function makeOutputControlData(): ControlData {\n  return {\n    'master gain': {\n      controlType: VALUE,\n      paramID: 'gain',\n      value: 1,\n      range: [0, 1],\n      maxRange: [0, 20],\n    },\n    'resume': {\n      controlType: BUTTON,\n      paramID: 'n/a'\n    },\n    'suspend': {\n      controlType: BUTTON,\n      paramID: 'n/a'\n    }\n  }\n}\n\nfunction makeOutput(prevControlData?: ControlData): OutputModule {\n  audioCtx.resume()\n\n  const masterGain = audioCtx.createGain()\n  masterGain.connect(audioCtx.destination)\n\n  if (prevControlData) {\n    masterGain.gain.value = prevControlData['master gain'].value as number\n  } else {\n    masterGain.gain.value = 1\n  }\n\n  const controlSetFuncs = {\n    'master gain': (arg: string) => {\n      masterGain.gain.value = Number(arg)\n    },\n    'resume': (arg: string) => { audioCtx.resume() },\n    'suspend': (arg: string) => { audioCtx.suspend() }\n  }\n\n  return {\n    audioNode: masterGain,\n    connectingParamIDs: [],\n    controlSetFuncs,\n  }\n}\n\nexport default makeOutput","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE} from '../moduleTypes'\n\nexport interface StereoPannerModule extends BaseAM {\n  audioNode: StereoPannerNode\n}\n\nexport function makePannerControlData(): ControlData {\n  return {\n    'pan': {\n      controlType: VALUE,\n      paramID: 'pan',\n      value: 0,\n      range: [-1, 1],\n      maxRange: [-1, 1],\n    }\n  }\n}\n\nfunction makeStereoPanner(prevControlData?: ControlData): StereoPannerModule {\n  const stereoPanner = audioCtx.createStereoPanner()\n\n  const connectingParamIDs = ['pan']\n\n  if (prevControlData) {\n    stereoPanner.pan.value = prevControlData['pan'].value as number\n  }\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'pan': (newPan: string) => {\n      stereoPanner.pan.value = Number(newPan)\n    }\n  }\n\n  return {\n    audioNode: stereoPanner,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n\n}\n\nexport default makeStereoPanner","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE } from '../moduleTypes'\n\nexport interface SignalDelayModule extends BaseAM {\n  audioNode: DelayNode\n}\n\nexport function makeDelayControlData(): ControlData {\n  return {\n    'delay time': {\n      controlType: VALUE,\n      paramID: 'delayTime',\n      value: 0,\n      range: [0, 2],\n      maxRange: [0, 60],\n    }\n  }\n}\n\nfunction makeSignalDelay(prevControlData?: ControlData): SignalDelayModule {\n  const signalDelay = audioCtx.createDelay(60)\n\n  if (prevControlData) {\n    signalDelay.delayTime.value = prevControlData['delay time'].value as number\n  }\n\n  const connectingParamIDs = ['delayTime']\n\n  const controlSetFuncs: ControlSetFuncs = { \n    'delay time': (newDelayTime: string) => {\n      signalDelay.delayTime.value = Number(newDelayTime)\n    }\n  }\n\n  return {\n    audioNode: signalDelay,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n    \n}\n\nexport default makeSignalDelay","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE } from '../moduleTypes'\n\nexport interface KompressorModule extends BaseAM {\n  audioNode: DynamicsCompressorNode\n}\n\nexport function makeKompControlData(kompressor: DynamicsCompressorNode): ControlData {\n  return {\n    'threshold': {\n      controlType: VALUE,\n      paramID: 'threshold',\n      value: kompressor.threshold.value,\n      range: [-100, 0],\n      maxRange: [-100, 0],\n    },\n    'knee': {\n      controlType: VALUE,\n      paramID: 'knee',\n      value: kompressor.knee.value,\n      range: [0, 40],\n      maxRange: [0, 40],\n    },\n    'ratio': {\n      controlType: VALUE,\n      paramID: 'ratio',\n      value: kompressor.ratio.value,\n      range: [1, 20],\n      maxRange: [1, 20],\n    },\n    'attack': {\n      controlType: VALUE,\n      paramID: 'attack',\n      value: kompressor.attack.value,\n      range: [0, 1],\n      maxRange: [0, 1],\n    },\n    'release': {\n      controlType: VALUE,\n      paramID: 'release',\n      value: kompressor.release.value,\n      range: [0, 1],\n      maxRange: [0, 1],\n    }\n  }\n}\n\nfunction makeKompressor(prevControlData?: ControlData): KompressorModule {\n  const kompressor = audioCtx.createDynamicsCompressor()\n\n  const connectingParamIDs = ['threshold', 'knee', 'ratio', 'attack', 'release']\n\n  if (prevControlData) {\n    kompressor.threshold.value = prevControlData['threshold'].value as number\n    kompressor.knee.value = prevControlData['knee'].value as number\n    kompressor.ratio.value = prevControlData['ratio'].value as number\n    kompressor.attack.value = prevControlData['attack'].value as number\n    kompressor.release.value = prevControlData['release'].value as number\n  }\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'threshold': (newThreshold: string) => { \n      kompressor.threshold.value = Number(newThreshold) \n    },\n    'knee': (newKnee: string) => { \n      kompressor.knee.value = Number(newKnee) \n    },\n    'ratio': (newRatio: string) => { \n      kompressor.ratio.value = Number(newRatio) \n    },\n    'attack': (newAttack: string) => { \n      kompressor.attack.value = Number(newAttack)\n    },\n    'release': (newRelease: string) => { \n      kompressor.release.value = Number(newRelease) \n    },\n  }\n\n  return {\n    audioNode: kompressor,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n}\n\nexport default makeKompressor","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE } from '../moduleTypes'\n\nexport interface GainModule extends BaseAM {\n  audioNode: GainNode\n}\n\nexport function makeGainControlData(): ControlData {\n  return {\n    'gain': {\n      controlType: VALUE,\n      paramID: 'gain',\n      value: 0,\n      range: [0, 1],\n    }\n  }\n}\n\nfunction makeGain(prevControlData?: ControlData): GainModule {\n  const gain = audioCtx.createGain()\n  gain.gain.value = prevControlData ? prevControlData['gain'].value as number : 0\n\n  const connectingParamIDs = ['gain']\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'gain': (newGain: string) => {\n      gain.gain.value = Number(newGain)\n    },\n  }\n  \n  return {\n    audioNode: gain,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n}\n\nexport default makeGain","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE, TYPE } from '../moduleTypes'\n\nexport interface OscillatorModule extends BaseAM {\n  audioNode: OscillatorNode\n  typeTypes: string[]\n}\n\nexport function makeOscControlData(oscillator: OscillatorNode): ControlData {\n  return {\n    'set type': {\n      controlType: TYPE,\n      paramID: 'type',\n      value: oscillator.type,\n    },\n    'frequency': {\n      controlType: VALUE,\n      paramID: 'frequency',\n      value: oscillator.frequency.value,\n      range: [0, 440],\n    },\n    'detune': {\n      controlType: VALUE,\n      paramID: 'detune',\n      value: oscillator.detune.value,\n      range: [-50, 50],\n    }\n  }\n}\n\nconst oscillatorTypes = ['sine', 'square', 'triangle', 'sawtooth']\n\nfunction makeOscillator(prevControlData?: ControlData): OscillatorModule {\n  const oscillator = audioCtx.createOscillator()\n   \n  if (prevControlData) {\n    oscillator.type = prevControlData['set type'].value as OscillatorType\n    oscillator.frequency.value = prevControlData['frequency'].value as number\n    oscillator.detune.value = prevControlData['detune'].value as number \n  }\n\n  const connectingParamIDs = ['frequency', 'detune']\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'set type': (newType: string) => { oscillator.type = newType as OscillatorType },\n    'frequency': (newFrequency: string) => {\n      oscillator.frequency.value = Number(newFrequency)\n    },\n    'detune': (newDetune: string) => { \n      oscillator.detune.value = Number(newDetune)\n    },\n    'kill': (arg = '') => { oscillator.stop() }\n  }\n\n  oscillator.start()\n  \n  return {\n    audioNode: oscillator,\n    typeTypes: oscillatorTypes,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n    \n}\n\nexport default makeOscillator","import audioCtx from '../../audioCtx'\nimport { BaseAM, SWITCH, ControlData, ControlSetFuncs } from '../moduleTypes'\n\nexport interface LineInputModule extends BaseAM {\n  audioNode: ChannelSplitterNode\n}\n\nexport function makeLineInControlData(): ControlData {\n  return {\n    'mute': {\n      controlType: SWITCH,\n      paramID: 'n/a',\n      value: false,\n    }\n  }\n}\n\nfunction makeLineInput(id: string) {\n  navigator.mediaDevices.getUserMedia({\n    audio: {\n      echoCancellation: false,\n      autoGainControl: false,\n      noiseSuppression: false,\n      latency: 0,\n    }\n  }).then(stream => {\n    const lineInput = audioCtx.createMediaStreamSource(stream)\n    const channelSplitter = audioCtx.createChannelSplitter(2)\n    lineInput.connect(channelSplitter)\n\n    \n\n    const controlSetFuncs: ControlSetFuncs = {\n      'mute': (arg: string) => {\n        stream.getAudioTracks()[0].enabled = arg === 'true'\n      }\n    }\n\n    const lineInputModule: LineInputModule = {\n      audioNode: channelSplitter,\n      connectingParamIDs: [],\n      controlSetFuncs,\n    }\n\n    window.audioModules = {\n      ...window.audioModules,\n      [id]: lineInputModule\n    }\n  })\n}\n\nexport default makeLineInput","import { BaseAM, ControlData, ControlSetFuncs } from \"../moduleTypes\"\n\nexport interface ContainerModule extends BaseAM {\n  inputModuleID?: string\n  outputModuleID?: string\n}\n\nexport function makeContainerControlData(): ControlData {\n  return {\n    \n  }\n}\n\nfunction makeContainer(id: string): ContainerModule {\n  const controlSetFuncs: ControlSetFuncs = {\n    \n  }\n  return {\n    connectingParamIDs: [],\n    controlSetFuncs,\n  }\n}\n\nexport default makeContainer","import audioCtx from \"../../audioCtx\"\nimport { RefObject } from 'react'\nimport { BaseAM, ControlSetFuncs, FILE, BUTTON, ControlData } from \"../moduleTypes\"\n\nexport interface MediaElementModule extends BaseAM {\n  audioNode: MediaElementAudioSourceNode\n  ref: RefObject<HTMLAudioElement>\n}\n\nexport function makeMediaElementControlData(): ControlData {\n  return {\n    'choose file': {\n      controlType: FILE,\n    },\n    'play': {\n      controlType: BUTTON,\n    },\n    'pause': {\n      controlType: BUTTON,\n    }\n  }\n}\n\nfunction makeMediaElement(audioRef: RefObject<HTMLAudioElement>): MediaElementModule | null {\n  if (audioRef.current) {\n    const mediaElement = audioCtx.createMediaElementSource(audioRef.current)\n\n    const controlSetFuncs: ControlSetFuncs = {\n      'choose file': (url: string) => {\n        (audioRef.current as HTMLAudioElement).src = url\n      },\n      'pause': () => {\n        (audioRef.current as HTMLAudioElement).pause()\n      },\n      'play': () => {\n        (audioRef.current as HTMLAudioElement).play()\n      }\n    }\n\n    return {\n      audioNode: mediaElement,\n      ref: audioRef,\n      connectingParamIDs: [],\n      controlSetFuncs,\n    }\n  } else {\n    return null\n  }\n}\n\nexport default makeMediaElement","import audioCtx from '../../audioCtx'\nimport { VALUE, ControlData, BaseAM } from '../moduleTypes';\n\nexport interface DistortionModule extends BaseAM {\n  audioNode: WaveShaperNode,\n}\n\nexport function makeDistortionControlData(): ControlData {\n  return {\n    'amount': {\n      controlType: VALUE,\n      value: 0,\n      range: [0, 1000],\n    },\n    'oversample': {\n      controlType: VALUE,\n      value: 0,\n      range: [0, 4],\n      maxRange: [0, 4],\n    }\n  }\n}\n\nfunction makeDistortionCurve(amount: number) {\n  var k = typeof amount === 'number' ? amount : 50,\n    n_samples = 44100,\n    curve = new Float32Array(n_samples),\n    deg = Math.PI / 180,\n    i = 0,\n    x;\n  for (; i < n_samples; ++i) {\n    x = i * 2 / n_samples - 1;\n    curve[i] = (3 + k) * x * 20 * deg / (Math.PI + k * Math.abs(x));\n  }\n  return curve\n}\n\nfunction makeDistortion(prevControlData?: ControlData): DistortionModule {\n  const distortion = audioCtx.createWaveShaper()\n  distortion.curve = makeDistortionCurve(prevControlData ? prevControlData['amount'].value as number : 0)\n\n  const controlSetFuncs = {\n    'amount': (newAmount: string) => {\n      distortion.curve = makeDistortionCurve(Number(newAmount))\n    },\n    'oversample': (newAmount: string) => {\n      const newOversample = Math.floor(Number(newAmount))\n      if (newOversample < 2) {\n        distortion.oversample = 'none'\n      } else if (newOversample < 4) {\n        distortion.oversample = '2x'\n      } else {\n        distortion.oversample = '4x'\n      }\n    }\n  }\n  return {\n    audioNode: distortion,\n    connectingParamIDs: [],\n    controlSetFuncs,\n  }\n}\n\nexport default makeDistortion","import audioCtx from '../../audioCtx'\nimport { ControlSetFuncs, BaseAM, ControlData, GRAPH } from '../moduleTypes'\n\nexport interface AnalyzerModule extends BaseAM {\n  audioNode: AnalyserNode\n  timeArray: Float32Array\n  bufferLength: number\n}\n\nexport function makeAnalyzerControlData(): ControlData {\n  return {\n    'time graph': {\n      controlType: GRAPH,\n      range: [-1.5, 1.5],\n    }\n  }\n}\n\nfunction makeAnalyzer(prevControlData?: ControlData): AnalyzerModule {\n  const analyzer = audioCtx.createAnalyser()\n  analyzer.fftSize = 1024\n  const bufferLength = analyzer.frequencyBinCount\n  const timeArray = new Float32Array(bufferLength)\n  const controlSetFuncs: ControlSetFuncs = {\n    'time graph': () => {\n      \n    }\n  }\n\n  return {\n    audioNode: analyzer,\n    controlSetFuncs,\n    connectingParamIDs: [],\n    timeArray,\n    bufferLength,\n  }\n}\n\nexport default makeAnalyzer","import { BaseAM, ControlData, VALUE, PAD } from \"../moduleTypes\"\nimport audioCtx from '../../audioCtx'\n\nexport interface EnvelopedTriggerModule extends BaseAM {\n  audioNode: ConstantSourceNode\n}\n\nexport function makeEnvelopedTriggerControlData(): ControlData {\n  return {\n    'trigger': {\n      controlType: PAD,\n    },\n    'attack': {\n      controlType: VALUE,\n      value: 0.1,\n      range: [0.001, 1],\n      maxRange: [0.001, 100],\n    },\n    'decay': {\n      controlType: VALUE,\n      value: 0.2,\n      range: [0.001, 1],\n      maxRange: [0.001, 100],\n    },\n    'sustain': {\n      controlType: VALUE,\n      value: 1,\n      range: [0, 1],\n      maxRange: [0, 100],\n    },\n    'release': {\n      controlType: VALUE,\n      value: 0.1,\n      range: [0.001, 1],\n      maxRange: [0.001, 100],\n    },\n  }\n}\n\nfunction makeEnvelopedTrigger(prevControlData?: ControlData): EnvelopedTriggerModule {\n  const constant = audioCtx.createConstantSource()\n  constant.offset.value = 0\n\n  let attack = .1\n  let decay = 0.2\n  let sustain = 1\n  let release = .1\n\n  if (prevControlData) {\n    attack = prevControlData['attack'].value as number\n    decay = prevControlData['decay'].value as number\n    sustain = prevControlData['sustain'].value as number\n    release = prevControlData['release'].value as number\n  }\n\n  const controlSetFuncs = {\n    'trigger': (val: string) => {\n      const currTime = audioCtx.currentTime\n      if (val === 'on') {\n        constant.offset.linearRampToValueAtTime(1, currTime + attack)\n        constant.offset.setTargetAtTime(sustain, currTime + attack, decay)\n      } else {\n        constant.offset.cancelAndHoldAtTime(currTime)\n        constant.offset.setTargetAtTime(0, currTime, release)\n      }\n    },\n    'attack': (val: string) => {\n      attack = Number(val)\n    },\n    'decay': (val: string) => {\n      decay = Number(val)\n    },\n    'sustain': (val: string) => {\n      sustain = Number(val)\n    },\n    'release': (val: string) => {\n      release = Number(val)\n    },\n  }\n\n  constant.start()\n\n  return {\n    audioNode: constant,\n    connectingParamIDs: [],\n    controlSetFuncs,\n  }\n}\n\nexport default makeEnvelopedTrigger","import audioCtx from \"../../audioCtx\";\nimport { BaseAM, ControlData } from \"../moduleTypes\";\n\nexport interface WhiteNoiseModule extends BaseAM {\n  audioNode: AudioBufferSourceNode\n}\n\nexport function makeWhiteNoiseControlData(): ControlData {\n  return {}\n}\n\nconst length = 10\nconst bufferSize = audioCtx.sampleRate * length\n\nfunction makeWhiteNoise(prevControlData?: ControlData): WhiteNoiseModule {\n  const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate)\n  let data = buffer.getChannelData(0)\n  for (let i = 0; i < bufferSize; i++) {\n    data[i] = Math.random() * 2 - 1\n  }\n  let noise = audioCtx.createBufferSource()\n  noise.buffer = buffer\n  noise.loop = true\n  noise.start()\n\n  return {\n    audioNode: noise,\n    connectingParamIDs: [],\n    controlSetFuncs: {},\n  }\n}\n\nexport default makeWhiteNoise","import { add } from \"mathjs\"\nimport audioCtx from \"../../audioCtx\"\nimport { BaseAM, ControlData, ControlSetFuncs, TUNER_CONTROL } from \"../moduleTypes\"\n\nexport interface TunerModule extends BaseAM {\n  audioNode: AnalyserNode,\n  freqArray: Float32Array,\n  bufferLength: number\n}\n\nexport function makeTunerControlData(): ControlData {\n  return {\n    'tuner': {\n      controlType: TUNER_CONTROL,\n    },\n  }\n}\n\nfunction downSample(freqArray: number[], bufferLength: number, harmonic: number) {\n  let over = false\n  return freqArray.map((num, i) => {\n    if (over) {\n      return 0\n    } else if (harmonic * i < bufferLength) {\n      return freqArray[harmonic * i]\n    } else {\n      over = true\n      return 0\n    }\n  })\n}\n\nfunction addHarmonics(freqArray: Float32Array, bufferLength: number, numHarmonics: number) {\n  let min = Math.min(...freqArray)\n  let harmonicArray = [...freqArray.map(val => val - min)]\n  let harmonicCopy = [...harmonicArray]\n  for (let harmonic = 2; harmonic <= numHarmonics; harmonic++) {\n    harmonicArray = add(harmonicArray, downSample(harmonicCopy, bufferLength, harmonic)) as number[]\n  }\n  return harmonicArray\n}\n\nfunction getFreqFromIndex(index: number, bufferLength: number) {\n  return index * audioCtx.sampleRate / (2 * bufferLength)\n}\n\nfunction makeTuner(prevControlData?: ControlData): TunerModule {\n  const analyzer = audioCtx.createAnalyser()\n  analyzer.fftSize = Math.pow(2, 15)\n  analyzer.smoothingTimeConstant = 0\n  const bufferLength = analyzer.frequencyBinCount\n  const freqArray = new Float32Array(bufferLength)\n  const controlSetFuncs: ControlSetFuncs = {\n    'tuner': () => {\n      // returns the current max freq, and db at that freq\n      analyzer.getFloatFrequencyData(freqArray)\n      let maxBin = 0\n      let maxdB = 0\n      const harmonicArray = addHarmonics(freqArray, bufferLength, 5)\n      for (let i = 0; i < bufferLength; i++) {\n        if (harmonicArray[i] > maxdB) {\n          maxdB = harmonicArray[i]\n          maxBin = i\n        }\n      }\n      return [getFreqFromIndex(maxBin, bufferLength), freqArray[maxBin]]\n    }\n  }\n  return {\n    audioNode: analyzer,\n    controlSetFuncs,\n    connectingParamIDs: [],\n    bufferLength,\n    freqArray,\n  }\n}\n\nexport default makeTuner","import { \n  ModuleType, \n  OSCILLATOR, \n  OUTPUT, GAIN, \n  AUTOFILTER, \n  KOMPRESSOR, \n  STEREO_PANNER, \n  SIGNAL_DELAY, \n  CONSTANT, \n  MEDIA_ELEMENT, \n  LINE_IN,\n  CONTAINER,\n  DISTORTION,\n  ANALYZER,\n  ENVELOPED_TRIGGER,\n  WHITE_NOISE,\n  TUNER,\n} from './moduleTypes'\nimport { Dispatch } from 'redux'\nimport { addModule } from '../redux/allActions'\nimport makeConstantSource, { makeConstantControlData } from './modules/constant'\nimport makeAutoFilter, { makeFilterControlData } from './modules/autoFilter'\nimport makeOutput, { makeOutputControlData } from './modules/output'\nimport makeStereoPanner, { makePannerControlData } from './modules/stereoPanner'\nimport makeSignalDelay, { makeDelayControlData } from './modules/signalDelay'\nimport makeKompressor, { makeKompControlData } from './modules/kompressor'\nimport makeGain, { makeGainControlData } from './modules/gain'\nimport makeOscillator, { makeOscControlData } from './modules/oscillator'\nimport makeLineInput, { makeLineInControlData } from './modules/lineInput'\nimport makeContainer, { makeContainerControlData } from './modules/container'\nimport { makeMediaElementControlData } from './modules/mediaElement'\nimport makeDistortion, { makeDistortionControlData } from './modules/distortion'\nimport makeAnalyzer, { makeAnalyzerControlData } from './modules/analyzer'\nimport makeEnvelopedTrigger, { makeEnvelopedTriggerControlData } from './modules/envelopedTrigger'\nimport makeWhiteNoise, { makeWhiteNoiseControlData } from './modules/whiteNoise'\nimport makeTuner, { makeTunerControlData } from './modules/tuner'\n\ndeclare global {\n  interface Window {\n    addModule: (id: string, name: string, parentID: string, moduleType: ModuleType, dispatch: Dispatch, row: number, col: number) => void\n  }\n}\n\nfunction makeAddModule() {\n  window.addModule = function(id: string, name: string, parentID: string, moduleType: ModuleType, dispatch: Dispatch, row: number, col: number) {\n    switch(moduleType) {\n      case OSCILLATOR:\n        const osc = makeOscillator()\n        const oscControlData = makeOscControlData(osc.audioNode)\n        window.audioModules = { ...window.audioModules, [id]: osc };\n        dispatch(addModule(id, name, moduleType, oscControlData, parentID, row, col, [], ['0']));\n        break;\n      case GAIN:\n        const gain = makeGain()\n        const gainControlData = makeGainControlData()\n        window.audioModules = { ...window.audioModules, [id]: gain }; \n        dispatch(addModule(id, name, moduleType, gainControlData, parentID, row, col, ['0'], ['0'])); \n        break;\n      case OUTPUT:\n        const output = makeOutput()\n        const outputControlData = makeOutputControlData()\n        window.audioModules = { ...window.audioModules, [id]: output }\n        dispatch(addModule(id, name, moduleType, outputControlData, parentID, row, col, ['0'], []))\n        break\n      case AUTOFILTER: \n        const filter = makeAutoFilter()\n        const filterControlData = makeFilterControlData(filter.audioNode)\n        window.audioModules = { ...window.audioModules, [id]: filter }\n        dispatch(addModule(id, name, moduleType, filterControlData, parentID, row, col, ['0'], ['0']))\n        break\n      case KOMPRESSOR:\n        const komp = makeKompressor()\n        const kompControlData = makeKompControlData(komp.audioNode)\n        window.audioModules = { ...window.audioModules, [id]: komp }; \n        dispatch(addModule(id, name, moduleType, kompControlData, parentID, row, col, ['0'], ['0'])); \n        break;\n      case STEREO_PANNER:\n        const panner = makeStereoPanner()\n        const pannerControlData = makePannerControlData()\n        window.audioModules = { ...window.audioModules, [id]: panner }; \n        dispatch(addModule(id, name, moduleType, pannerControlData, parentID, row, col, ['0'], ['0'])); \n        break;\n      case SIGNAL_DELAY:\n        const delay = makeSignalDelay()\n        const delayControlData = makeDelayControlData()\n        window.audioModules = { ...window.audioModules, [id]: delay }; \n        dispatch(addModule(id, name, moduleType, delayControlData, parentID, row, col, ['0'], ['0'])); \n        break;\n      case CONSTANT:\n        const constant = makeConstantSource()\n        const constantControlData = makeConstantControlData()\n        window.audioModules = { ...window.audioModules, [id]: constant }; \n        dispatch(addModule(id, name, moduleType, constantControlData, parentID, row, col, [], ['0'])); \n        break;\n      case MEDIA_ELEMENT:\n        const mediaControlData = makeMediaElementControlData()\n        window.addAudioTag(id); window.reRenderAudioTags()\n        dispatch(addModule(id, name, moduleType, mediaControlData, parentID, row, col, [], ['0']))\n        break;\n      case LINE_IN: \n        makeLineInput(id)\n        const lineInControlData = makeLineInControlData()\n        dispatch(addModule(id, name, moduleType, lineInControlData, parentID, row, col, [], ['0 (L)', '1 (R)'])); \n        break;\n      case CONTAINER: \n        const container = makeContainer(id)\n        const containerControlData = makeContainerControlData()\n        window.audioModules = { ...window.audioModules, [id]: container }; \n        dispatch(addModule(id, name, moduleType, containerControlData, parentID, row, col, [], [])); \n        break;\n      case DISTORTION:\n        const distortion = makeDistortion()\n        const distortionControlData = makeDistortionControlData()\n        window.audioModules = { ...window.audioModules, [id]: distortion }\n        dispatch(addModule(id, name, moduleType, distortionControlData, parentID, row, col, ['0'], ['0']))\n        break\n      case ANALYZER:\n        const analyzer = makeAnalyzer()\n        const analyzerControlData = makeAnalyzerControlData()\n        window.audioModules = { ...window.audioModules, [id]: analyzer }\n        dispatch(addModule(id, name, moduleType, analyzerControlData, parentID, row, col, ['0'], ['0']))\n        break\n      case ENVELOPED_TRIGGER:\n        const envelopedTrigger = makeEnvelopedTrigger()\n        const envelopedTriggerControlData = makeEnvelopedTriggerControlData()\n        window.audioModules = { ...window.audioModules, [id]: envelopedTrigger }\n        dispatch(addModule(id, name, moduleType, envelopedTriggerControlData, parentID, row, col, [], ['0']))\n        break\n      case WHITE_NOISE:\n        const whiteNoise = makeWhiteNoise()\n        const whiteNoiseControlData = makeWhiteNoiseControlData()\n        window.audioModules = { ...window.audioModules, [id]: whiteNoise }\n        dispatch(addModule(id, name, moduleType, whiteNoiseControlData, parentID, row, col, [], ['0']))\n        break\n      case TUNER:\n        const tuner = makeTuner()\n        const tunerControlData = makeTunerControlData()\n        window.audioModules = { ...window.audioModules, [id]: tuner }\n        dispatch(addModule(id, name, moduleType, tunerControlData, parentID, row, col, ['0'], ['0']))\n        break\n    }\n  }\n}\n\nexport default makeAddModule","import { PointerLayerData, PointerEventCallback } from '../PointerLayer/PointerLayer'\n\nexport function makePointerLayerData(isOpen: boolean, pointerId: number = -1, onPointerMove: PointerEventCallback = () => { }, onPointerUp: PointerEventCallback = () => { }): PointerLayerData {\n  return {\n    isOpen,\n    pointerId,\n    onPointerMove,\n    onPointerUp,\n  }\n}","import { createUseStyles } from 'react-jss'\n//import { colors, sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  PointerLayer: {\n    width: '100vw',\n    height: '100vh',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    zIndex: 300,\n  },\n})\n\nexport default useJSS","import React, { PointerEvent, useRef, useEffect } from 'react'\nimport useJSS from './style'\n\nexport type PointerEventCallback = (e: PointerEvent<HTMLDivElement>) => void\n\nexport interface PointerLayerData {\n  isOpen: boolean\n  pointerId: number\n  onPointerMove: PointerEventCallback\n  onPointerUp: PointerEventCallback\n}\n\ninterface Props {\n  pointerLayerData: PointerLayerData\n  resetPointerLayerData: () => void\n}\n\nfunction PointerLayer({ pointerLayerData, resetPointerLayerData }: Props) {\n  const classes = useJSS()\n  const { pointerId, onPointerMove, onPointerUp } = pointerLayerData\n  const pointerLayerRef = useRef<HTMLDivElement>(null)\n  useEffect(() => {\n    //pointerLayerRef.current?.setPointerCapture(pointerId)\n  })\n  return (\n    <div className={classes.PointerLayer}\n      ref={pointerLayerRef}\n      onPointerMove={(e) => {\n        if (e.pointerId === pointerId) {\n          onPointerMove(e)\n        }\n      }}\n      onPointerUp={(e) => {\n        if (e.pointerId === pointerId) {\n          onPointerUp(e)\n          //pointerLayerRef.current?.releasePointerCapture(pointerId)\n          resetPointerLayerData()\n        }\n      }}\n    />   \n  )\n}\n\nexport default PointerLayer","import feathers from '@feathersjs/feathers'\nimport rest from '@feathersjs/rest-client'\n\ndeclare global {\n  interface Window {\n    projectSaveService: any\n    containerSaveService: any\n  }\n}\n\nfunction configureSpaceDB() {\n  const spaceDB = feathers()\n  const restClient = rest('http://192.168.1.64:30300') // spaceDB\n\n  spaceDB.configure(restClient.fetch(window.fetch))\n  window.projectSaveService = spaceDB.service('project-save-service')\n  window.containerSaveService = spaceDB.service('container-save-service')\n}\n\nexport default configureSpaceDB","declare global {\n  interface Window {\n    usingElectron: boolean\n  }\n}\n\nfunction setUserAgent() {\n  const userAgent = navigator.userAgent.toLowerCase();\n  if (userAgent.indexOf(' electron/') > -1) {\n    window.usingElectron = true\n  } else {\n    window.usingElectron = false\n  }\n}\n\nexport default setUserAgent","import { Colors, Sizes } from './types'\n\nconst grey = '#282c34' // grey\nconst secondary = '#281c34' //purple\nconst tertiary = '#182c54' // blue\n\nexport const colors: Colors = {\n  grey: grey,\n  secondary: secondary,\n  tertiary: tertiary,\n\n  rightDrawer: '#0000009e',\n  drawerToggle: '#00347d',\n  drawerToggleLine: '#001b40',\n\n  centerMenu: '#000000c4',\n  centerMenuBackground: '#000000b3',\n  centerMenuBorder: grey,\n\n  fillModule: '#c0c0c038',\n  module: '#37538a',\n\n  text: 'white',\n  selectedText: '#007ab3',\n  disabled: '#ffffff61',\n\n  dropSquareHL: '#ffffff60',\n\n  defaultButton: 'black',\n  deleteButton: '#cc00006e',\n  deleteButtonText: 'white',\n\n  errorBackground: '#cc0000',\n\n  outputConnector: 'red',\n\n  controlMenuButton: '#3b3b3b94',\n\n  //knob: '#ffffffa3',\n  knob: '#0000009e',\n  knobText: 'white',\n  knobBorder: '#cc00006e',\n  knobMarker: 'white',\n\n  // connection menu\n  moduleInput: '#da1212',\n  paramInput: 'blue',\n\n  // module colors\n\n  sourceModuleBG: '#028174',\n  //sourceModuleKnob\n\n  effectsModuleBG: '#7D1551',\n  //effectsModukeKnob\n\n  containerModuleBG: '#4C4141',\n  //container knob magic tricks\n\n  outputModuleBG: '#CA5F3C',\n\n  analyzerModuleBG: '#00347D',\n\n  confirmButton: '#00802da6',\n  denyButton: '#cc00006e',\n\n  // Context menu\n  contextMenuItemBorder: 'black',\n  contextMenuBackground: '#08101deb',\n\n  sdbSaveButton: '#282c349c',\n\n  // add module menu\n  addModuleLeftBarBG: 'transparent',\n  addModuleLeftBarButtonHL: '#ffffff60',\n  addModuleSearchBarBG: '#1d1d2b',\n  addModuleSearchBarText: 'white',\n\n  // notification\n  success: '#00802d',\n}\n\nexport const paramColors = ['#dbde02', '#0a9408', '#470ff5', '#0ba8cc']\n// yellow, green, purple, light blue\n\nexport const sizes: Sizes = {\n  rightDrawer: {\n    width: '400', // converted to px\n    toggleWidth: '2vmin',\n    item: '9vmin',\n  },\n  moduleView: {\n    iconGrid: '12vmin',\n    gutterGrid: '6vmin',\n    icon: '10vmin',\n    bigIconWidth: '25vmin',\n    bigIconHeight: '35vmin',\n  },\n  text: {\n    large: 'calc(25px + 2.8vmin)',\n    medium: 'calc(20px + 2.4vmin)',\n    small: 'calc(12px + 1.2vmin)',\n    xsmall: 'calc(8px + 1vmin)',\n    xxsmall: 'calc(7px + .8vmin)',\n  },\n  connector: {\n    size: '2.5vmin',\n    borderRadius: '2.5vmin',\n    smallSize: '1.5vmin',\n    smallBorderRadius: '1.5vmin',\n  },\n  knob: {\n    size: 7, // converted to vmin in knob\n    markerWidth: .5,\n    markerHeight: 1.3,\n    rotRange: [-150, 150], // in degrees\n    sensitivity: 1,\n    borderWidth: 8,\n  },\n  switch: {\n    diameter: 3 // in vmin\n  },\n  addModuleMenu: {\n    leftBarWidth: '20vmin',\n    iconRouterWidth: '60vmin',\n    height: '60vmin',\n  }\n}","import { createUseStyles } from 'react-jss'\nimport { colors } from '../../../theme/theme'\nimport { zIndex } from '../../../theme/zIndex'\n\nconst maxWidth = '8em'\nconst maxHeight = '12em'\n\nconst useJSS = createUseStyles({\n  ContextMenuBounder: {\n    width: '100vw',\n    height: '100vh',\n    backgroundColor: 'transparent',\n    position: 'fixed',\n    overflow: 'hidden',\n    top: 0,\n    left: 0,\n    zIndex: zIndex.contextMenu,\n    opacity: 1,\n    visibility: ({ isOpen }) => isOpen ? 'visible' : 'hidden'\n  },\n\n  ContextMenu: {\n    maxHeight,\n    backgroundColor: colors.contextMenuBackground,\n    padding: '.2em',\n    borderRadius: '.2em',\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'fixed',\n    overflowY: 'scroll',\n    '&::-webkit-scrollbar': {\n      width: '0em',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: 'white',\n    },\n  },\n\n  MenuItem: {\n    maxWidth,\n    borderStyle: 'solid',\n    borderColor: 'transparent',\n    '&:hover': {\n      borderColor: colors.contextMenuItemBorder\n    }\n  }\n})\n\nexport default useJSS","import React, { Fragment, ReactNode } from 'react'\n\ninterface Props {\n  children: ReactNode\n  showIf: boolean\n}\n\nfunction Conditional({ children, showIf }: Props) {\n  return (\n    <Fragment>\n      {!showIf ? null : children}\n    </Fragment>\n  )\n}\n\nexport default Conditional","import React, { ReactNode, useEffect, useRef } from 'react'\nimport useJSS from './style'\nimport CSS from 'csstype'\nimport { MouseDivEvent } from '../types'\nimport { getLocation } from './helpers'\nimport Conditional from '../../Conditional/Conditional'\n\ninterface Props {\n  children: ReactNode\n  onClose: () => void\n  bounderStyle?: CSS.Properties\n  style?: CSS.Properties\n  event: MouseDivEvent\n  isOpen: boolean\n}\n\nfunction ContextMenu({ children, onClose, bounderStyle, style, event, isOpen }: Props) {\n  const classes = useJSS({ isOpen })\n  const cmRef = useRef<HTMLDivElement>(null)\n  useEffect(() => {\n    if (cmRef.current) {\n      if (event) {\n        const { top, left } = getLocation(event, cmRef)\n        cmRef.current.style.top = `${top}px`\n        cmRef.current.style.left = `${left}px`\n      } else {\n        cmRef.current.style.top = '-1000px'\n        cmRef.current.style.left = '-1000px'\n      }\n    }\n  }, [event])\n  return (\n    <div className={classes.ContextMenuBounder}\n      onPointerDown={() => {\n        if (cmRef.current) {\n          cmRef.current.style.top = '-1000px'\n          cmRef.current.style.left = '-1000px'\n        }\n        onClose()\n      }}\n      style={bounderStyle}\n    >\n      <div className={classes.ContextMenu}\n        style={Object.assign({\n          top: -1000,\n          left: -1000,\n        }, style)}\n        ref={cmRef}\n        onPointerDown={e => { e.stopPropagation() }}\n      >\n        <Conditional showIf={isOpen}>\n          { children }\n        </Conditional>\n      </div>\n    </div>\n  )\n}\n\nexport default ContextMenu","import { DragEvent, RefObject } from \"react\";\nimport { MouseDivEvent } from \"../types\";\n\nexport function getLocation(e: MouseDivEvent | DragEvent<HTMLDivElement>, ref: RefObject<HTMLDivElement>) {\n  if (!ref.current) {\n    return {\n      top: -1000,\n      left: -1000,\n    }\n  } else {\n    return {\n      top: (window.innerHeight - e.pageY) >= ref.current.offsetHeight ?\n        e.pageY : window.innerHeight - ref.current.offsetHeight,\n      left: (window.innerWidth - e.pageX) >= ref.current.offsetWidth ?\n        e.pageX : window.innerWidth - ref.current.offsetWidth,\n    }\n  }\n  \n}","import { createUseStyles } from 'react-jss'\n\nconst useJSS = createUseStyles({\n  FlexRow: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: ({ justifyContent }) => justifyContent,\n    alignItems: ({ alignItems }) => alignItems,\n    flexWrap: ({ flexWrap }) => flexWrap,\n  },\n\n  FlexCol: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: ({ justifyContent }) => justifyContent,\n    alignItems: ({ alignItems }) => alignItems,\n  }\n})\n\nexport default useJSS","import React from 'react'\nimport CSS from 'csstype'\nimport useJSS from './style'\n\ninterface Props {\n  className?: string\n  style?: CSS.Properties\n  children?: React.ReactNode\n  ref?: React.RefObject<HTMLDivElement>\n  justifyContent?: string\n  alignItems?: string\n  flexWrap?: 'wrap' | 'nowrap' | 'wrap-reverse',\n}\n\nfunction FlexRow({ className, children, style, ref, justifyContent, alignItems, flexWrap }: Props) {\n  const classes = useJSS({ justifyContent, alignItems, flexWrap })\n  return (\n    <div className={className ? `${classes.FlexRow} ${className}` : classes.FlexRow}\n      style={style}\n      ref={ref}\n    >\n      { children }\n    </div>\n  )\n}\n\nexport default FlexRow","import { colors } from './theme'\nimport { LINE_IN, OSCILLATOR, MEDIA_ELEMENT, CONSTANT, AUTOFILTER, GAIN, KOMPRESSOR, SIGNAL_DELAY, STEREO_PANNER, CONTAINER, OUTPUT, DISTORTION, ANALYZER, ENVELOPED_TRIGGER, WHITE_NOISE, TUNER } from '../audioModules/moduleTypes'\n\nfunction getModuleColor(moduleType?: string) {\n\n  switch (moduleType) {\n\n    // sources\n    case LINE_IN: return colors.sourceModuleBG \n    case OSCILLATOR: return colors.sourceModuleBG \n    case MEDIA_ELEMENT: return colors.sourceModuleBG \n    case CONSTANT: return colors.sourceModuleBG\n    case ENVELOPED_TRIGGER: return colors.sourceModuleBG\n    case WHITE_NOISE: return colors.sourceModuleBG\n\n    // effects \n    case GAIN: return colors.effectsModuleBG\n    case AUTOFILTER: return colors.effectsModuleBG\n    case KOMPRESSOR: return colors.effectsModuleBG\n    case SIGNAL_DELAY: return colors.effectsModuleBG\n    case STEREO_PANNER: return colors.effectsModuleBG\n    case DISTORTION: return colors.effectsModuleBG\n\n    // utility\n    case CONTAINER: return colors.containerModuleBG\n    case OUTPUT: return colors.outputModuleBG\n    case ANALYZER: return colors.analyzerModuleBG\n    case TUNER: return colors.analyzerModuleBG\n  }\n}\n\nexport default getModuleColor ","import { createUseStyles } from 'react-jss'\n\nconst useJSS = createUseStyles({\n  AutoPlacingGrid: {\n    display: 'grid',\n    gridTemplateRows: ({ numRows }) => `repeat(${numRows}, auto)`,\n    gridTemplateColumns: ({ numCols }) => `repeat(${numCols}, auto)`,\n    gridAutoFlow: ({ direction }) => direction,\n    gridAutoRows: ({ numRows }) => numRows ? null : 'auto',\n    gridAutoColumns: ({ numCols }) => numCols ? null : 'auto',\n    gap: ({ gap }) => gap,\n    justifyItems: 'center',\n  },\n})\n\nexport default useJSS","import React, { ReactNode } from 'react'\nimport useJSS from './style'\nimport CSS from 'csstype'\n\ninterface Props {\n  children?: ReactNode\n  className?: string\n  style?: CSS.Properties\n  direction: 'row' | 'column' | 'row dense' | 'column dense'\n  numRows?: number | string\n  numCols?: number | string\n  gap?: string\n}\n\nfunction AutoPlacingGrid({ children, className, style, numRows, numCols, direction, gap }: Props) {\n  const classes = useJSS({ numRows, numCols, direction, gap })\n  return (\n    <div className={className ? `${classes.AutoPlacingGrid} ${className}` : classes.AutoPlacingGrid}\n      style={style}\n    >\n      {children}\n    </div>\n  )\n}\n\nexport default AutoPlacingGrid","import React, { DragEvent } from 'react'\nimport CSS from 'csstype'\nimport useJSS from './style'\n\ninterface Props {\n  className?: string\n  style?: CSS.Properties\n  children?: React.ReactNode\n  ref?: React.RefObject<HTMLDivElement>\n  onDrop?: (e: DragEvent<HTMLDivElement>) => void\n  onDragOver?: (e: DragEvent<HTMLDivElement>) => void\n  justifyContent?: string\n  alignItems?: string\n}\n\nfunction FlexCol({ className, children, style, ref, onDrop, onDragOver, justifyContent, alignItems }: Props) {\n  const classes = useJSS({ justifyContent, alignItems })\n  return (\n    <div className={className ? `${classes.FlexCol} ${className}` : classes.FlexCol}\n      style={style}\n      ref={ref}\n      onDrop={onDrop}\n      onDragOver={onDragOver}\n    >\n      { children }\n    </div>\n  );\n}\n\nexport default FlexCol","import { ConnectingAudioModule } from \"./moduleTypes\";\n\nexport function connect(fromMod: ConnectingAudioModule, toMod: ConnectingAudioModule, param = '', outputIndex?: number, inputIndex?: number) {\n  if (param.length === 0) {\n    fromMod.audioNode.connect(toMod.audioNode, outputIndex, inputIndex)\n  } else {\n    if (toMod.audioNode[param]) {\n      fromMod.audioNode.connect(toMod.audioNode[param], outputIndex)\n    } else {\n      alert('param does not exist')\n    }\n  }\n}\n\nexport function disconnect(fromMod: ConnectingAudioModule, toMod: ConnectingAudioModule, param = '', outputIndex?: number) {\n  if (param.length === 0) {\n    if (typeof(outputIndex) === 'number') {\n      fromMod.audioNode.disconnect(toMod.audioNode, outputIndex)\n    } else {\n      fromMod.audioNode.disconnect(toMod.audioNode)\n    }\n  } else {\n    if (toMod.audioNode[param]) {\n      if (typeof (outputIndex) === 'number') {\n        fromMod.audioNode.disconnect(toMod.audioNode[param], outputIndex)\n      } else {\n        fromMod.audioNode.disconnect(toMod.audioNode[param])\n      }\n    } else {\n      alert('param does not exist')\n    }\n  }\n}","import { connect } from \"../../../audioModules/connection\";\nimport { ConnectingAudioModule, CONTAINER } from \"../../../audioModules/moduleTypes\";\nimport { Module, Connections, Modules } from \"../../../redux/stateTSTypes\"\nimport { Dispatch } from 'redux'\nimport { addConnection } from \"../../../redux/allActions\";\nimport { colors } from \"../../../theme/theme\";\n\nexport function connectionExists(connections: Connections, fromMod: Module, actualToID: string, newOutputIndex: number, newInputIndex: number, newParam = '') {\n  for(var i = 0; i < fromMod.outputs.length; i++) {\n    const { toID, actualInputID, param, outputIndex, inputIndex } = connections[fromMod.outputs[i]]\n    const testingID = actualInputID ? actualInputID : toID\n    if (\n      testingID === actualToID && \n      newParam === param &&\n      newOutputIndex === outputIndex &&\n      newInputIndex === inputIndex\n    ) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function executeConnection(\n  fromID: string, \n  actualFromID: string,\n  toID: string,\n  actualToID: string,\n  modules: Modules,\n  connections: Connections,\n  dispatch: Dispatch,\n  outputIndex: number,\n  inputIndex: number,\n  onClose?: () => void,\n  paramID = '',\n) {\n  const fromMod = modules[fromID]\n  const am = window.audioModules\n  const isFromContainer = fromMod.moduleType === CONTAINER\n  const isToContainer = modules[toID].moduleType === CONTAINER\n  if (!connectionExists(connections, fromMod as Module, actualToID, outputIndex, inputIndex, paramID)) {\n    connect(\n      am[actualFromID] as ConnectingAudioModule,\n      am[actualToID] as ConnectingAudioModule,\n      paramID,\n      outputIndex,\n      inputIndex,\n    )\n    dispatch(addConnection(\n      fromID,\n      toID,\n      paramID,\n      outputIndex,\n      inputIndex,\n      isFromContainer ? actualFromID : undefined,\n      isToContainer ? actualToID : undefined,\n    ))\n    window.flashNotification(colors.success, 'connection created')\n    if (onClose) onClose()\n  } else {\n    alert('modules already connected')\n  }\n}","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  Module: {\n    borderRadius: '1.5vmin',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    flexGrow: 1,\n    flexShrink: 1,\n    '&::-webkit-scrollbar': {\n      width: '0px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: 'white',\n    },\n    padding: '.2em .5em',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n  },\n\n  IconConnector: {\n    backgroundColor: colors.outputConnector,\n    width: sizes.connector.size,\n    height: sizes.connector.size,\n    borderRadius: sizes.connector.borderRadius,\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    borderStyle: 'solid',\n    borderColor: 'transparent',\n    '&:hover': {\n      cursor: 'pointer',\n      borderColor: 'white',\n    },\n  },\n\n  ConnectorBounder: {\n    alignItems: 'center',\n  },\n\n  Name: {\n    whiteSpace: 'noWrap',\n    fontSize: sizes.text.medium,\n    marginBottom: '.2em',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  },\n\n  ConnectorName: {\n    whiteSpace: 'noWrap',\n    fontSize: sizes.text.small\n  },\n\n  ParamName: {\n    whiteSpace: 'noWrap',\n    fontSize: sizes.text.small\n  },\n\n  ConnectionReciever: {\n    backgroundColor: 'black',\n    width: sizes.connector.size,\n    height: sizes.connector.size,\n    borderRadius: sizes.connector.borderRadius,\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    borderStyle: 'solid',\n    borderColor: colors.moduleInput,\n    borderWidth: '.25em'\n  },\n\n  SmallConnectionReciever: {\n    backgroundColor: 'black',\n    width: sizes.connector.smallSize,\n    height: sizes.connector.smallSize,\n    borderRadius: sizes.connector.smallBorderRadius,\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    borderStyle: 'solid',\n    borderColor: colors.paramInput,\n    borderWidth: '.2em',\n  }\n})\n\nexport default useJSS","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport getModuleColor from '../../../theme/moduleColor'\nimport AutoPlacingGrid from '../../AutoPlacingGrid.tsx/AutoPlacingGrid'\nimport FlexCol from '../../Flex/FlexCol'\nimport FlexRow from '../../Flex/FlexRow'\nimport { executeConnection } from './helpers'\nimport useJSS from './style'\n\ninterface Props {\n  modID: string\n  startsBig: boolean\n  fromID: string // of the original modules that made the connection\n  toID: string\n  onClose: () => void\n}\n\nfunction InModule({ modID, startsBig, fromID, toID, onClose }: Props) {\n  const classes = useJSS()\n  const mod = useSelector((state: RootState) => state.modules[modID])\n  const { modules, connections } = useSelector((state: RootState) => state)\n  const audioMod = window.audioModules[modID]\n  const [isBig, setBig] = useState(startsBig)\n  const dispatch = useDispatch()\n  return (\n    <div className={classes.Module} style={{ backgroundColor: getModuleColor(mod.moduleType) }}>\n      <div className={classes.Name}\n        style={{ marginBottom: '.2em' }}\n        onClick={() => { setBig(!isBig) }}\n      >{mod.name}</div>\n      <FlexRow style={{ justifyContent: 'center' }}>\n        <FlexCol style={{ marginRight: audioMod.connectingParamIDs.length !== 0 ?'.4em' : '0em' }}>\n          {!isBig ? null : mod.connectionInputs.map((input, index) => {\n            return (\n              <FlexCol key={index}>\n                <div className={classes.ConnectionReciever}\n                  onDragOver={e => { e.preventDefault() }}\n                  onDrop={e => {\n                    e.preventDefault()\n                    const actualFromID = e.dataTransfer.getData('actualFromID')\n                    const outputIndex = Number(e.dataTransfer.getData('outputIndex'))\n                    executeConnection(\n                      fromID, actualFromID, \n                      toID, modID, modules, \n                      connections, dispatch, \n                      outputIndex, index,\n                      onClose\n                    )\n                  }}\n                />\n                {mod.connectionInputs.length !== 1 ? input : null}\n              </FlexCol>\n            )\n          })}\n        </FlexCol>\n        {audioMod.connectingParamIDs.length === 0 ? null : \n        <AutoPlacingGrid direction='row' numCols='2' gap='.2em'>\n          {!isBig ? null : audioMod.connectingParamIDs.map((paramID, index) => {\n            return (\n              <FlexCol style={{ alignItems: 'center' }} key={index}\n                onDragOver={e => { e.preventDefault() }}\n                onDrop={e => {\n                  e.preventDefault()\n                  const actualFromID = e.dataTransfer.getData('actualFromID')\n                  const outputIndex = Number(e.dataTransfer.getData('outputIndex'))\n                  executeConnection(\n                    fromID, actualFromID,\n                    toID, modID, modules,\n                    connections, dispatch,\n                    outputIndex, index,\n                    onClose, paramID\n                  )\n                }}\n              >\n                <div className={classes.SmallConnectionReciever}/>\n                <div className={classes.ParamName}>{paramID}</div>\n              </FlexCol>\n            )\n          })}\n        </AutoPlacingGrid>}\n      </FlexRow>\n    </div>\n  )\n}\n\nexport default InModule","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { CONTAINER } from '../../../audioModules/moduleTypes'\nimport { ContainerModule, RootState } from '../../../redux/stateTSTypes'\nimport getModuleColor from '../../../theme/moduleColor'\nimport AutoPlacingGrid from '../../AutoPlacingGrid.tsx/AutoPlacingGrid'\nimport InModule from './InModule'\nimport useJSS from './style'\n\ninterface Props {\n  modID: string\n  startsBig: boolean\n  fromID: string // original fromID of connection\n  toID: string\n  isFromContainer: boolean\n  onClose: () => void\n  isBase: boolean\n}\n\nfunction ContainerInModule({ modID, startsBig, fromID, toID, isFromContainer, onClose, isBase }: Props) {\n  const classes = useJSS()\n  const modules = useSelector((state: RootState) => state.modules)\n  const mod = modules[modID]\n  const modInputs = (mod as ContainerModule).connectionInputs\n  const childrenStartBig = modInputs.length <= 2\n  const [isBig, setBig] = useState(startsBig)\n  return (\n    <div className={classes.Module} \n      style={{\n        backgroundColor: getModuleColor(CONTAINER),\n        maxHeight: isBase ? '60vmin' : '40vmin',\n        overflowY: isBase ? 'scroll' : 'visible',\n      }}\n    >\n      <div className={classes.Name}\n        onClick={() => { setBig(!isBig) }}\n      >{mod.name}</div>\n      <AutoPlacingGrid direction={'row'} numCols={2} gap={'.2em'}>\n        {!isBig ? null : modInputs.map((inputModID, index) => {\n          const inMod = modules[inputModID]\n          if(inMod.moduleType === CONTAINER) {\n            return (\n              <ContainerInModule key={index} \n                modID={inputModID}\n                fromID={fromID}\n                toID={toID}\n                isFromContainer={isFromContainer}\n                onClose={onClose}\n                isBase={false}\n                startsBig={childrenStartBig}\n              />\n            )\n          } else {\n            return (\n              <InModule key={index}\n                modID={inputModID}\n                fromID={fromID}\n                toID={toID}\n                onClose={onClose}\n                startsBig={childrenStartBig}\n              />\n            )\n          }\n        })}\n      </AutoPlacingGrid>\n    </div>\n  )\n}\n\nexport default ContainerInModule","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport getModuleColor from '../../../theme/moduleColor'\nimport AutoPlacingGrid from '../../AutoPlacingGrid.tsx/AutoPlacingGrid'\nimport FlexCol from '../../Flex/FlexCol'\nimport useJSS from './style'\n\ninterface Props {\n  modID: string\n  startsBig: boolean\n  isBase: boolean\n}\n\n// only rendered for base modules\nfunction OutModule({ modID, startsBig, isBase }: Props) {\n  const classes = useJSS()\n  const mod = useSelector((state: RootState) => state.modules[modID])\n  const [isBig, setBig] = useState(startsBig)\n  return (\n    <div className={classes.Module} \n      style={{ \n        backgroundColor: getModuleColor(mod.moduleType),\n        overflow: 'visible',\n        marginRight: isBase ? '1em' : '0em',\n      }}\n    >\n      <div className={classes.Name}\n        onClick={() => { setBig(!isBig) }}\n      >{ mod.name }</div>\n      {!isBig ? null :\n      mod.connectionOutputs.length > 1 ?\n      <AutoPlacingGrid direction='row' numCols='2' gap='.2em'>\n        {mod.connectionOutputs.map((output, index) => {\n          return (\n            <FlexCol className={classes.ConnectorBounder} key={index}>\n              <div className={classes.IconConnector}\n                draggable={true}\n                onDragStart={e => {\n                  e.dataTransfer.setData('actualFromID', modID)\n                  e.dataTransfer.setData('outputIndex', index.toString())\n                }}\n              />\n              {mod.connectionOutputs.length === 1 ? null : \n                <div className={classes.ConnectorName}>{output}</div>\n              }\n            </FlexCol>\n          )\n        })}\n      </AutoPlacingGrid>\n      :\n      <FlexCol className={classes.ConnectorBounder}>\n        <div className={classes.IconConnector}\n          draggable={true}\n          onDragStart={e => {\n            e.dataTransfer.setData('actualFromID', modID)\n            e.dataTransfer.setData('outputIndex', '0')\n          }}\n        />\n      </FlexCol>\n      }\n    </div>\n  )\n}\n\nexport default OutModule","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { CONTAINER } from '../../../audioModules/moduleTypes'\nimport { ContainerModule, RootState } from '../../../redux/stateTSTypes'\nimport getModuleColor from '../../../theme/moduleColor'\nimport AutoPlacingGrid from '../../AutoPlacingGrid.tsx/AutoPlacingGrid'\nimport OutModule from './OutModule'\nimport useJSS from './style'\n\ninterface Props {\n  modID: string\n  startsBig: boolean\n  isBase: boolean // is the lowest one in the tree for connection\n}\n\nexport type OutModType = {\n  setBig: (isBig: boolean) => void\n}\n\nfunction ContainerOutModule({ modID, startsBig, isBase }: Props) {\n  const classes = useJSS()\n  const modules = useSelector((state: RootState) => state.modules)\n  const mod = modules[modID]\n  const modOutputs = (mod as ContainerModule).connectionOutputs\n  const childrenStartBig = modOutputs.length <= 2\n  const [isBig, setBig] = useState(startsBig)\n  return (\n    <div className={classes.Module} \n      style={{ \n        backgroundColor: getModuleColor(mod.moduleType),\n        marginRight: isBase ? '1em' : '0em',\n        maxHeight: isBase ? '60vmin' : '40vmin',\n        overflowY: isBase ? 'scroll' : 'visible',\n      }}>\n      <div className={classes.Name}\n        onClick={() => { setBig(!isBig) }}\n      >{ mod.name }</div>\n      <AutoPlacingGrid direction={'row'} numCols={2} gap={'.2em'}>\n        {!isBig ? null : modOutputs.map((outputModID, index) => {\n          const outMod = modules[outputModID]\n          if (outMod.moduleType === CONTAINER) {\n            return (\n              <ContainerOutModule key={index}\n                modID={outputModID} \n                startsBig={childrenStartBig}\n                isBase={false}\n              />\n            )\n          } else {\n            return (\n              <OutModule key={index} \n                modID={outputModID}\n                startsBig={childrenStartBig}\n                isBase={false}\n              />\n            )\n          }\n        })}\n      </AutoPlacingGrid>\n    </div>\n  )\n}\n\nexport default ContainerOutModule","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { CONTAINER } from '../../../audioModules/moduleTypes'\nimport { AnyModule, RootState } from '../../../redux/stateTSTypes'\nimport ContextMenu from '../ContextMenu/ContextMenu'\nimport { DragDivEvent } from '../types'\nimport FlexRow from '../../Flex/FlexRow'\nimport ContainerInModule from './ContainerInModule'\nimport ContainerOutModule from './ContainerOutModule'\nimport InModule from './InModule'\nimport OutModule from './OutModule'\n\ndeclare global {\n  interface Window {\n    openConnectionMenu: (event: DragDivEvent, fromID: string, toID: string) => void\n  }\n}\n\nfunction makeData(isOpen: boolean, event?: DragDivEvent, fromMod?: AnyModule, toMod?: AnyModule) {\n  return {\n    isOpen,\n    event,\n    fromMod,\n    toMod,\n  }\n}\n\nfunction ConnectionMenu() {\n  const [{ isOpen, event, fromMod, toMod }, setData] = useState(makeData(false))\n  const { modules } = useSelector((state: RootState) => state)\n  window.openConnectionMenu = (event, fromID, toID) => {\n    setData(makeData(true, event, modules[fromID], modules[toID]))\n  }\n  const onClose = () => {\n    setData(makeData(false)) \n  }\n  return (\n    <ContextMenu event={event as DragDivEvent} isOpen={isOpen} onClose={onClose}\n      style={{\n        padding: '.7em'\n      }}\n      bounderStyle={{\n        backgroundColor: 'rgba(0,0,0,.4)'\n      }}\n    >\n      <FlexRow>\n        {fromMod?.moduleType === CONTAINER ? \n          <ContainerOutModule modID={fromMod?.id as string} startsBig={true} isBase={true}/>\n        :\n          <OutModule modID={fromMod?.id as string} startsBig={true} isBase={true}/>\n        }\n        {toMod?.moduleType === CONTAINER ?\n          <ContainerInModule \n            modID={toMod?.id as string} \n            startsBig={true}\n            fromID={fromMod?.id as string}\n            toID={toMod?.id as string}\n            isFromContainer={fromMod?.moduleType === CONTAINER}\n            onClose={onClose}\n            isBase={true}\n          />\n        :\n          <InModule \n            modID={toMod?.id as string} \n            startsBig={true}\n            fromID={fromMod?.id as string}\n            toID={toMod?.id as string}\n            onClose={onClose}\n          />\n        }\n      </FlexRow>\n    </ContextMenu>\n  )\n}\n\nexport default ConnectionMenu","import { createUseStyles } from 'react-jss'\nimport { colors } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  Button: {\n    backgroundColor: colors.defaultButton,\n    borderColor: 'transparent',\n    borderRadius: '1vmin',\n    borderStyle: 'solid',\n    '&:active': {\n      borderColor: 'transparent',\n    },\n    '&:hover': {\n      cursor: ({ notClickable }) => notClickable ? '' : 'pointer',\n      borderColor: ({ notClickable }) => notClickable ? 'transparent' : 'white',\n    },\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: '.4em',\n    margin: '.3em',\n    textAlign: 'center',\n    fontSize: ({ fontSize }) => fontSize,\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n  },\n})\n\nexport default useJSS","import React, { RefObject, KeyboardEvent, MouseEvent } from 'react'\nimport useJSS from './style'\nimport CSS from 'csstype'\n\ninterface Props {\n  className?: string\n  children?: React.ReactNode\n  onClick?: (e: MouseEvent<HTMLDivElement>) => void\n  style?: CSS.Properties\n  onPointerDown?: (e: React.PointerEvent<HTMLDivElement>) => void\n  ref?: RefObject<HTMLDivElement>\n  onKeyDown?: (e: KeyboardEvent<HTMLDivElement>) => void\n  onContextMenu?: (e: MouseEvent<HTMLDivElement>) => void\n  fontSize?: string\n  notClickable?: boolean\n}\n\nfunction Button({ className, onClick, children, style, onPointerDown, ref, onKeyDown, onContextMenu, fontSize, notClickable }: Props) {\n  const classes = useJSS({ fontSize, notClickable })\n  return (\n    <div className={className ? `${classes.Button} ${className}` : classes.Button}\n      onClick={onClick}\n      onPointerDown={onPointerDown}\n      style={style}\n      ref={ref}\n      onKeyDown={onKeyDown}\n      onContextMenu={onContextMenu}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Button","import React from 'react'\nimport trashSVG from '../../icons/trash.svg'\nimport CSS from 'csstype'\n\ninterface Props {\n  className?: string\n  style?: CSS.Properties\n  alt: string\n}\n\nfunction TrashSVG({ className, style, alt }: Props) {\n  return (\n    <img className={className}\n      style={style}\n      src={trashSVG}\n      alt={alt}\n    />\n  )\n}\n\nexport default TrashSVG","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  DeleteButtonBounder: {\n    backgroundColor: colors.deleteButton,\n    fontSize: sizes.text.small,\n    padding: '.2em .4em',\n    '&:hover': {\n      borderColor: colors.deleteButton,\n    },\n  },\n\n  DeleteButtonSVG: {\n    width: '1.5em',\n    height: '1.5em',\n  },\n})\n\nexport default useJSS","import React from 'react'\nimport Button from '../Button/Button'\nimport TrashSVG from '../SVG/TrashSVG'\nimport useJSS from './style'\n\ninterface Props {\n  onClick: () => void\n}\n\nfunction DeleteButton({ onClick }: Props) {\n  const classes = useJSS()\n  return (\n    <Button className={classes.DeleteButtonBounder}\n      onPointerDown={e => { e.stopPropagation() }}\n      onClick={onClick}\n    >\n      <TrashSVG className={classes.DeleteButtonSVG}\n        alt={'delete'}\n      />\n    </Button>\n  )\n}\n\nexport default DeleteButton","import React from 'react'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { disconnect } from '../../../audioModules/connection'\nimport { ConnectingAudioModule } from '../../../audioModules/moduleTypes'\nimport { useDispatch } from 'react-redux'\nimport { removeModule } from '../../../redux/allActions'\nimport { useSelector } from 'react-redux'\nimport DeleteButton from '../DeleteButton'\n\ninterface Props {\n  modID: string\n  onClose: () => void\n}\n\nfunction ModuleDeleteButton({ modID, onClose }: Props) {\n  const am = window.audioModules\n  const dispatch = useDispatch()\n  const connections = useSelector((state: RootState) => state.connections)\n  const selectedModule = useSelector((state: RootState) => state.modules[modID])\n  return (\n    <DeleteButton\n      onClick={() => {\n        selectedModule.inputs.forEach(inputData => {\n          const { fromID, toID, param, outputIndex, actualOutputID: containerOutputChildID, actualInputID: containerInputChildID } = connections[inputData]\n          disconnect(am[containerOutputChildID ? containerOutputChildID : fromID] as ConnectingAudioModule, am[containerInputChildID ? containerInputChildID : toID] as ConnectingAudioModule, param, outputIndex)\n        })\n        selectedModule.outputs.forEach(outputData => {\n          const { fromID, toID, param, outputIndex, actualOutputID: containerOutputChildID, actualInputID: containerInputChildID } = connections[outputData]\n          disconnect(am[containerOutputChildID ? containerOutputChildID : fromID] as ConnectingAudioModule, am[containerInputChildID ? containerInputChildID : toID] as ConnectingAudioModule, param, outputIndex)\n        })\n        dispatch(removeModule(selectedModule.id))\n        onClose()\n      }}\n    />\n  )\n}\n\nexport default ModuleDeleteButton","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  Connection: {\n    fontSize: sizes.text.xsmall,\n    backgroundColor: colors.fillModule,\n    margin: '.5vmin 3vmin',\n    borderRadius: '1vmin',\n    borderColor: 'transparent',\n    borderStyle: 'solid',\n    minWidth: '30%',\n    padding: '1vmin',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    '&:hover': {\n      cursor: 'pointer',\n      borderColor: colors.deleteButton,\n    },\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n  },\n\n  Name: {\n    fontSize: sizes.text.medium,\n    margin: '1vmin',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  },\n\n  MenuHeader: {\n    fontSize: sizes.text.small,\n    borderStyle: 'none none solid none',\n    margin: '1vmin',\n    whiteSpace: 'noWrap',\n  },\n\n  OpenButton: {\n    fontSize: sizes.text.small,\n  },\n\n  SaveButton: {\n    fontSize: sizes.text.small\n  },\n})\n\nexport default useJSS","import React, { Fragment } from 'react'\nimport useJSS from './style'\nimport { Modules, RootState } from '../../../redux/stateTSTypes'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { removeConnection } from '../../../redux/allActions'\nimport { disconnect } from '../../../audioModules/connection'\nimport { ConnectingAudioModule } from '../../../audioModules/moduleTypes'\n\ninterface Props {\n  modID: string\n  modules: Modules\n}\n\nfunction InputOutputView({ modID, modules }: Props) {\n  const classes = useJSS()\n  const dispatch = useDispatch()\n  const am = window.audioModules\n  const connections = useSelector((state: RootState) => state.connections)\n  const selectedModule = useSelector((state: RootState) => state.modules[modID])\n  return (\n    <Fragment>\n\n      {selectedModule.inputs.length === 0 ? null :\n        <div className={classes.MenuHeader}>inputs</div>\n      }\n\n      {selectedModule.inputs.map((connectionID, index) => {\n        const { fromID, param, outputIndex, actualOutputID: containerOutputChildID, actualInputID: containerInputChildID } = connections[connectionID]\n        const name = modules[fromID].name\n        return (\n          <div className={classes.Connection}\n            key={fromID + param + 'inp' + index}\n            onClick={e => {\n              e.stopPropagation()\n              dispatch(removeConnection(connectionID))\n              disconnect(am[containerOutputChildID ? containerOutputChildID : fromID] as ConnectingAudioModule, am[containerInputChildID ? containerInputChildID : selectedModule.id] as ConnectingAudioModule, param, outputIndex)\n            }}\n            onPointerDown={e => {e.stopPropagation()}}\n          >\n            {`${name}${containerOutputChildID ? ` - ${modules[containerOutputChildID].name}` : ''}${param.length !== 0 ? ` - ${param}` : ''}`}\n          </div>\n        )\n      })}\n\n      {selectedModule.outputs.length === 0 ? null :\n        <div className={classes.MenuHeader}>outputs</div>\n      }\n\n      {selectedModule.outputs.map((connectionID, index) => {\n        const { toID, param, outputIndex, actualOutputID: containerOutputChildID, actualInputID: containerInputChildID } = connections[connectionID]\n        const name = modules[toID].name\n        return (\n          <div className={classes.Connection}\n            key={toID + param + 'out' + index}\n            onClick={e => {\n              e.stopPropagation()\n              dispatch(removeConnection(connectionID))\n              disconnect(am[containerOutputChildID ? containerOutputChildID : selectedModule.id] as ConnectingAudioModule, am[containerInputChildID ? containerInputChildID : toID] as ConnectingAudioModule, param, outputIndex)\n            }}\n            onPointerDown={e => { e.stopPropagation() }}\n          >\n            {`${name}${containerInputChildID ? ` - ${modules[containerInputChildID].name}` : ''}${param.length !== 0 ? ` - ${param}` : ''}`}\n          </div>\n        )\n      })}\n    </Fragment>\n  )\n}\n\nexport default InputOutputView","import React, { Fragment } from 'react'\nimport { CONTAINER } from '../../../audioModules/moduleTypes'\nimport { Modules } from '../../../redux/stateTSTypes'\nimport Button from '../../Button/Button'\nimport useJSS from './style'\n\ninterface Props {\n  modules: Modules\n  modID: string\n  onClose: () => void\n}\n\nfunction ContainerOpenButton({ modules, modID, onClose }: Props) {\n  const classes = useJSS()\n  return (\n    <Fragment>\n      {modules[modID].moduleType !== CONTAINER ? null :\n        <Button className={classes.OpenButton}\n          onClick={() => {\n            window.fillContainerID = modID\n            window.reRenderFillContainer()\n            onClose()\n          }}\n          onPointerDown={(e) => { e.stopPropagation() }}\n        >\n          open\n        </Button>\n      }\n    </Fragment>\n  )\n}\n\nexport default ContainerOpenButton","import React, { Fragment } from 'react'\nimport { CONTAINER } from '../../../audioModules/moduleTypes'\nimport { Modules } from '../../../redux/stateTSTypes'\nimport Button from '../../Button/Button'\nimport useJSS from './style'\n\ninterface Props {\n  modules: Modules\n  modID: string\n  onClose: () => void\n}\n\nfunction SpaceDBSaveButton({ modules, modID, onClose }: Props) {\n  const classes = useJSS()\n  return (\n    <Fragment>\n      {!window.usingElectron || modules[modID].moduleType !== CONTAINER ? null :\n      <Button className={classes.SaveButton}\n        onClick={() => {\n          window.containerSaveService.find().then((containerSaves: string[]) => {\n            window.openSpaceDBContainerSaveMenu(containerSaves, modID, onClose)\n          })\n          onClose()\n        }}\n      >\n        save to spaceDB\n      </Button>}\n    </Fragment>\n  )\n}\n\nexport default SpaceDBSaveButton","import {createUseStyles} from 'react-jss'\n\nconst useJSS = createUseStyles({\n  Bounder: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    borderRadius: '15px',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    userSelect: 'none',\n    margin: '10px',\n    '&:hover': {\n      cursor: 'pointer'\n    },\n    padding: '1vmin',\n  },\n\n  SwitchSVG: {\n    marginLeft: '1.5vmin',\n    flexShrink: 0,\n    //padding: '.5vmin',\n  },\n\n  Text: {\n    fontSize: ({ fontSize }) => fontSize,\n  }\n})\n\nexport default useJSS;","import React, { useState } from 'react'\nimport useJSS from './style'\nimport { useSpring, animated } from 'react-spring'\nimport { colors, sizes } from '../../theme/theme'\n\ninterface Props {\n  text: string,\n  onSwitch: (newState: boolean) => void,\n  initState: boolean,\n  style?: object,\n  fontSize?: string\n}\n\nconst heightDif = 1\n\nconst fullWidth = 2 * sizes.switch.diameter\nconst fullHeight = sizes.switch.diameter + heightDif\n\nconst rectWidth = 1.5 * sizes.switch.diameter\nconst rectHeight = sizes.switch.diameter - heightDif\nconst rectX = sizes.switch.diameter / 4\nconst rectY = heightDif\n\nconst circleCY = (sizes.switch.diameter + heightDif) / 2\n\n\nfunction Switch({ text, onSwitch, initState, style, fontSize }: Props) {\n  const [isSwitched, setSwitched] = useState(initState)\n  const classes = useJSS({ fontSize })\n  const spring = useSpring({\n    cx: isSwitched ? `${fullWidth - sizes.switch.diameter / 2}vmin` : `${sizes.switch.diameter / 2}vmin`,\n    fill: isSwitched ? 'green' : 'red',\n    config: {\n      tension: 250,\n    },\n  })\n  return (\n    <div className={classes.Bounder} style={style}>\n      <div className={classes.Text}\n        onClick={() => { onSwitch(!isSwitched); setSwitched(!isSwitched) }}\n      >\n        {text}\n      </div>\n      <svg className={classes.SwitchSVG}\n        width={`${fullWidth}vmin`}\n        height={`${fullHeight}vmin`}\n        onClick={() => {\n          onSwitch(!isSwitched); setSwitched(!isSwitched)\n        }}\n      >\n        <rect width={`${rectWidth}vmin`} height={`${rectHeight}vmin`} x={`${rectX}vmin`} y={`${rectY}vmin`} rx='10' ry='10' fill={colors.grey}/>\n        <animated.circle cx={spring.cx} cy={`${circleCY}vmin`} r={`${sizes.switch.diameter / 2}vmin`} fill={spring.fill}/>\n      </svg>\n    </div>\n  )\n}\n\nexport default Switch","import React from 'react'\nimport { sizes } from '../../../theme/theme'\nimport { Module, ContainerModule, RootState, ContainerControl } from '../../../redux/stateTSTypes'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { markContainerControl, unmarkContainerControl } from '../../../redux/allActions'\nimport { CONTAINER } from '../../../audioModules/moduleTypes'\nimport Button from '../../Button/Button'\nimport FlexRow from '../../Flex/FlexRow'\nimport Switch from '../../Switch/Switch'\nimport FlexCol from '../../Flex/FlexCol'\nimport useJSS from './style'\nimport Conditional from '../../Conditional/Conditional'\n\ninterface Props {\n  selectedModule: Module\n}\n\n\nfunction MarkContainerControls({ selectedModule }: Props) {\n  const dispatch = useDispatch()\n  const modules = useSelector((state: RootState) => state.modules)\n  const classes = useJSS()\n  const open = selectedModule.moduleType === CONTAINER ? \n    (selectedModule as ContainerModule).containerControls.length !== 0 \n    :\n    Object.keys(selectedModule.controlData).length !== 0\n  return (\n    <Conditional showIf={open}>\n      <FlexCol>\n        <div className={classes.MenuHeader}> mark as container control </div>\n        <FlexRow justifyContent='center' style={{ flexWrap: 'wrap', maxWidth: '40vmin' }}>\n          {\n            selectedModule.moduleType === CONTAINER ?\n            (selectedModule as ContainerModule).containerControls.map((control, index) => {\n              const { modID, controlID, actualModID, name, markedToContainer } = control\n              const modName = modules[modID].name\n              let containerControl: ContainerControl\n              const isMarked = markedToContainer ? true : false\n              if (isMarked) {\n                containerControl = (modules[selectedModule.parentID as string] as ContainerModule).containerControls.filter(containerControl => {\n                  return (\n                    containerControl.controlID === controlID &&\n                    containerControl.actualModID === actualModID\n                  )\n                })[0]\n              }\n              return (\n                <FlexRow>\n                  <Switch initState={isMarked} text={name ? name : `${modName} - ${controlID}`}\n                    style={{ fontSize: sizes.text.small, padding: '.2em' }}\n                    key={modID + index}\n                    onSwitch={nowMarked => {\n                      if (nowMarked) {\n                        dispatch(markContainerControl(selectedModule.id, controlID, actualModID))\n                      } else {\n                        dispatch(unmarkContainerControl(selectedModule.id, controlID, actualModID))\n                      }\n                    }}\n                  />\n                  {\n                    !isMarked ? null :\n                    <Button fontSize={sizes.text.xsmall}\n                      onClick={() => {\n                        window.openControlRenameMenu(controlID, selectedModule.parentID as string, containerControl)\n                      }}\n                    >\n                      edit\n                    </Button>\n                  }\n                </FlexRow>\n              )\n            }) : null\n          }\n          {\n          selectedModule.moduleType === CONTAINER ? null :\n          Object.keys(selectedModule.controlData).map((controlID, index) => {\n            const isMarked = selectedModule.controlData[controlID].markedToContainer ? true : false\n            let containerControl: ContainerControl\n            if (isMarked) {\n              containerControl = (modules[selectedModule.parentID as string] as ContainerModule).containerControls.filter(containerControl => {\n                return (\n                  containerControl.controlID === controlID &&\n                  containerControl.actualModID === selectedModule.id\n                )\n              })[0]\n            }\n            return (\n              <FlexRow key={index}>\n                <Switch initState={isMarked} text={controlID}\n                  style={{ fontSize: sizes.text.xsmall, padding: '1vmin' }}\n                  key={controlID + index}\n                  onSwitch={nowMarked => {\n                    if (nowMarked) {\n                      dispatch(markContainerControl(selectedModule.id, controlID, selectedModule.id))\n                    } else {\n                      dispatch(unmarkContainerControl(selectedModule.id, controlID, selectedModule.id))\n                    }\n                  }} \n                />\n                {\n                  !isMarked ? null :\n                  <Button style={{ fontSize: sizes.text.small }}\n                    onClick={() => {\n                      window.openControlRenameMenu(controlID, selectedModule.parentID as string, containerControl)\n                    }}\n                  >\n                    edit\n                  </Button>\n                }\n              </FlexRow>\n            )\n          })\n          }\n        </FlexRow>\n      </FlexCol>\n    </Conditional>\n  )\n}\n\nexport default MarkContainerControls","import React from 'react'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { markContainerInput, unmarkContainerInput, markContainerOutput, unmarkContainerOutput } from '../../../redux/allActions'\nimport CSS from 'csstype'\nimport { sizes } from '../../../theme/theme'\nimport MarkContainerControls from './MarkContainerControls'\nimport Switch from '../../Switch/Switch'\nimport useJSS from './style'\nimport FlexRow from '../../Flex/FlexRow'\nimport Conditional from '../../Conditional/Conditional'\n\ninterface Props {\n  modID: string\n}\n\nconst switchStyle: CSS.Properties = {\n  fontSize: sizes.text.small,\n  padding: '.1em',\n}\n\nfunction MarkContainerIO({ modID }: Props) {\n  const dispatch = useDispatch()\n  const baseContainerID = useSelector((state: RootState) => state.baseContainerID)\n  const selectedModule = useSelector((state: RootState) => state.modules[modID])\n  const showingContainerInput = selectedModule.connectionInputs.length !== 0\n  const showingContainerOutput = selectedModule.connectionOutputs.length !== 0\n  const classes = useJSS()\n  return (\n    <Conditional showIf={window.fillContainerID !== baseContainerID}>\n      <MarkContainerControls selectedModule={selectedModule} />\n      <Conditional showIf={showingContainerInput || showingContainerOutput}>\n        <div className={classes.MenuHeader}>\n          mark as container io\n        </div>\n        <FlexRow justifyContent='center'>\n          <Conditional showIf={showingContainerInput}>\n            <Switch style={switchStyle}\n              fontSize={sizes.text.xsmall}\n              key={selectedModule.id + 'inputSwitch'}\n              text={'input'}\n              initState={selectedModule.isContainerInput}\n              onSwitch={(newState) => {\n                if (newState) {\n                  dispatch(markContainerInput(selectedModule.id))\n                } else {\n                  dispatch(unmarkContainerInput(selectedModule.id))\n                }\n              }}\n            />\n          </Conditional>\n          <Conditional showIf={showingContainerOutput}>\n            <Switch style={switchStyle}\n              fontSize={sizes.text.xsmall}\n              key={selectedModule.id + 'outputSwitch'}\n              text={'output'}\n              initState={selectedModule.isContainerOutput}\n              onSwitch={(newState) => {\n                if (newState) {\n                  dispatch(markContainerOutput(selectedModule.id))\n                } else {\n                  dispatch(unmarkContainerOutput(selectedModule.id))\n                }\n              }}\n            />\n          </Conditional>\n        </FlexRow>\n      </Conditional>\n    </Conditional>\n  )\n}\n\nexport default MarkContainerIO","import React from 'react'\nimport { CONTAINER } from '../../../audioModules/moduleTypes'\nimport { Modules } from '../../../redux/stateTSTypes'\nimport Button from '../../Button/Button'\nimport Conditional from '../../Conditional/Conditional'\nimport useJSS from './style'\n\ninterface Props {\n  modID: string\n  modules: Modules\n  onClose: () => void\n}\n\nfunction FileSaveButton({ modID, modules, onClose }: Props) {\n  const classes = useJSS()\n  return (\n    <Conditional showIf={modules[modID].moduleType === CONTAINER}>\n      <Button className={classes.SaveButton}\n        onClick={() => {\n          window.openFileContainerSaveMenu(modID)\n          onClose()\n        }}\n      >\n        save to file\n      </Button>\n    </Conditional>\n  )\n}\n\nexport default FileSaveButton","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport ContextMenu from '../ContextMenu/ContextMenu'\nimport DeleteButton from './ModuleDeleteButton'\nimport InputOutputView from './InputOutputView'\nimport ContainerOpenButton from './ContainerOpenButton'\nimport SpaceDBSaveButton from './SpaceDBSaveButton'\nimport { MouseDivEvent } from '../types'\nimport MarkContainerIO from './MarkContainerIO'\nimport useJSS from './style'\nimport FileSaveButton from './FileSaveButton'\n\ndeclare global {\n  interface Window {\n    openModuleContextMenu: (event: MouseDivEvent, modID: string) => void\n  }\n}\n\nfunction makeData(isOpen: boolean, event?: MouseDivEvent, modID?: string) {\n  return {\n    isOpen,\n    event,\n    modID,\n  }\n}\n\nfunction ModuleContextMenu() {\n  const [{ isOpen, event, modID }, setData] = useState(makeData(false))\n  window.openModuleContextMenu = (event, modID) => {\n    setData(makeData(true, event, modID)) \n  }\n  const onClose = () => {\n    setData(makeData(false)) \n  }\n  const classes = useJSS()\n  const modules = useSelector((state: RootState) => state.modules)\n  return (\n    <ContextMenu onClose={onClose} event={event as MouseDivEvent} isOpen={isOpen}>\n      <div className={classes.Name}\n        title='rename module'\n        onClick={() => {\n          window.openModuleRenameMenu(modID as string)\n        }}\n      >{modules[modID as string]?.name}</div>\n      <ContainerOpenButton modules={modules} modID={modID as string} onClose={onClose} />\n      <InputOutputView modID={modID as string} modules={modules}/>\n      <SpaceDBSaveButton modules={modules} modID={modID as string} onClose={onClose} />\n      <FileSaveButton modules={modules} modID={modID as string} onClose={onClose} />\n      <MarkContainerIO modID={modID as string} />\n      <DeleteButton modID={modID as string} onClose={onClose}/>\n    </ContextMenu>\n  )\n}\n\nexport default ModuleContextMenu","import React from 'react'\nimport DeleteButton from '../../DeleteButton'\n\ninterface Props {\n  saveName: string\n  onClose: () => void\n}\n\nfunction ModuleDeleteButton({ saveName, onClose }: Props) {\n  return (\n    <DeleteButton onClick={() => {\n      window.containerSaveService.remove(saveName).then((res: string) => {\n        console.log(res)\n        //window.flashNotification(r)\n        window.refreshSpaceDBModules()\n        onClose()\n      })\n    }}/>\n  )\n}\n\nexport default ModuleDeleteButton","import React, { useState } from 'react'\nimport { zIndex } from '../../../../theme/zIndex'\nimport ContextMenu from '../../ContextMenu/ContextMenu'\nimport { MouseDivEvent } from '../../types'\nimport ModuleDeleteButton from './ModuleDeleteButton'\n\ndeclare global {\n  interface Window {\n    openSDBModuleContextMenu: (event: MouseDivEvent, saveName: string) => void\n  }\n}\n\nfunction makeData(isOpen: boolean, event?: MouseDivEvent, saveName?: string) {\n  return {\n    isOpen,\n    event,\n    saveName\n  }\n}\n\nfunction SDBModuleContextMenu() {\n  const [{ isOpen, event, saveName }, setData] = useState(makeData(false))\n  window.openSDBModuleContextMenu = (event, saveName) => {\n    setData(makeData(true, event, saveName)) \n  }\n  const onClose = () => setData(makeData(false))\n  return (\n    <ContextMenu event={event as MouseDivEvent}\n      onClose={() => setData(makeData(false))}\n      bounderStyle={{ zIndex: zIndex.centerMenu + 1 }}\n      isOpen={isOpen}\n    >\n      <ModuleDeleteButton saveName={saveName as string} onClose={onClose}/>\n    </ContextMenu>\n  )\n}\n\nexport default SDBModuleContextMenu","import React from 'react'\nimport DeleteButton from '../../DeleteButton'\n\ninterface Props {\n  saveName: string\n  setSaveList: (arg: string[]) => void\n  onClose: () => void\n}\n\nfunction ProjectDeleteButton({ saveName, setSaveList, onClose }: Props) {\n  return (\n    <DeleteButton \n      onClick={() => {\n        window.openConfirmDeleteMenu(saveName, () => {\n          window.setTimeout(() => {\n            window.projectSaveService.find().then((saveNames: string[]) => { \n              setSaveList(saveNames) \n            })\n          }, 1000)\n        })\n        onClose()\n      }}\n    />\n  )\n}\n\nexport default ProjectDeleteButton","import React, { useState } from 'react'\nimport ContextMenu from '../../ContextMenu/ContextMenu'\nimport { MouseDivEvent } from '../../types'\nimport ProjectDeleteButton from './ProjectDeleteButton'\n\ntype SetSaveList = (arg: string[]) => void\n\ndeclare global {\n  interface Window {\n    openSDBProjectContextMenu: (\n      event: MouseDivEvent,\n      saveName: string,\n      setSaveList: SetSaveList\n    ) => void\n  }\n}\n\nexport function makeData(\n  isOpen: boolean,\n  event?: MouseDivEvent,\n  saveName?: string,\n  setSaveList?: (arg: string[]) => void\n) {\n  return {\n    isOpen,\n    event,\n    saveName,\n    setSaveList\n  }\n}\n\nfunction SDBProjectContextMenu() {\n  const [{ isOpen, event, saveName, setSaveList }, setData] = useState(makeData(false))\n  window.openSDBProjectContextMenu = (event, saveName, setSaveList) => {\n    setData(makeData(true, event, saveName, setSaveList)) \n  }\n  const onClose = () => { setData(makeData(false)) }\n  return (\n    <ContextMenu event={event as MouseDivEvent} onClose={onClose} isOpen={isOpen}>\n      <ProjectDeleteButton saveName={saveName as string} setSaveList={setSaveList as SetSaveList} onClose={onClose} />\n    </ContextMenu>\n  )\n}\n\nexport default SDBProjectContextMenu","import React, { Fragment } from 'react'\nimport ConnectionMenu from './ConnectionMenu/ConnectionMenu'\nimport ModuleContextMenu from './Module/ModuleContextMenu'\nimport SDBModuleContextMenu from './SpaceDB/Modules/SDBModuleContextMenu'\nimport SDBProjectContextMenu from './SpaceDB/Projects/SDBProjectContextMenu'\n\nfunction ContextMenus() {\n  return (\n    <Fragment>\n      <ModuleContextMenu />\n      <SDBProjectContextMenu />\n      <SDBModuleContextMenu />\n      <ConnectionMenu />\n    </Fragment>\n  )\n}\n\nexport default ContextMenus","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../theme/theme'\n//import sineSVG from '../../icons/oscIcons/sine2.svg'\n\nconst useJSS = createUseStyles({\n  FillBounder: {\n    backgroundColor: colors.fillModule,\n    display: 'flex',\n    flexDirection: 'column',\n    margin: '5vmin',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    borderRadius: '2vmin',\n  },\n\n  FillHeaderBounder: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n\n  FillHeader: {\n    borderColor: 'white',\n    borderStyle: 'none none none none',\n    padding: '1vmin',\n    marginLeft: '2vmin',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  },\n\n  Fill: {\n    display: 'grid',\n    minWidth: sizes.moduleView.iconGrid,\n    minHeight: sizes.moduleView.iconGrid,\n    //alignItems: 'center',\n    //justifyItems: 'center',\n    padding: '4vmin',\n    zIndex: 1,\n    rowGap: sizes.moduleView.gutterGrid,\n    columnGap: sizes.moduleView.gutterGrid,\n  },\n\n  ArcherContainer: {\n    width: '100%',\n    height: '100%',\n    zIndex: 0,\n    display: 'grid',\n  },\n\n  Icon: {\n    backgroundColor: colors.module,\n    //backgroundImage: `url(${sineSVG})`,\n    //backgroundSize: 'contain',\n    borderRadius: '1.5vmin',\n    borderStyle: 'none',\n    borderColor: 'white',\n    whiteSpace: 'wrap',\n    fontSize: sizes.text.medium,\n    padding: '1vmin',\n    display: 'flex',\n    flexFlow: 'column nowrap',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-start',\n    overflow: 'hidden',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    '&:hover': {\n      cursor: 'pointer',\n      borderStyle: 'solid',\n    },\n    zIndex: 2,\n  },\n\n  IconControlContainer: {\n    width: sizes.moduleView.bigIconWidth,\n    maxHeight: sizes.moduleView.bigIconHeight,\n    justifySelf: 'flex-end',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    '&::-webkit-scrollbar': {\n      width: '0px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: 'white',\n    },\n  },\n\n  ArcherElement: {\n    zIndex: 1,\n    display: 'grid',\n    backgroundColor: 'transparent',\n    gridTemplateRows: '10px auto 10px',\n    gridTemplateColumns: '10px auto 10px',\n    padding: '1vmin'\n  },\n\n  IconName: {\n    fontSize: sizes.text.small,\n    '&:hover': {\n      cursor: 'pointer',\n    }\n  },\n\n  IconConnector: {\n    backgroundColor: colors.outputConnector,\n    width: sizes.connector.size,\n    height: sizes.connector.size,\n    borderRadius: sizes.connector.borderRadius,\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    borderStyle: 'solid',\n    borderColor: 'transparent',\n    '&:hover': {\n      cursor: 'pointer',\n      borderColor: 'white',\n    },\n    justifySelf: 'flex-start',\n    alignSelf: 'flex-end',\n    flexShrink: 0,\n  },\n})\n\nexport default useJSS","import { createUseStyles } from 'react-jss'\nimport { sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  MenuHeader: {\n    fontSize: sizes.text.medium,\n    borderStyle: 'none none solid none',\n    margin: '1vmin',\n    width: '90%'\n  }, \n\n  ControlBounder: {\n    display: 'flex',\n    flexFlow: 'row wrap',\n    //justifyContent: 'space-around',\n    alignItems: 'center',\n    fontSize: sizes.text.small,\n    justifyContent: 'center',\n    margin: '0vmin 1vmin'\n  },\n\n  ControlMenu: {\n    display: 'flex',\n    flexFlow: 'row wrap',\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n})\n\nexport default useJSS","import { createUseStyles } from 'react-jss'\nimport { sizes, colors } from '../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  ControlTypeSelect: {\n    minWidth: '9vmin',\n    maxWidth: '5em',\n    margin: '1vmin',\n    fontSize: sizes.text.small,\n    backgroundColor: colors.knob,\n    color: colors.knobText,\n    textAlign: 'center',\n  },\n\n  ControlInput: {\n    minWidth: '9vmin',\n    maxWidth: '5em',\n    margin: '1vmin',\n    fontSize: sizes.text.small\n  },\n\n  ControlMenu: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    alignItems: 'center'\n  },\n\n  Pad: {\n    width: '20vmin',\n    height: '15vmin',\n    borderRadius: '2vmin',\n    backgroundColor: 'black',\n  },\n\n  SrcName: {\n    fontSize: sizes.text.xsmall,\n    textAlign: 'center',\n    whiteSpace: 'normal',\n    justifyContent: 'center',\n    width: '100%',\n    overflowWrap: 'break-word',\n    wordWrap: 'break-word',\n    hyphens: 'auto',\n  }\n})\n\nexport default useJSS","import React from 'react'\nimport useJSS from './style'\nimport { sizes } from '../../../theme/theme'\nimport { SetFunc } from '../../../audioModules/moduleTypes'\nimport Button from '../../Button/Button'\n\ninterface Props {\n  actualModID: string\n  controlID: string\n  setFunc: SetFunc\n  reRenderIcon: () => void\n  modName?: string\n  label?: string\n}\n\nfunction File({ actualModID, controlID, setFunc, reRenderIcon, modName, label }: Props) {\n  const classes = useJSS()\n  return (\n    <div className={classes.ControlMenu}>\n      <label style={{ minWidth: '50%', }}\n        htmlFor={actualModID + controlID}\n      >\n        <Button fontSize={sizes.text.small}>\n          {label ? label : modName ? `${modName} - ${controlID}` : controlID}\n        </Button>\n      </label>\n      <input style={{ width: 0, height: 0, opacity: 0 }}\n        type='file'\n        id={actualModID + controlID}\n        onChange={(e) => {\n          const file = ((e.target as HTMLInputElement).files as FileList)[0]\n          setFunc(URL.createObjectURL(file))\n          window.audioTags[actualModID].srcName = file.name\n          window.reRenderAudioTags()\n          reRenderIcon()\n        }}\n      />\n      <div className={classes.SrcName}>\n        {window.audioTags[actualModID].srcName}\n      </div>\n    </div>\n  )\n}\n\nexport default File","import React from 'react'\nimport useJSS from './style'\nimport { SetFunc, AudioModuleWithTypes, ConnectingAudioModule } from '../../../audioModules/moduleTypes'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { updateControlValue } from '../../../redux/allActions'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport FlexRow from '../../Flex/FlexRow'\n\ninterface Props {\n  setFunc: SetFunc\n  actualModID: string\n  modName?: string\n  controlID: string\n  label?: string\n}\n\nfunction Type({ setFunc, controlID, actualModID, modName, label }: Props) {\n  const classes = useJSS()\n  const audioModule = window.audioModules[actualModID] as ConnectingAudioModule\n  const { audioNode } = audioModule\n  const dispatch = useDispatch()\n  const value = useSelector((state: RootState) => state.modules[actualModID].controlData[controlID].value)\n  return (\n    <FlexRow style={{ justifyContent: 'center', margin: '1vmin 0vmin' }}>\n      <label htmlFor={'type'}>{label ? label : modName ? `set type - ${modName}` : 'set type'}</label>\n      <select className={classes.ControlTypeSelect}\n        name='type' id='type'\n        onChange={e => {\n          setFunc(e.target.value)\n          dispatch(updateControlValue(actualModID, controlID, e.target.value))\n        }}\n        value={value as string ? value as string : audioNode.type as string}\n      >\n        {(audioModule as AudioModuleWithTypes).typeTypes.map(type => {\n          return (\n            <option value={type} key={actualModID + type}>{type}</option>\n          )\n        })}\n      </select>\n    </FlexRow>\n  )\n}\n\nexport default Type","export function stringIn(str: string, ar: any[]) {\n\t// returns true if string is an element of array\n\t// false otherwise\n\tfor (var i = 0; i < ar.length; i++) {\n\t\tif (ar[i] === str) {\n\t\t\treturn true\n\t\t}\n\t}\n\treturn false\n}\n\nexport function allStringsIn(strings: string[], ar: any[]) {\n\tfor (var i = 0; i < strings.length; i++) {\n\t\tif (!stringIn(strings[i], ar)) {\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n\nexport function bothStringsIn(str1: string, str2: string, ar: any[]) {\n\treturn (stringIn(str1, ar) && stringIn(str2, ar))\n}\n\nexport function switchVarIntoList(variable: any, list: any[], index: number) {\n\t// variable is set to list[index]\n\t// puts variable into list at index (replacing what's there)\n\t// ex. variable = GF.SwitchVarIntoList(variable, list, index);\n\tvar temp = list[index]\n\tlist[index] = variable\n\t\n\treturn temp\n}\n\nexport function wrap<T>(func: (...args: any[]) => T, ...args: any[]) {\n\tvar wrapped: () => T = function () {\n\t\treturn func(...args)\n\t}\n\t\n\treturn wrapped\n}\n\nexport function arrayEqual(arr1: any[], arr2: any[]) {\n\tif (arr1.length === arr2.length) {\n\t\tfor(var i = 0; i < arr1.length; i++) {\n\t\t\tif (arr1[i] !== arr2[i]) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\treturn true\n\t} else {\n\t\treturn false\n\t}\n}\n\nexport function range(start: number, stop: number) {\n\t// returns list of integers from start (inclusive) to stop (exclusive)\n\tvar out = []\n\tfor (var i = start; i < stop; i++) {\n\t\tout.push(i)\n\t}\n\treturn out\n}\n\nexport function clamp(val: number, range: [number, number]) {\n\treturn Math.min(range[1], Math.max(range[0], val))\n}\n\nexport function inRange(val: number, range: [number, number]) {\n\treturn val >= range[0] && val <= range[1]\n}\n\nexport function mapValBetweenRanges(val: number, fromRange: [number, number], toRange: [number, number]) {\n\tconst valProportion = (val - fromRange[0]) / (fromRange[1] - fromRange[0])\n\tconst toRangeDif = toRange[1] - toRange[0]\n\treturn toRange[0] + valProportion * toRangeDif\n}","import { sizes } from '../../theme/theme'\n\nexport function getRotation(val: number, range: [number, number]) {\n  return ((val - range[0]) / (range[1] - range[0])) * (sizes.knob.rotRange[1] - sizes.knob.rotRange[0]) + sizes.knob.rotRange[0]\n}\n\nexport function makeValString(val: number) {\n  const roundedNumString = (Math.floor(val * 10) / 10).toString()\n\n  return roundedNumString.slice(roundedNumString.length - 2, roundedNumString.length - 1) === '.' ? roundedNumString : roundedNumString + '.0'\n}","import { createUseStyles } from 'react-jss'\nimport { sizes, colors } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  KnobContainer: {\n    display: 'grid',\n    gridTemplateRows: 'auto',\n    gridTemplateColumns: 'auto',\n    placeItems: 'center',\n    margin: '1vmin',\n  },\n\n  KnobSVG: {\n    gridRow: '1',\n    gridColumn: '1',\n    width: `${sizes.knob.size + 1}vmin`,\n    height: `${sizes.knob.size + 1}vmin`,\n    zIndex: 9,\n    //boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)'\n  },\n\n  KnobText: {\n    gridRow: '1',\n    gridColumn: '1',\n    //display: 'flex',\n    //alignItems: 'center',\n    //justifyContent: 'center',\n    fontSize: sizes.text.xxsmall,\n    textAlign: 'center',\n    color: colors.knobText,\n    zIndex: 10,\n    width: '4em',\n    borderStyle: 'none',\n    backgroundColor: 'transparent',\n    '&::-webkit-outer-spin-button': {\n      '-webkit-appearance': 'none',\n      margin: 0,\n    },\n    '&::-webkit-inner-spin-button': {\n      '-webkit-appearance': 'none',\n      margin: 0,\n    }\n  },\n\n  InteractionLayer: {\n    gridRow: '1',\n    gridColumn: '1',\n    zIndex: 11,\n    width: `${sizes.knob.size}vmin`,\n    height: `${sizes.knob.size}vmin`,\n  },\n\n  SettingsButton: {\n    width: `${sizes.knob.size / 6}vmin`,\n    height: `${sizes.knob.size / 6}vmin`,\n    gridRow: '1',\n    gridColumn: '1',\n    placeSelf: 'end',\n    zIndex: 12,\n  }\n})\n\nexport default useJSS","import React, { useRef } from 'react'\nimport CSS from 'csstype'\nimport { sizes, colors } from '../../theme/theme'\nimport useJSS from './style'\nimport { clamp } from '../../helpers/genFuncs'\nimport { PointerEventCallback } from '../PointerLayer/PointerLayer'\nimport { getRotation, makeValString } from './helpers'\nimport settingsSVG from '../../icons/settings.svg'\n\ninterface Props {\n  initValue: number\n  range: [number, number]\n  svgStyle?: CSS.Properties\n  circleStyle?: CSS.Properties\n  onChange?: (newVal: number) => void\n  onEveryChange?: (newVal: number) => void\n  onSettingsClick?: () => void\n  inputVal: string\n  setInputVal: (newValString: string) => void\n}\n\nlet justClicked = false\n\nfunction StatelessKnob({ initValue, range, onChange, onEveryChange, onSettingsClick, inputVal, setInputVal }: Props) {\n  const classes = useJSS()\n  const svgRef = useRef<SVGSVGElement>(null)\n  const scale = (range[1] - range[0]) * sizes.knob.sensitivity / 200\n  let tempVal = clamp(initValue, range)\n  const textRef = useRef<HTMLInputElement>(null)\n  const onPointerMove: PointerEventCallback = e => {\n    tempVal = clamp(tempVal - e.movementY * scale, range)\n    if (svgRef.current) { svgRef.current.style.transform = `rotate(${getRotation(tempVal, range)}deg)` }\n    if (textRef.current) { textRef.current.value = `${makeValString(tempVal)}` }\n    if (onEveryChange) { onEveryChange(tempVal) }\n  }\n  const onPointerUp: PointerEventCallback = () => {\n    if (onChange) { onChange(tempVal) }\n    setInputVal(makeValString(tempVal))\n  }\n  return (\n    <div className={classes.KnobContainer}>\n      <svg className={classes.KnobSVG} width={`${sizes.knob.size + 1}vmin`} height={`${sizes.knob.size + 1}vmin`} ref={svgRef}\n        style={{ transform: `rotate(${getRotation(initValue, range)}deg)` }}\n      >\n        <circle cx={`${(sizes.knob.size + 1) / 2}vmin`} cy={`${(sizes.knob.size + 1) / 2}vmin`} r={`${sizes.knob.size / 2}vmin`} \n        stroke={colors.knobBorder} strokeWidth={sizes.knob.borderWidth} fill={colors.knob} />\n        <rect width={`${sizes.knob.markerWidth}vmin`} height={`${sizes.knob.markerHeight}vmin`} \n          x={`${(sizes.knob.size + 1) / 2 - sizes.knob.markerWidth / 2}vmin`} y='.5vmin' fill={colors.knobMarker}/>\n      </svg>\n      <input className={classes.KnobText}\n        ref={textRef}\n        onChange={e => {\n          setInputVal(e.target.value)\n          if (onEveryChange) { onEveryChange(clamp(Number(e.target.value), range)) }\n        }}\n        onBlur={e => {\n          if (e.target.value.length !== 0) {\n            const newVal = clamp(Number(e.target.value), range)\n            if (onChange) {\n              onChange(newVal)\n            }\n            setInputVal(makeValString(newVal))\n          } else {\n            if (textRef.current) {\n              textRef.current.value = inputVal\n            }\n          }\n        }}\n        onKeyDown={e => {\n          if (e.key === 'Enter') {\n            textRef.current?.blur()\n          }\n        }}\n        type='number'\n        value={inputVal}\n      />\n      <div className={classes.InteractionLayer}\n        title={`${initValue}`}\n        onClick={e => e.stopPropagation()}\n        onDragStart={e => e.stopPropagation()}\n        onPointerDown={e => {\n          e.stopPropagation()\n          e.preventDefault()\n          if (e.shiftKey) {\n            if (textRef.current) {\n              textRef.current.placeholder = textRef.current.value\n              textRef.current.value = ''\n              textRef.current.focus()\n            }\n          } else {\n            if (justClicked) {\n              if (textRef.current) {\n                textRef.current.placeholder = textRef.current.value\n                textRef.current.value = ''\n                textRef.current.focus()\n              }\n            } else {\n              window.openPointerLayer(e.pointerId, onPointerMove, onPointerUp)\n              justClicked = true\n              window.setTimeout(() => { justClicked = false }, 200)\n            }\n          }\n        }}\n      />\n      {!onSettingsClick ? null\n      :\n      <img className={classes.SettingsButton}\n        title='edit knob range'\n        src={settingsSVG}\n        alt='settings'\n        onClick={onSettingsClick}\n      />\n      }\n    </div>\n  )\n}\n\nexport default StatelessKnob","import React, { useState } from 'react'\nimport { SetFunc } from '../../../audioModules/moduleTypes'\nimport { clamp } from '../../../helpers/genFuncs'\nimport { makeValString } from '../../Knob/helpers'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { updateControlValue, updateControlRange } from '../../../redux/allActions'\nimport StatelessKnob from '../../Knob/StatelessKnob'\n\ninterface Props {\n  controlID: string\n  setFunc: SetFunc\n  actualModID: string\n  displayModName?: string\n  label?: string\n}\n\nfunction ValueControl({ controlID, setFunc, actualModID, displayModName, label }: Props) {\n  const { val, currRange } = useSelector((state: RootState) => {\n    return {\n      val: state.modules[actualModID].controlData[controlID].value as number,\n      currRange: state.modules[actualModID].controlData[controlID].range as [number, number],\n    }\n  })\n  const [inputVal, setInputVal] = useState(makeValString(val))\n  const dispatch = useDispatch()\n  return (\n    <div style={{ \n      display: 'flex', \n      flexDirection: 'column',\n      alignItems: 'center',\n    }}>\n      <StatelessKnob\n        initValue={val}\n        range={currRange}\n        inputVal={inputVal}\n        setInputVal={setInputVal}\n        onEveryChange={newVal => {\n          setFunc(newVal.toString())\n        }}\n        onChange={newVal => {\n          setFunc(newVal.toString())\n          dispatch(updateControlValue(actualModID, controlID, newVal))\n        }}\n        onSettingsClick={() => {\n          window.openKnobRangeSetMenu(actualModID, controlID, (newRange) => {\n            setFunc(clamp(val, newRange).toString())\n            setInputVal(makeValString(clamp(val, newRange)))\n            dispatch(updateControlRange(actualModID, controlID, newRange))\n          })\n        }}\n      />\n      <div>{label ? label : displayModName ? `${displayModName} - ${controlID}` : controlID}</div>\n    </div>\n  )\n}\n\nexport default ValueControl","import React from 'react'\nimport { SetFunc } from '../../../audioModules/moduleTypes'\nimport { sizes } from '../../../theme/theme'\nimport Button from '../../Button/Button'\n\ninterface Props {\n  setFunc: SetFunc\n  controlID: string\n  modName?: string\n  label?: string\n}\n\nfunction ButtonControl({ setFunc, controlID, modName, label }: Props) {\n  return (\n    <Button fontSize={sizes.text.small}\n      onClick={() => {\n        setFunc('')\n      }}\n    >\n      {label ? label : modName ? `${modName} - ${controlID}` : controlID}\n    </Button>\n  )\n}\n\nexport default ButtonControl","import React from 'react'\nimport { SetFunc } from '../../../audioModules/moduleTypes'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport Switch from '../../Switch/Switch'\n\ninterface Props {\n  controlID: string\n  setFunc: SetFunc\n  actualModID: string\n  modName?: string\n  label?: string\n}\n\nfunction SwitchControl({ controlID, setFunc, actualModID, modName, label }: Props) {\n  const initState = useSelector((state: RootState) => state.modules[actualModID].controlData[controlID].value as boolean)\n  return (\n    <Switch text={label ? label : modName ? `${modName} - ${controlID}` : controlID} \n      initState={initState} \n      onSwitch={(newState) => {\n        setFunc(newState ? 'true' : 'false')\n      }}\n    />\n  )\n}\n\nexport default SwitchControl","import React, { useState } from 'react'\nimport Sketch from 'react-p5'\nimport p5Types from 'p5'\nimport { AnalyzerModule } from '../../../audioModules/modules/analyzer'\nimport { mapValBetweenRanges } from '../../../helpers/genFuncs'\nimport { colors, sizes } from '../../../theme/theme'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { Range } from '../../../audioModules/moduleTypes'\nimport { updateControlRange } from '../../../redux/allActions'\nimport FlexCol from '../../Flex/FlexCol'\nimport Button from '../../Button/Button'\n\ninterface Props {\n  modID: string\n}\n\nconst height = 200\n\nfunction Graph({ modID }: Props) {\n  const analyzer = window.audioModules[modID] as AnalyzerModule\n  const yRange = useSelector((state: RootState) => state.modules[modID].controlData['time graph'].range as Range)\n  const zero = height - mapValBetweenRanges(0, yRange, [0, height])\n  const [width, setWidth] = useState(0)\n\n  function setup(p5: p5Types, canvasParentRef: Element) {\n    p5.createCanvas(canvasParentRef.clientWidth, height).parent(canvasParentRef)\n    p5.textAlign(p5.CENTER, p5.CENTER)\n    p5.fill(100)\n    setWidth(canvasParentRef.clientWidth)\n  }\n\n  function draw(p5: p5Types) {\n    analyzer.audioNode.getFloatTimeDomainData(analyzer.timeArray)\n    const xStep = width / analyzer.bufferLength\n    p5.background(0) // draw black background\n\n    let currX = 0\n    let currY = height - mapValBetweenRanges(analyzer.timeArray[0], yRange, [0, height])\n    p5.stroke(colors.analyzerModuleBG)\n    p5.strokeWeight(6)\n    for (let i = 0; i < analyzer.bufferLength - 1; i++) {\n      const nextX = (i + 1) * xStep\n      const nextY = height - mapValBetweenRanges(analyzer.timeArray[i + 1], yRange, [0, height])\n      p5.line(currX, currY, nextX, nextY)\n      currX = nextX\n      currY = nextY\n    }\n\n    const zeroXStep = width / 20\n    // draw 0 indicator\n    p5.stroke(100)\n    p5.strokeWeight(1)\n    p5.line(0, zero, zeroXStep, zero)\n    p5.text('0', 1.5 * zeroXStep, zero)\n  }\n\n  const dispatch = useDispatch()\n  return (\n    <FlexCol justifyContent='center' alignItems='center'>\n      <Sketch style={{ width: sizes.moduleView.bigIconWidth }}\n        setup={setup} \n        draw={draw} \n      />\n      <Button style={{ width: '10em' }}\n        onClick={() => {\n          window.openAnalyzerRangeSetMenu(yRange, newRange => {\n            dispatch(updateControlRange(modID, 'time graph', newRange))\n          })\n        }}\n      >\n        change range\n      </Button>\n    </FlexCol>\n  )\n}\n\nexport default Graph","import { createUseStyles } from 'react-jss'\n\nconst useJSS = createUseStyles({\n  BabylonCanvas: {\n    width: ({ width }) => width,\n    height: ({ height }) => height\n  },\n})\n\nexport default useJSS","import React, { CanvasHTMLAttributes, useEffect, useRef } from 'react'\nimport { Engine, EngineOptions, Scene, SceneOptions } from '@babylonjs/core'\nimport useJSS from './style'\n\ninterface Props extends CanvasHTMLAttributes<HTMLCanvasElement> {\n  antialias?: boolean\n  engineOptions?: EngineOptions\n  adaptToDeviceRatio?: boolean\n  sceneOptions?: SceneOptions\n  onRender: (scene: Scene) => void\n  onSceneReady: (scene: Scene) => void\n  width?: string,\n  height?: string,\n}\n\nfunction BabylonCanvas({ \n  onRender, onSceneReady, \n  antialias, engineOptions, \n  adaptToDeviceRatio, sceneOptions,\n  width, height, ...rest \n}: Props) {\n  const reactCanvas = useRef<HTMLCanvasElement>(null)\n  const { BabylonCanvas } = useJSS({ width, height })\n  useEffect(() => {\n    if (reactCanvas.current) {\n      const engine = new Engine(reactCanvas.current, antialias, engineOptions, adaptToDeviceRatio)\n      const scene = new Scene(engine, sceneOptions)\n      if (scene.isReady()) {\n        if (onSceneReady) onSceneReady(scene)\n      } else {\n        scene.onReadyObservable.addOnce(scene => { if (onSceneReady) onSceneReady(scene) })\n      }\n\n      engine.runRenderLoop(() => {\n        if (typeof onRender === 'function') {\n          onRender(scene)\n        }\n        scene.render()\n      })\n\n      const resize = () => {\n        scene.getEngine().resize()\n      }\n\n      if (window) {\n        window.addEventListener('resize', resize)\n      }\n\n      return () => {\n        scene.getEngine().dispose()\n\n        if (window) {\n          window.removeEventListener('resize', resize)\n        }\n      }\n    }\n  }, [adaptToDeviceRatio, antialias, engineOptions, onRender, onSceneReady, sceneOptions])\n\n  return (\n    <canvas className={BabylonCanvas}\n      ref={reactCanvas} \n      {...rest} \n    />\n  )\n}\n\nexport default BabylonCanvas","import { stringIn } from \"../helpers/genFuncs\"\n\nexport function filterOutFromObj<ObjType>(obj: ObjType, idsToFilterOut: string[]) {\n  return Object.fromEntries(Object.entries(obj).filter(entry => {\n    return !stringIn(entry[0], idsToFilterOut)\n  }))\n}\n\nexport function keepOnlyIdsInObj<ObjType>(obj: ObjType, idsToKeep: string[]) {\n  return Object.fromEntries(Object.entries(obj).filter(entry => {\n    return stringIn(entry[0], idsToKeep)\n  }))\n}\n\nexport function ObjFrom2Arrays(keys: string[], entries: any[]) {\n  if (keys.length === entries.length) {\n    return Object.fromEntries(keys.map((id, index) => {\n      return [id, entries[index]]\n    }))\n  }\n  return {}\n}","import { ObjFrom2Arrays } from \"../redux/helpers\"\n\nexport const notes: { [index: string]: number } = {\n  \"C0\": 16.35,\n  \"C#0\": 17.32,\n  \"Db0\": 17.32,\n  \"D0\": 18.35,\n  \"D#0\": 19.45,\n  \"Eb0\": 19.45,\n  \"E0\": 20.60,\n  \"F0\": 21.83,\n  \"F#0\": 23.12,\n  \"Gb0\": 23.12,\n  \"G0\": 24.50,\n  \"G#0\": 25.96,\n  \"Ab0\": 25.96,\n  \"A0\": 27.50,\n  \"A#0\": 29.14,\n  \"Bb0\": 29.14,\n  \"B0\": 30.87,\n  \"C1\": 32.70,\n  \"C#1\": 34.65,\n  \"Db1\": 34.65,\n  \"D1\": 36.71,\n  \"D#1\": 38.89,\n  \"Eb1\": 38.89,\n  \"E1\": 41.20,\n  \"F1\": 43.65,\n  \"F#1\": 46.25,\n  \"Gb1\": 46.25,\n  \"G1\": 49.00,\n  \"G#1\": 51.91,\n  \"Ab1\": 51.91,\n  \"A1\": 55.00,\n  \"A#1\": 58.27,\n  \"Bb1\": 58.27,\n  \"B1\": 61.74,\n  \"C2\": 65.41,\n  \"C#2\": 69.30,\n  \"Db2\": 69.30,\n  \"D2\": 73.42,\n  \"D#2\": 77.78,\n  \"Eb2\": 77.78,\n  \"E2\": 82.41,\n  \"F2\": 87.31,\n  \"F#2\": 92.50,\n  \"Gb2\": 92.50,\n  \"G2\": 98.00,\n  \"G#2\": 103.83,\n  \"Ab2\": 103.83,\n  \"A2\": 110.00,\n  \"A#2\": 116.54,\n  \"Bb2\": 116.54,\n  \"B2\": 123.47,\n  \"C3\": 130.81,\n  \"C#3\": 138.59,\n  \"Db3\": 138.59,\n  \"D3\": 146.83,\n  \"D#3\": 155.56,\n  \"Eb3\": 155.56,\n  \"E3\": 164.81,\n  \"F3\": 174.61,\n  \"F#3\": 185.00,\n  \"Gb3\": 185.00,\n  \"G3\": 196.00,\n  \"G#3\": 207.65,\n  \"Ab3\": 207.65,\n  \"A3\": 220.00,\n  \"A#3\": 233.08,\n  \"Bb3\": 233.08,\n  \"B3\": 246.94,\n  \"C4\": 261.63,\n  \"C#4\": 277.18,\n  \"Db4\": 277.18,\n  \"D4\": 293.66,\n  \"D#4\": 311.13,\n  \"Eb4\": 311.13,\n  \"E4\": 329.63,\n  \"F4\": 349.23,\n  \"F#4\": 369.99,\n  \"Gb4\": 369.99,\n  \"G4\": 392.00,\n  \"G#4\": 415.30,\n  \"Ab4\": 415.30,\n  \"A4\": 440.00,\n  \"A#4\": 466.16,\n  \"Bb4\": 466.16,\n  \"B4\": 493.88,\n  \"C5\": 523.25,\n  \"C#5\": 554.37,\n  \"Db5\": 554.37,\n  \"D5\": 587.33,\n  \"D#5\": 622.25,\n  \"Eb5\": 622.25,\n  \"E5\": 659.26,\n  \"F5\": 698.46,\n  \"F#5\": 739.99,\n  \"Gb5\": 739.99,\n  \"G5\": 783.99,\n  \"G#5\": 830.61,\n  \"Ab5\": 830.61,\n  \"A5\": 880.00,\n  \"A#5\": 932.33,\n  \"Bb5\": 932.33,\n  \"B5\": 987.77,\n  \"C6\": 1046.50,\n  \"C#6\": 1108.73,\n  \"Db6\": 1108.73,\n  \"D6\": 1174.66,\n  \"D#6\": 1244.51,\n  \"Eb6\": 1244.51,\n  \"E6\": 1318.51,\n  \"F6\": 1396.91,\n  \"F#6\": 1479.98,\n  \"Gb6\": 1479.98,\n  \"G6\": 1567.98,\n  \"G#6\": 1661.22,\n  \"Ab6\": 1661.22,\n  \"A6\": 1760.00,\n  \"A#6\": 1864.66,\n  \"Bb6\": 1864.66,\n  \"B6\": 1975.53,\n  \"C7\": 2093.00,\n  \"C#7\": 2217.46,\n  \"Db7\": 2217.46,\n  \"D7\": 2349.32,\n  \"D#7\": 2489.02,\n  \"Eb7\": 2489.02,\n  \"E7\": 2637.02,\n  \"F7\": 2793.83,\n  \"F#7\": 2959.96,\n  \"Gb7\": 2959.96,\n  \"G7\": 3135.96,\n  \"G#7\": 3322.44,\n  \"Ab7\": 3322.44,\n  \"A7\": 3520.00,\n  \"A#7\": 3729.31,\n  \"Bb7\": 3729.31,\n  \"B7\": 3951.07,\n  \"C8\": 4186.01,\n  \"C#8\": 4434.92,\n  \"Db8\": 4434.92,\n  \"D8\": 4698.64,\n  \"D#8\": 4978.03,\n  \"Eb8\": 4978.03\n}\n\nconst keysNoSharp = Object.keys(notes).filter(note => note.length <= 2 || note[1] !== '#')\n\nexport const notesNoSharp = ObjFrom2Arrays(\n  keysNoSharp,\n  keysNoSharp.map(note => notes[note])\n)\n\nexport const noteIndices = ObjFrom2Arrays(keysNoSharp, keysNoSharp.map((note, index) => index))","import { AbstractMesh, Color3, MeshBuilder, Plane, Scene, StandardMaterial, TransformNode } from \"@babylonjs/core\"\nimport { AdvancedDynamicTexture, TextBlock } from \"babylonjs-gui\"\nimport { Range } from \"../../../../audioModules/moduleTypes\"\nimport { mapValBetweenRanges } from \"../../../../helpers/genFuncs\"\nimport { noteIndices, notes, notesNoSharp } from \"../../../../helpers/notes\"\n\nexport const noteFreqRange = [Math.log(notes['C1']), Math.log(notes['C5'])] as Range\nexport const dialRange = [0, 2 * Math.PI * .95] as Range\n\nexport const diameter = 1600\nconst height = 160\n\nfunction makeTextPlane(name: string, text: string, width: number, fontSize: number) {\n  const textPlane = MeshBuilder.CreatePlane(name, {\n    width,\n    height: 40,\n    sourcePlane: new Plane(1, 0, 0, 0)\n  })\n  const textMat = AdvancedDynamicTexture.CreateForMesh(textPlane)\n  const textBlock = new TextBlock(`${name}text`, text)\n  textBlock.fontSize = fontSize\n  textBlock.width = width\n  textBlock.height = 50\n  textBlock.color = 'black'\n  textMat.addControl(textBlock)\n  return textPlane\n}\n\nfunction makeDial(scene: Scene) {\n  const dialMat = new StandardMaterial('dialMat', scene)\n  const tickMat = new StandardMaterial('tickMat', scene)\n  tickMat.diffuseColor = new Color3(0, .5, 0)\n\n  const dial = MeshBuilder.CreateCylinder('dial', {\n    height,\n    diameter,\n    tessellation: Math.pow(2, 7),\n  }, scene)\n  dial.material = dialMat\n  dial.cullingStrategy = AbstractMesh.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION\n  Object.keys(notesNoSharp).filter((note, index) => index >= noteIndices['C1'] && index <= noteIndices['C5']).forEach(note => {\n    const tickPos = mapValBetweenRanges(Math.log(notes[note]), noteFreqRange, dialRange)\n    const tickNode = new TransformNode(`${note}node`)\n    //tickNode.position.y = -10\n    const tick = MeshBuilder.CreateBox(`${note}tick`, {\n      height: height/2,\n      width: 2,\n      depth: 10,\n    })\n    tick.material = tickMat\n    tick.position.x = diameter / 2 + 2\n    tick.parent = tickNode\n    tickNode.rotation.y = -tickPos\n    tickNode.parent = dial\n\n    const noteTextPlane = makeTextPlane(`${note}textplane`, note, 50, 450)\n    noteTextPlane.position.y = height/2 - 20\n    noteTextPlane.parent = tick\n\n    const freqTextPlane = makeTextPlane(`${note}freqplane`, `${notes[note]}`.slice(0, Math.min(`${notes[note]}`.length, 5)), 50, 400)\n    freqTextPlane.position.y = - height/2 + 20\n    freqTextPlane.parent = tick\n  })\n}\n\nexport default makeDial","import { Color3, Color4, Mesh, PointLight, TargetCamera, Vector3 } from '@babylonjs/core'\nimport React, { Fragment } from 'react'\nimport { TunerModule } from '../../../../audioModules/modules/tuner'\nimport { Range, TUNER } from '../../../../audioModules/moduleTypes'\nimport { clamp, mapValBetweenRanges } from '../../../../helpers/genFuncs'\nimport getModuleColor from '../../../../theme/moduleColor'\nimport { sizes } from '../../../../theme/theme'\nimport BabylonCanvas from '../../../BabylonCanvas/BabylonCanvas'\nimport makeDial, { dialRange, diameter, noteFreqRange } from './makeDial'\n\n\ninterface Props {\n  modID: string\n}\n\nfunction Tuner({ modID }: Props) {\n  let target = -.1\n  let frame = 0\n  const tuner = window.audioModules[modID] as TunerModule\n  return (\n    <Fragment>\n      <BabylonCanvas\n        onSceneReady={scene => {\n          // set background / ambient color\n          scene.clearColor = Color4.FromHexString(getModuleColor(TUNER) as string)\n          scene.ambientColor = new Color3(.5, .5, .5)\n\n          // setup camera\n          const camPos = new Vector3(diameter/2 + 200, 0, 0)\n          const camera = new TargetCamera('tunerCam', camPos, scene)\n          //camera.fov = Math.PI / 3\n          camera.setTarget(new Vector3(0, 0, 0))\n\n          // setup lighting\n          const lightPos = new Vector3(1110.5, 300, 0)\n          //const light= new PointLight('light', lightPos, scene)\n          const light = new PointLight('light', lightPos, scene)\n          light.diffuse = new Color3(1, 0, 0)\n          light.specular = new Color3(0, .1, 0)\n\n          //make dial\n          makeDial(scene)\n          \n        }}\n        onRender={scene => {\n          if (frame === 0) {\n            const [maxFreq, maxdB] = tuner.controlSetFuncs['tuner']('') as Range\n            if (maxdB > -75) {\n              target = mapValBetweenRanges(clamp(Math.log(maxFreq), noteFreqRange as Range), noteFreqRange, dialRange)\n            } else {\n              target = -.15\n            }\n          }\n          const dial = scene.getMeshByName('dial') as Mesh\n          dial.rotation.y += .1 * (target - dial.rotation.y)\n          frame = (frame + 1) % 30\n        }}\n        style={{\n          borderRadius: '.8em',\n          marginTop: '1em',\n        }}\n        width={sizes.moduleView.bigIconWidth}\n        height='200px'\n      />\n    </Fragment>\n  )\n}\n\nexport default Tuner","import React from 'react'\nimport useJSS from './style'\n\ninterface Props {\n  setFunc: (arg: string) => void\n}\n\nfunction PadControl({ setFunc }: Props) {\n  const classes = useJSS()\n  return (\n    <div className={classes.Pad}\n      onPointerDown={e => {\n        e.preventDefault()\n        setFunc('on')\n      }}\n      onPointerCancel={e => {\n        e.preventDefault()\n        setFunc('off')\n      }}\n      onPointerUp={e => {\n        e.preventDefault()\n        setFunc('off')\n      }}\n    />\n  )\n}\n\nexport default PadControl","import React from 'react'\nimport useJSS from './style'\nimport { AudioModule, GRAPH, PAD, TUNER_CONTROL } from '../../audioModules/moduleTypes'\nimport { Module } from '../../redux/stateTSTypes'\nimport { TYPE, BUTTON, VALUE, FILE, SWITCH } from '../../audioModules/moduleTypes'\nimport { FileControl, TypeControl, ValueControl, ButtonControl, SwitchControl, GraphControl, TunerControl } from './controls/all'\nimport PadControl from './controls/Pad'\n\ninterface Props {\n  audioModule: AudioModule\n  selectedModule: Module\n  reRenderIcon: () => void\n}\n\nfunction ControlMenu({ audioModule, selectedModule, reRenderIcon }: Props) {\n  const classes = useJSS()\n  return (\n    <div className={classes.ControlMenu}>\n      {Object.keys(selectedModule.controlData).map((controlID, index) => {\n        const { controlType } = selectedModule.controlData[controlID]\n        const setFunc = audioModule.controlSetFuncs[controlID]\n        return (\n          <div className={classes.ControlBounder} key={selectedModule.id + controlID + index}>\n            {controlType === VALUE\n            ?\n            <ValueControl controlID={controlID} setFunc={setFunc} actualModID={selectedModule.id}/>\n            :\n            controlType === BUTTON && controlID !== 'open'\n            ?\n            <ButtonControl setFunc={setFunc} controlID={controlID} />\n            :\n            controlType === TYPE\n            ?\n            <TypeControl setFunc={setFunc} controlID={controlID} actualModID={selectedModule.id} />\n            :\n            controlType === FILE\n            ?\n            <FileControl controlID={controlID} setFunc={setFunc} reRenderIcon={reRenderIcon} actualModID={selectedModule.id}/>\n            :\n            controlType === SWITCH\n            ?\n            <SwitchControl controlID={controlID} setFunc={setFunc} actualModID={selectedModule.id} />\n            :\n            controlType === GRAPH\n            ?\n            <GraphControl modID={selectedModule.id} />\n            :\n            controlType === PAD\n            ?\n            <PadControl setFunc={setFunc} />\n            :\n            controlType === TUNER_CONTROL\n            ?\n            <TunerControl modID={selectedModule.id} />\n            :\n            null\n            }\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default ControlMenu","import React from 'react'\nimport useJSS from './style'\nimport { ContainerModule, RootState } from '../../redux/stateTSTypes'\nimport { TYPE, BUTTON, VALUE, FILE, SWITCH, GRAPH, PAD, TUNER_CONTROL } from '../../audioModules/moduleTypes'\nimport { FileControl, TypeControl, ValueControl, ButtonControl, SwitchControl, GraphControl, TunerControl } from './controls/all'\nimport { useSelector } from 'react-redux'\nimport PadControl from './controls/Pad'\n\ninterface Props {\n  selectedModule: ContainerModule\n  reRenderIcon: () => void\n}\n\nfunction ContainerControlMenu({ selectedModule, reRenderIcon }: Props) {\n  const classes = useJSS()\n  const modules = useSelector((state: RootState) => state.modules)\n  return (\n    <div className={classes.ControlMenu}>\n      {selectedModule.containerControls.map(({ modID, controlID, actualModID, name }, index) => {\n        const audioModule = window.audioModules[actualModID]\n        const { controlType } = modules[actualModID].controlData[controlID]\n        const setFunc = audioModule.controlSetFuncs[controlID]\n        const modName = modules[modID].name\n        return (\n          <div className={classes.ControlBounder} key={modID + controlID + index}>\n            {\n            controlType === VALUE\n            ?\n            <ValueControl controlID={controlID} setFunc={setFunc} actualModID={actualModID} displayModName={modName} label={name}/>\n            :\n            controlType === BUTTON\n            ?\n            <ButtonControl setFunc={setFunc} controlID={controlID} modName={modName} label={name}/>\n            :\n            controlType === TYPE\n            ?\n            <TypeControl setFunc={setFunc} controlID={controlID} actualModID={actualModID} modName={modName} label={name}/>\n            :\n            controlType === FILE\n            ?\n            <FileControl controlID={controlID} setFunc={setFunc} reRenderIcon={reRenderIcon} modName={modName} actualModID={actualModID} label={name}/>\n            :\n            controlType === SWITCH\n            ?\n            <SwitchControl controlID={controlID} setFunc={setFunc} actualModID={actualModID} modName={modName} label={name}/>\n            :\n            controlType === GRAPH\n            ?\n            <GraphControl modID={actualModID} />\n            :\n            controlType === PAD\n            ?\n            <PadControl setFunc={setFunc} />\n            :\n            controlType === TUNER_CONTROL\n            ?\n            <TunerControl modID={actualModID} />\n            :\n            null\n            }\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default ContainerControlMenu","import { createUseStyles } from 'react-jss'\nimport { sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  DropSquare: {\n    width: sizes.moduleView.icon,\n    height: sizes.moduleView.icon,\n    padding: '.5vmin',\n    borderStyle: 'solid',\n    borderRadius: '10px',\n    zIndex: 1,\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  },\n})\n\nexport default useJSS","import { CONTAINER } from \"../../audioModules/moduleTypes\"\nimport { Modules } from \"../../redux/stateTSTypes\"\n\nexport function getGridRange(childModules: string[], modules: Modules) {\n  let maxRow = 0\n  let maxCol = 0 // min col is always 0\n  childModules.forEach(moduleID => {\n    const mod = modules[moduleID]\n    if (mod.row > maxRow) {\n      maxRow = mod.row\n    }\n    if (mod.col > maxCol) {\n      maxCol = mod.col\n    }\n  })\n  return { maxRow, maxCol }\n}\n\nexport function isOccupied(row: number, col: number, currentChildren: string[], modules: Modules) {\n  for (var i = 0; i < currentChildren.length; i++) {\n    const mod = modules[currentChildren[i]]\n    if (mod.row === row && mod.col === col) {\n      return mod.id\n    }\n  }\n  return false\n}\n\nfunction onlyOneOutput(fromID: string, modules: Modules): boolean | string { // returns the string of the actual output id, or false\n  if (modules[fromID].moduleType === CONTAINER) {\n    if (modules[fromID].connectionOutputs.length === 1) {\n      return onlyOneOutput(modules[fromID].connectionOutputs[0], modules)\n    } else {\n      return false\n    }\n  } else {\n    if (modules[fromID].connectionOutputs.length === 1) {\n      return fromID\n    } else {\n      return false\n    }\n  }\n}\n\nfunction onlyOneInput(toID: string, modules: Modules): boolean | string {\n  if (modules[toID].moduleType === CONTAINER) {\n    if (modules[toID].connectionInputs.length === 1) {\n      return onlyOneInput(modules[toID].connectionInputs[0], modules)\n    } else {\n      return false\n    }\n  } else {\n    if (modules[toID].connectionInputs.length === 1 && window.audioModules[toID].connectingParamIDs.length === 0) {\n      return toID\n    } else {\n      return false\n    }\n  }\n}\n\nexport function onlyOneConnectionOption(fromID: string, toID: string, modules: Modules) {\n  const actualFromID = onlyOneOutput(fromID, modules)\n  const actualToID = onlyOneInput(toID, modules)\n  return {\n    onlyOne: typeof(actualFromID) === 'string' && typeof(actualToID) === 'string',\n    actualFromID,\n    actualToID\n  }\n}","import { RootState, ContainerModule, Modules, Connections } from \"./stateTSTypes\";\nimport { CONTAINER } from \"../audioModules/moduleTypes\";\nimport { keepOnlyIdsInObj } from \"./helpers\";\nimport { bothStringsIn } from \"../helpers/genFuncs\";\n\nfunction getChildrenRecursive(containerID: string, modules: Modules): string[] {\n  const childIDs = (modules[containerID] as ContainerModule).childModules\n  let containerChildIDs: string[] = []\n  for (const i in childIDs) {\n    if (modules[childIDs[i]].moduleType === CONTAINER) {\n      containerChildIDs = [...containerChildIDs, ...getChildrenRecursive(childIDs[i], modules) ]\n    }\n  }\n  return [ ...childIDs, ...containerChildIDs ]\n}\n\nexport function getContainerIDs(containerID: string, modules: Modules) {\n  return [ containerID, ...getChildrenRecursive(containerID, modules) ]\n}\n\nexport function getInternalConnectionIDs(connections: Connections, trimmedIDs: string[]) {\n  const allConnectionIDs = Object.keys(connections)\n  let connectionIDs: string[] = []\n  for (const i in allConnectionIDs) {\n    const { fromID, toID, actualOutputID, actualInputID } = connections[allConnectionIDs[i]]\n    const actualFromID = actualOutputID ? actualOutputID : fromID // actualIDs undefined if no containers involved in connection\n    const actualToID = actualInputID ? actualInputID : toID\n    if (bothStringsIn(actualFromID, actualToID, trimmedIDs)) {\n      connectionIDs = [...connectionIDs, allConnectionIDs[i]]\n    }\n  }\n  return connectionIDs\n}\n\nfunction getInternalConnections(connections: Connections, trimmedIDs: string[]) {\n  return keepOnlyIdsInObj(connections, getInternalConnectionIDs(connections, trimmedIDs)) as Connections\n}\n\nexport function getContainerModulesConnections(state: RootState, containerID: string) {\n  const trimmedIDs = [containerID, ...getChildrenRecursive(containerID, state.modules)]\n  const trimmedModules = keepOnlyIdsInObj(state.modules, trimmedIDs)\n  const trimmedConnections = getInternalConnections(state.connections, trimmedIDs)\n  return {\n    modules: trimmedModules,\n    connections: trimmedConnections,\n  }\n}\n\n\nexport function getContainerAsProject(state: RootState, containerID: string) {\n  const trimmedIDs = [ containerID, ...getChildrenRecursive(containerID, state.modules) ]\n  const trimmedModules = keepOnlyIdsInObj(state.modules, trimmedIDs)\n  const trimmedConnections = getInternalConnections(state.connections, trimmedIDs)\n  return {\n    baseContainerID: containerID,\n    modules: {\n      ...trimmedModules,\n      [containerID]: {\n        ...trimmedModules[containerID],\n        isBaseContainer: true,\n        parentID: null,\n      },\n    },\n    connections: trimmedConnections\n  }\n}","import {\n  ModuleType,\n  OSCILLATOR,\n  OUTPUT, GAIN,\n  AUTOFILTER,\n  KOMPRESSOR,\n  STEREO_PANNER,\n  SIGNAL_DELAY,\n  CONSTANT,\n  MEDIA_ELEMENT,\n  LINE_IN,\n  CONTAINER,\n  ControlData,\n  DISTORTION,\n  ANALYZER,\n  ENVELOPED_TRIGGER,\n  WHITE_NOISE,\n  TUNER,\n} from './moduleTypes'\nimport makeConstantSource from './modules/constant'\nimport makeAutoFilter from './modules/autoFilter'\nimport makeOutput from './modules/output'\nimport makeStereoPanner from './modules/stereoPanner'\nimport makeSignalDelay from './modules/signalDelay'\nimport makeKompressor from './modules/kompressor'\nimport makeGain from './modules/gain'\nimport makeOscillator from './modules/oscillator'\nimport makeLineInput from './modules/lineInput'\nimport makeContainer from './modules/container'\nimport makeDistortion from './modules/distortion'\nimport makeAnalyzer from './modules/analyzer'\nimport makeEnvelopedTrigger from './modules/envelopedTrigger'\nimport makeWhiteNoise from './modules/whiteNoise'\nimport makeTuner from './modules/tuner'\n\n\nfunction restoreAudioModule(id: string, moduleType: ModuleType, prevControlData: ControlData) {\n  switch (moduleType) {\n    case OSCILLATOR:\n      const osc = makeOscillator(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: osc }\n      break\n    case GAIN:\n      const gain = makeGain(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: gain }\n      break\n    case OUTPUT:\n      const output = makeOutput(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: output }\n      break\n    case AUTOFILTER:\n      const filter = makeAutoFilter(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: filter }\n      break\n    case KOMPRESSOR:\n      const komp = makeKompressor(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: komp }\n      break\n    case STEREO_PANNER:\n      const panner = makeStereoPanner(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: panner }\n      break;\n    case SIGNAL_DELAY:\n      const delay = makeSignalDelay(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: delay }\n      break\n    case CONSTANT:\n      const constant = makeConstantSource(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: constant }\n      break\n    case MEDIA_ELEMENT:\n      window.addAudioTag(id); window.reRenderAudioTags();\n      break;\n    case LINE_IN:\n      makeLineInput(id)\n      break;\n    case CONTAINER:\n      const container = makeContainer(id)\n      window.audioModules = { ...window.audioModules, [id]: container };\n      break\n    case DISTORTION:\n      const distortion = makeDistortion(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: distortion }\n      break\n    case ANALYZER:\n      const analyzer = makeAnalyzer(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: analyzer }\n      break\n    case ENVELOPED_TRIGGER:\n      const envelopedTrigger = makeEnvelopedTrigger(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: envelopedTrigger }\n      break\n    case WHITE_NOISE:\n      const whiteNoise = makeWhiteNoise(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: whiteNoise }\n      break\n    case TUNER:\n      const tuner = makeTuner(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: tuner }\n      break\n  }\n}\n\n\nexport default restoreAudioModule","import { Connections, Modules } from \"../redux/stateTSTypes\"\nimport restoreAudioModule from \"./restoreAudioModule\"\nimport { ModuleType, ConnectingAudioModule, MEDIA_ELEMENT, LINE_IN } from \"./moduleTypes\"\nimport { connect } from \"./connection\"\n\nfunction mergeExistingContainerAM(modules: Modules, connections: Connections) {\n  Object.keys(modules).forEach(modID => {\n    const { moduleType, controlData } = modules[modID]\n    restoreAudioModule(modID, moduleType as ModuleType, controlData)\n  })\n  if (connections) {\n    Object.keys(connections).forEach(connectionID => {\n      const { fromID, toID, param, outputIndex, inputIndex, actualOutputID, actualInputID } = connections[connectionID]\n      const toType = modules[actualInputID ? actualInputID : toID].moduleType\n      const fromType = modules[actualOutputID ? actualOutputID : fromID].moduleType\n      const needsToWait = toType === MEDIA_ELEMENT || fromType === MEDIA_ELEMENT ||\n        toType === LINE_IN || fromType === LINE_IN\n      if (!needsToWait) {\n        connect(\n          window.audioModules[actualOutputID ? actualOutputID : fromID] as ConnectingAudioModule,\n          window.audioModules[actualInputID ? actualInputID : toID] as ConnectingAudioModule,\n          param,\n          outputIndex,\n          inputIndex,\n        )\n      } else {\n        window.setTimeout(() => {\n          connect(\n            window.audioModules[actualOutputID ? actualOutputID : fromID] as ConnectingAudioModule,\n            window.audioModules[actualInputID ? actualInputID : toID] as ConnectingAudioModule,\n            param,\n            outputIndex,\n            inputIndex,\n          )\n        }, 200)\n      }\n    })\n  }\n}\n\nexport default mergeExistingContainerAM","function genRandomID(index: number, totNumber: number) {\n  return `${totNumber}${index}${Math.floor(20480 * Math.random())}`\n}\n\nexport default genRandomID","import { Modules, Connections, ContainerModule, RootState } from \"./stateTSTypes\"\nimport { ObjFrom2Arrays } from \"./helpers\"\nimport { stringIn } from \"../helpers/genFuncs\"\nimport { CONTAINER } from \"../audioModules/moduleTypes\"\nimport { Dispatch } from 'redux'\nimport { mergeContainer } from './allActions'\nimport { getContainerModulesConnections } from \"./getContainerAsProject\"\nimport mergeExistingContainerAM from \"../audioModules/mergeExistingAM\"\nimport genRandomID from \"./idGen\"\n\n\nfunction getReplicatedState(modules: Modules, connections: Connections, totNumberModules: number, totNumberConnections: number) {\n  // this function returns a copy of modules and connections, but with all modIDs and connectionIDs replaced.\n  // this is done so no IDs conflict when the new modules/connections are merged into the active redux state\n  const modIDs = Object.keys(modules)\n  const connectionIDs = Object.keys(connections)\n  const modIDConverter = ObjFrom2Arrays(modIDs, modIDs.map((modID, index) => {\n    return genRandomID(index, totNumberModules)\n  }))\n  const connectionIDConverter = ObjFrom2Arrays(connectionIDs, connectionIDs.map((connectionID, index) => {\n    return genRandomID(index, totNumberConnections)\n  }))\n  const newModules = ObjFrom2Arrays(Object.values(modIDConverter), modIDs.map(modID => {\n    if (modules[modID].moduleType === CONTAINER) {\n      const containerMod = modules[modID] as ContainerModule\n      return {\n        ...containerMod,\n        id: modIDConverter[modID],\n        inputs: containerMod.inputs\n          .filter(connectionID => stringIn(connectionID, connectionIDs))\n          .map(connectionID => connectionIDConverter[connectionID]),\n        outputs: containerMod.outputs\n          .filter(connectionID => stringIn(connectionID, connectionIDs))\n          .map(connectionID => connectionIDConverter[connectionID]),\n        containerControls: containerMod.containerControls\n          .map(containerControl => {\n            return {\n              ...containerControl,\n              modID: modIDConverter[containerControl.modID],\n              actualModID: modIDConverter[containerControl.actualModID],\n            }\n          }),\n        childModules: containerMod.childModules.map(id => modIDConverter[id]),\n        parentID: modules[modID].parentID ? modIDConverter[modules[modID].parentID as string] : null,\n        connectionOutputs: modules[modID].connectionOutputs.map(outputID => modIDConverter[outputID]),\n        connectionInputs: modules[modID].connectionInputs.map(inputID => modIDConverter[inputID])\n      }\n    } else {\n      return {\n        ...modules[modID],\n        id: modIDConverter[modID],\n        inputs: modules[modID].inputs\n          .filter(connectionID => stringIn(connectionID, connectionIDs))\n          .map(connectionID => connectionIDConverter[connectionID]),\n        outputs: modules[modID].outputs\n          .filter(connectionID => stringIn(connectionID, connectionIDs))\n          .map(connectionID => connectionIDConverter[connectionID]),\n        parentID: modIDConverter[modules[modID].parentID as string]\n      }\n    }\n  }))\n  const newConnections = ObjFrom2Arrays(Object.values(connectionIDConverter), connectionIDs.map(connectionID => {\n    const connection = connections[connectionID]\n    return {\n      ...connection,\n      fromID: modIDConverter[connection.fromID],\n      toID: modIDConverter[connection.toID],\n      actualOutputID: connection.actualOutputID ? modIDConverter[connection.actualOutputID] : undefined,\n      actualInputID: connection.actualInputID ? modIDConverter[connection.actualInputID] : undefined,\n    }\n  }))\n  return {\n    modIDConverter,\n    newModules,\n    newConnections,\n  }\n}\n\nexport function performContainerMerge(dispatch: Dispatch, modulesToMerge: Modules, connectionsToMerge: Connections, totNumberModules: number, totNumberConnections: number, parentID: string, containerID: string, row: number, col: number) {\n  // this function makes a copy of state with above function, then restores all modules and connections,\n  // and dispatches an action to merge the copied state with the full project state \n  const { modIDConverter, newModules, newConnections } = getReplicatedState(modulesToMerge, connectionsToMerge, totNumberModules, totNumberConnections)\n  mergeExistingContainerAM(newModules, newConnections)\n  dispatch(mergeContainer(modIDConverter[containerID], newModules, newConnections, parentID, row, col))\n}\n\nexport function duplicateContainer(dispatch: Dispatch, state: RootState, parentID: string, containerID: string, row: number, col: number) {\n  const { modules, connections } = getContainerModulesConnections(state, containerID)\n  const totNumberModules = Object.keys(state.modules).length\n  const totNumberConnections = Object.keys(state.connections).length\n  performContainerMerge(dispatch, modules, connections, totNumberModules, totNumberConnections, parentID, containerID, row, col)\n}\n\nexport function loadSavedContainer(dispatch: Dispatch, name: string, totNumberModules: number, totNumberConnections: number, parentID: string, row: number, col: number) {\n  window.containerSaveService.get(name).then(({ containerID, modules, connections }: any) => {\n    performContainerMerge(dispatch, modules, connections, totNumberModules, totNumberConnections, parentID, containerID, row, col)\n  })\n}\n\nexport function loadProjectAsContainer(dispatch: Dispatch, currState: RootState, parentID: string, row: number, col: number, stateToRestore: RootState) {\n  // used for loading in projects as containers within an existing project\n  const { modules, connections, baseContainerID } = stateToRestore\n  const totNumberModules = Object.keys(currState.modules).length\n  const totNumberConnections = Object.keys(currState.connections).length\n  const { newModules, newConnections } = getReplicatedState(modules, connections, totNumberModules, totNumberConnections)\n  const goodNewModules = {\n    ...newModules,\n    [baseContainerID]: {\n      ...newModules[baseContainerID],\n      isBaseContainer: false,\n      parentID,\n    }\n  }\n  dispatch(mergeContainer(baseContainerID, goodNewModules, newConnections, parentID, row, col))\n}","import { RootState } from \"./stateTSTypes\"\nimport genRandomID from './idGen'\nimport { Dispatch } from 'redux'\nimport { addModule } from './allActions'\nimport { ModuleType } from \"../audioModules/moduleTypes\"\nimport restoreAudioModule from \"../audioModules/restoreAudioModule\"\n\nfunction duplicateModule(dispatch: Dispatch, state: RootState, modID: string, row: number, col: number) {\n  const newID = genRandomID(0, Object.keys(state.modules).length)\n  const { name, moduleType, controlData, parentID, connectionInputs, connectionOutputs } = state.modules[modID]\n  restoreAudioModule(newID, moduleType as ModuleType, controlData)\n  dispatch(addModule(newID, name, moduleType as ModuleType, controlData, parentID as string, row, col, connectionInputs, connectionOutputs))\n}\n\nexport default duplicateModule","import { DragEvent } from 'react'\nimport { ContainerModule, RootState } from '../../redux/stateTSTypes'\nimport { isOccupied } from '../ModuleView/helpers'\nimport { Dispatch } from 'redux'\nimport { ModuleType, CONTAINER } from '../../audioModules/moduleTypes'\nimport { moveModule } from '../../redux/allActions'\nimport { duplicateContainer, performContainerMerge } from '../../redux/replicateContainer'\nimport { MOVE, COPY } from './DropSquare'\nimport { ADD_MODULE } from '../../redux/modules/moduleActionTypes'\nimport duplicateModule from '../../redux/replicateModule'\n\nexport const CONTAINER_RESTORE = 'CONTAINER_RESTORE'\n\nexport function onDrop(e: DragEvent<HTMLDivElement>, dispatch: Dispatch, state: RootState, row: number, col: number, setHL: (isHL: boolean) => void) {\n  const id = e.dataTransfer.getData('id')\n  const fc = state.modules[window.fillContainerID] as ContainerModule\n  const currentChildren = fc.childModules\n  const possiblyMod = state.modules[id]\n  const possiblyOccupyingID = isOccupied(row, col, currentChildren, state.modules)\n  if (!possiblyMod) {\n    if (!possiblyOccupyingID) {\n      const dropType = e.dataTransfer.getData('type')\n      const name = e.dataTransfer.getData('name')\n      switch(dropType) {\n        case ADD_MODULE:\n          const moduleType = e.dataTransfer.getData('moduleType') as ModuleType\n          window.addModule(id, name, window.fillContainerID, moduleType, dispatch, row, col)\n          break\n        case CONTAINER_RESTORE:\n          const totNumberModules = Object.keys(state.modules).length\n          const totNumberConnections = Object.keys(state.connections).length\n          window.containerSaveService.get(name).then(({ containerID, modules, connections }: any) => {\n            performContainerMerge(dispatch, modules, connections, totNumberModules, totNumberConnections, window.fillContainerID, containerID, row, col)\n          })\n          break\n      }\n      setHL(false)\n    }\n  } else if (possiblyOccupyingID) {\n    const fromRow = e.dataTransfer.getData('fromRow')\n    const fromCol = e.dataTransfer.getData('fromCol')\n    setHL(false)\n    dispatch(moveModule(id, row, col))\n    dispatch(moveModule(possiblyOccupyingID, Number(fromRow), Number(fromCol)))\n    window.setTimeout(window.refreshArcherContainer, 1)\n  } else {\n    const moduleDragType = e.dataTransfer.getData('type')\n    setHL(false)\n    switch (moduleDragType) {\n      case MOVE:\n        dispatch(moveModule(id, row, col))\n        break\n      case COPY:\n        if (state.modules[id].moduleType === CONTAINER) {\n          duplicateContainer(dispatch, state, window.fillContainerID, id, row, col)\n        } else {\n          duplicateModule(dispatch, state, id, row, col)\n        }\n        break\n    }\n    window.setTimeout(window.refreshArcherContainer, 1)\n  }\n}","import React, { useState } from 'react'\nimport CSS from 'csstype'\nimport useJSS from './style'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState } from '../../redux/stateTSTypes'\nimport { onDrop } from './callbacks'\nimport { colors } from '../../theme/theme'\n\ninterface Props {\n  row: number\n  col: number\n}\n\n// drag types\nexport const MOVE = 'MOVE'\nexport const COPY = 'COPY'\n\nfunction DropSquare({ row, col }: Props) {\n  const classes = useJSS()\n  const dispatch = useDispatch()\n  const state = useSelector((state: RootState) => state)\n  const [isHL, setHL] = useState(false) // to highlight on drag enter\n  const dsStyle: CSS.Properties = {\n    gridColumn: `${col + 1} / span 1`,\n    gridRow: `${row + 1} / span 1`,\n    borderColor: isHL ? colors.dropSquareHL : 'transparent',\n  }\n  return (\n    <div \n      className={classes.DropSquare} \n      style={dsStyle}\n      onDragOver={event => {\n        event.preventDefault()\n      }}\n      onDragEnter={e => {\n        if (e.dataTransfer.types.length >= 3) {\n          setHL(true)\n        }\n      }}\n      onDragLeave={e => {\n        setHL(false)\n        /* if (e.dataTransfer.types.length >= 3) {\n          setHL(false)\n        } */\n      }}\n      onDrop={e => {\n        onDrop(e, dispatch, state, row, col, setHL)\n      }}\n      onContextMenu={e => {\n        e.preventDefault()\n        window.openAddModuleMenu(row, col)\n      }}\n      onPointerEnter={e => {\n        e.preventDefault()\n        setHL(true)\n      }}\n      onPointerLeave={e => {\n        e.preventDefault()\n        setHL(false)\n      }}\n    />\n  )\n}\n\nexport default DropSquare","import React, { useState, Fragment } from 'react'\nimport { Module, RootState, ContainerModule } from '../../redux/stateTSTypes'\nimport useJSS from './style'\nimport CSS from 'csstype'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { sizes } from '../../theme/theme'\nimport { ArcherElement } from 'react-archer'\nimport ControlMenu from '../LargeIcon/ControlMenu'\nimport { CONTAINER } from '../../audioModules/moduleTypes'\nimport ContainerControlMenu from '../LargeIcon/ContainerControlMenu'\nimport getModuleColor from '../../theme/moduleColor'\nimport { bothStringsIn } from '../../helpers/genFuncs'\nimport { iconOnDrop, iconOnDragStart } from './callbacks'\n\ninterface Props {\n  mod: Module\n  gridCol: number\n  gridRow: number\n}\n\nfunction ModuleViewIcon({ mod, gridCol, gridRow }: Props) {\n  const classes = useJSS()\n  const [isLarge, setLarge] = useState(false)\n  const [reRender, toReRender] = useState(false)\n  const reRenderIcon = () => { toReRender(!reRender) }\n\n  const archerElementStyle: CSS.Properties = {\n    gridColumn: `${gridCol} / span 1`,\n    gridRow: `${gridRow} / span 1`,\n    width: isLarge ? sizes.moduleView.bigIconWidth : sizes.moduleView.icon,\n    height: isLarge ? sizes.moduleView.bigIconHeight : sizes.moduleView.icon\n  }\n\n  const iconStyle = Object.assign({}, archerElementStyle, {\n    borderStyle: isLarge ? 'solid' : 'none',\n    backgroundColor: getModuleColor(mod.moduleType),\n  })\n\n  const nameStyle: CSS.Properties = {\n    fontSize: sizes.text.small,\n  }\n  \n  /*\n  const nameSpring = useSpring({\n    fontSize: isLarge ? sizes.text.medium : sizes.text.small,\n    config: {\n      tension: 350,\n      clamp: true\n    }\n  })\n  */\n\n  const { modules, connections } = useSelector((state: RootState) => state)\n  const dispatch = useDispatch()\n  return (\n    <Fragment>\n      <div \n        className={classes.Icon} \n        style={iconStyle}\n        onPointerDown={e => e.stopPropagation()}\n        onDragOver={event => {\n          event.preventDefault()\n        }}\n        onDrop={e => {\n          iconOnDrop(e, modules, connections, mod, dispatch)\n        }}\n        draggable={!isLarge}\n        onDragStart={e => {\n          iconOnDragStart(e, mod)\n        }}\n        onClick={e => {\n          e.stopPropagation()\n          setLarge(!isLarge)\n          window.setTimeout(window.refreshArcherContainer, 0)\n        }}\n        onContextMenu={e => {\n          e.preventDefault()\n          e.persist()\n          window.openModuleContextMenu(e, mod.id)\n        }}\n      >\n        {\n        mod.connectionOutputs.length === 0 ? null\n        :\n        <div className={classes.IconConnector}\n          draggable={true}\n          onDragStart={(e) => {\n            e.stopPropagation()\n            e.dataTransfer.setData('fromID', mod.id)\n          }}\n        />\n        }\n        <div className={classes.IconName} style={nameStyle} onClick={e => {\n          if (isLarge) {\n            e.stopPropagation()\n            window.openModuleRenameMenu(mod.id)\n          }\n        }}>\n          {mod.name}\n        </div>\n        {\n        !isLarge ? null :\n        <div className={classes.IconControlContainer} \n          onClick={e => e.stopPropagation()}\n        >\n          {mod.moduleType === CONTAINER ? <ContainerControlMenu selectedModule={mod as ContainerModule} reRenderIcon={reRenderIcon} /> : null}\n          {mod.moduleType !== CONTAINER ? <ControlMenu audioModule={window.audioModules[mod.id]} selectedModule={mod} reRenderIcon={reRenderIcon} /> : null}\n        </div>\n        }\n      </div>\n      <div className={classes.ArcherElement}\n        style={archerElementStyle}\n      >\n        <div style={{\n          gridColumn: `${1} / span 1`,\n          gridRow: `${1} / span 1`,\n        }}>\n          <ArcherElement\n            id={mod.id + ' input'}\n          >\n            <div style={{\n              width: '10px',\n              height: '10px',\n              //backgroundColor: 'blue',\n            }}></div>\n          </ArcherElement>\n        </div>\n        <div style={{\n          gridColumn: `${1} / span 1`,\n          gridRow: `${3} / span 1`,\n        }}>\n          <ArcherElement\n            id={mod.id + ' controls'}\n          >\n            <div style={{\n              width: '10px',\n              height: '10px',\n              //backgroundColor: 'yellow',\n            }}></div>\n          </ArcherElement>\n        </div>\n        <div style={{\n          gridColumn: `${3} / span 1`,\n          gridRow: `${1} / span 1`,\n        }}>\n          <ArcherElement\n            id={mod.id + ' output'}\n            relations={mod.outputs.filter(connectionID => {\n              const { fromID, toID } = connections[connectionID]\n              return bothStringsIn(fromID, toID, (modules[window.fillContainerID] as ContainerModule).childModules)\n            }).map(connectionID => {\n              const { toID, param } = connections[connectionID]\n              return {\n                targetId: param === '' ? toID + ' input' : toID + ' controls',\n                targetAnchor: 'left',\n                sourceAnchor: 'right',\n                style: {\n                  strokeColor: param === '' ? 'red' : 'blue',\n                }\n              }\n            })}\n          >\n            <div style={{\n              width: '10px',\n              height: '10px',\n            }} />\n          </ArcherElement>\n        </div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default ModuleViewIcon","import { DragEvent } from 'react'\nimport { Modules, Module, Connections } from '../../redux/stateTSTypes'\nimport { MOVE, COPY } from '../DropSquare/DropSquare'\nimport { Dispatch } from 'redux'\nimport { moveModule } from '../../redux/allActions'\nimport { onlyOneConnectionOption } from './helpers'\nimport { executeConnection } from '../ContextMenus/ConnectionMenu/helpers'\n\nexport function iconOnDrop(\n  e: DragEvent<HTMLDivElement>,\n  modules: Modules,\n  connections: Connections,\n  mod: Module,\n  dispatch: Dispatch,\n) {\n  e.stopPropagation()\n  const id = e.dataTransfer.getData('id')\n  const moduleDragType = e.dataTransfer.getData('type')\n  if (id) {\n    const possiblyMod = modules[id]\n    if (possiblyMod && moduleDragType === MOVE) {\n      const fromRow = e.dataTransfer.getData('fromRow')\n      const fromCol = e.dataTransfer.getData('fromCol')\n      dispatch(moveModule(id, mod.row, mod.col))\n      dispatch(moveModule(mod.id, Number(fromRow), Number(fromCol)))\n      window.setTimeout(window.refreshArcherContainer, 100)\n    }\n  } else {\n    if (mod.connectionInputs.length === 0 && window.audioModules[mod.id].connectingParamIDs.length === 0) {\n      alert('mod cannot accept input')\n    } else {\n      const fromID = e.dataTransfer.getData('fromID')\n      if (fromID) {\n        const { onlyOne, actualFromID, actualToID } = onlyOneConnectionOption(fromID, mod.id, modules)\n        if (onlyOne) {\n          executeConnection(\n            fromID, actualFromID as string, mod.id, actualToID as string, \n            modules, connections, dispatch, 0, 0,\n          )\n        } else {\n          e.persist()\n          window.openConnectionMenu(e, fromID, mod.id)\n        }\n      }\n    }\n  }\n}\n\nexport function iconOnDragStart(\n  e: DragEvent<HTMLDivElement>,\n  mod: Module\n) {\n  if (e.shiftKey) {\n    e.dataTransfer.setData('type', COPY)\n  } else {\n    e.dataTransfer.setData('type', MOVE)\n  }\n  e.dataTransfer.setData('id', mod.id)\n  e.dataTransfer.setData('fromRow', `${mod.row}`)\n  e.dataTransfer.setData('fromCol', `${mod.col}`)\n}","import React, { useState, useRef } from 'react'\nimport useJSS from './style'\nimport CSS from 'csstype'\nimport ModuleViewIcon from './Icon'\nimport { useSelector } from 'react-redux'\nimport { RootState, ContainerModule } from '../../redux/stateTSTypes'\nimport { getGridRange } from './helpers'\nimport { range } from '../../helpers/genFuncs'\nimport DropSquare from '../DropSquare/DropSquare'\nimport { ArcherContainer } from 'react-archer'\nimport Button from '../Button/Button'\n\ndeclare global {\n  interface Window { \n    refreshArcherContainer: () => void\n    reRenderFillContainer: () => void\n  }\n}\n\nfunction ModuleViewFill() {\n  const classes = useJSS()\n  const [reRender, toReRender] = useState(false)\n  window.reRenderFillContainer = () => { toReRender(!reRender) }\n  const { modules, baseContainerID } = useSelector((state: RootState) => {\n    return {\n      modules: state.modules,\n      baseContainerID: state.baseContainerID\n    }\n  })\n  const containerModule = modules[window.fillContainerID] as ContainerModule\n  const { maxRow, maxCol } = getGridRange(containerModule.childModules, modules)\n  let gridStyle: CSS.Properties\n  const isEmpty = containerModule.childModules.length === 0\n  if (isEmpty) {\n    gridStyle = {\n      gridTemplateRows: `repeat(${1}, ${'auto'})`,\n      gridTemplateColumns: `repeat(${1}, ${'auto'})`,\n    }\n  } else {\n    gridStyle = {\n      gridTemplateRows: `repeat(${maxRow + 2}, ${'auto'})`,\n      gridTemplateColumns: `repeat(${maxCol + 2}, ${'auto'})`,\n    }\n  }\n  const archerContainerRef = useRef<ArcherContainer>(null)\n  window.refreshArcherContainer = () => {archerContainerRef.current?.refreshScreen()}\n  return (\n    <div className={classes.FillBounder}>\n      <div className={classes.FillHeaderBounder}>\n        <div className={classes.FillHeader}\n          style={{ width: `${containerModule.name.length / 2}em` }}\n          onClick={(e) => {\n            e.stopPropagation()\n            window.openModuleRenameMenu(window.fillContainerID)\n          }}\n          onPointerDown={e => e.stopPropagation()}\n        >\n          {containerModule.name}\n        </div>\n        {containerModule.id === baseContainerID ? null :\n        <Button style={{ height: '.7em' }}\n          onPointerDown={() => {\n            window.fillContainerID = containerModule.parentID as string\n            window.reRenderFillContainer()\n          }}\n        >\n          <div>back</div>\n        </Button>\n        }\n      </div>\n      <ArcherContainer ref={archerContainerRef}\n        svgContainerStyle={{ zIndex: -1 }}\n        strokeWidth={8}\n        arrowLength={0}\n      >\n        <div className={classes.Fill} style={gridStyle}>\n          {isEmpty ? <DropSquare row={0} col={0}/> :\n          range(0, maxRow + 2).map(row => {\n            return range(0, maxCol + 2).map(col => {\n              return (\n                <DropSquare\n                  key={`${row} ${col}`}\n                  row={row} \n                  col={col}\n                />\n              )\n            })\n          }).flat()}\n          {containerModule.childModules.map(moduleID => {\n            const mod = modules[moduleID]\n            return (\n              <ModuleViewIcon\n                key={mod.id}\n                mod={mod}\n                gridRow={mod.row + 1}\n                gridCol={mod.col + 1}\n              />\n            )\n          })}\n        </div>\n      </ArcherContainer>\n    </div>\n  )\n}\n\nexport default ModuleViewFill","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  DrawerBounder: {\n    //backgroundColor: colors.rightDrawer,\n    width: '0px',\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    color: 'white',\n    position: 'absolute',\n    top: '0px',\n    right: '0px',\n    userSelect: 'none',\n    zIndex: 10,\n  },\n\n  Drawer: {\n    backgroundColor: colors.rightDrawer,\n    height: '100vh',\n    width: `${sizes.rightDrawer.width}px`,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-start',\n    position: 'absolute',\n    top: '0px',\n    right: '0px',\n    //overflow: 'hidden',\n  },\n\n  // header\n\n  DrawerHeader: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: 'inherit',\n    overflowX: 'scroll',\n    overflowY: 'hidden',\n    '&::-webkit-scrollbar': {\n      height: '3px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: 'white',\n    },\n  },\n\n  DrawerHeaderItem: {\n    fontSize: sizes.text.medium,\n    padding: '1vmin 1.5vmin',\n    color: colors.text,\n    textDecoration: 'none',\n    whiteSpace: 'nowrap',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  },\n\n  ItemRouter: {\n    width: `${sizes.rightDrawer.width}px`,\n    height: 'calc(100% - 60px)',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    alignContent: 'flex-start',\n    //overflowY: 'scroll',\n    '&::-webkit-scrollbar': {\n      width: '0px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: 'white',\n    },\n  },\n\n  // toggle\n\n  Toggle: {\n    backgroundColor: colors.drawerToggle,\n    width: sizes.rightDrawer.toggleWidth,\n    zIndex: 10,\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n    position: 'absolute',\n    top: '0px',\n    right: `${sizes.rightDrawer.width}px`,\n  },\n\n  ToggleLine: {\n    backgroundColor: colors.drawerToggleLine,\n    borderRadius: '4px',\n    width: '0.75vmin',\n    height: '80px',\n  },\n\n  SDBSaveList: {\n    display: 'flex',\n    flexDirection: 'column',\n    overflow: 'scroll',\n    height: '60%',\n    '&::-webkit-scrollbar': {\n      width: '0px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: 'white',\n    },\n  },\n})\n\nexport default useJSS","import React from 'react'\nimport { colors } from '../../theme/theme'\n\ninterface Props {\n  className: string\n  text: string\n  onClick: () => void\n  selectedRoute: string\n}\n\nfunction HeaderItem({ className, text, onClick, selectedRoute }: Props) {\n  const linkStyle = {\n    color: (selectedRoute === text) ? colors.selectedText : colors.text,\n  }\n  return (\n    <div className={className} onClick={onClick} style={linkStyle}>\n      {text}\n    </div>\n  )\n}\n\nexport default HeaderItem","import { RootState, Connections } from \"../redux/stateTSTypes\"\nimport restoreAudioModule from \"./restoreAudioModule\"\nimport { ModuleType, ConnectingAudioModule, MEDIA_ELEMENT, LINE_IN } from \"./moduleTypes\"\nimport { connect, disconnect } from \"./connection\"\n\nfunction connectLate(numTries: number, fromID: string, toID: string, param: string, outputIndex: number, inputIndex: number, actualOutputID?: string, actualInputID?: string) {\n  if (numTries > 10) {\n    alert('restore failed')\n  } else {\n    window.setTimeout(() => {\n      if (window.audioModules[actualOutputID ? actualOutputID : fromID] && window.audioModules[actualInputID ? actualInputID : toID]) {\n        connect(\n          window.audioModules[actualOutputID ? actualOutputID : fromID] as ConnectingAudioModule,\n          window.audioModules[actualInputID ? actualInputID : toID] as ConnectingAudioModule,\n          param,\n          outputIndex,\n          inputIndex,\n        )\n      } else {\n        connectLate(numTries + 1, fromID, toID, param, outputIndex, inputIndex, actualOutputID, actualInputID)\n      }\n    }, 500)\n  }\n}\n\nfunction restoreAMFromState(prevConnections: Connections, { modules, connections }: RootState) {\n  Object.keys(prevConnections).forEach(connectionID => {\n    const { fromID, toID, param, outputIndex, actualOutputID, actualInputID } = prevConnections[connectionID]\n    if (window.audioModules[actualOutputID ? actualOutputID : fromID] && window.audioModules[actualInputID ? actualInputID : toID]) {\n      disconnect(\n        window.audioModules[actualOutputID ? actualOutputID : fromID] as ConnectingAudioModule,\n        window.audioModules[actualInputID ? actualInputID : toID] as ConnectingAudioModule,\n        param,\n        outputIndex, // may need to figure out how to pass in inputIndex\n      )\n    }\n  })\n  window.numberRestores++\n  window.audioModules = {}\n  window.audioTags = {}\n  Object.keys(modules).forEach(modID => {\n    const { moduleType, controlData } = modules[modID]\n    restoreAudioModule(modID, moduleType as ModuleType, controlData)\n  })\n  if (connections) {\n    Object.keys(connections).forEach(connectionID => {\n      const { fromID, toID, param, outputIndex, inputIndex, actualOutputID, actualInputID } = connections[connectionID]\n      const toType = modules[actualInputID ? actualInputID : toID].moduleType\n      const fromType = modules[actualOutputID ? actualOutputID : fromID].moduleType\n      const needsToWait = toType === MEDIA_ELEMENT || fromType === MEDIA_ELEMENT ||\n        toType === LINE_IN || fromType === LINE_IN\n      if (!needsToWait) {\n        connect(\n          window.audioModules[actualOutputID ? actualOutputID : fromID] as ConnectingAudioModule,\n          window.audioModules[actualInputID ? actualInputID : toID] as ConnectingAudioModule,\n          param,\n          outputIndex,\n          inputIndex,\n        )\n      } else {\n        connectLate(0, fromID, toID, param, outputIndex, inputIndex, actualOutputID, actualInputID)\n      }\n    })\n  }\n}\n\nexport default restoreAMFromState","import React, { useState, useEffect } from 'react'\nimport { RootState } from '../../redux/stateTSTypes'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { restoreFromState } from '../../redux/allActions'\nimport restoreAMFromState from '../../audioModules/restoreAMFromState'\nimport { colors } from '../../theme/theme'\nimport Button from '../Button/Button'\nimport useJSS from './style'\n\nexport interface Save {\n  id: string,\n  savedState: RootState,\n}\n\nconst buttonStyle = {\n  backgroundColor: 'transparent'\n}\n\nfunction SpaceDBMenu() {\n  const [ saveList, setSaveList ] = useState<string[]>([])\n  const dispatch = useDispatch()\n  const connections = useSelector((state: RootState) => state.connections)\n  useEffect(() => {\n    window.projectSaveService.find().then((saveNames: string[]) => { setSaveList(saveNames) }) \n  }, [])\n  const classes = useJSS()\n  return (\n    <div style={{  }}>\n      <Button style={{ backgroundColor: colors.sdbSaveButton }}\n        onClick={() => {\n          window.openSpaceDBProjectSaveMenu(saveList, () => {\n            window.setTimeout(() => {\n              window.projectSaveService.find().then((saveNames: string[]) => { setSaveList(saveNames) })\n            }, 1000)\n          })\n        }}\n      >\n        save project\n      </Button>\n      <div className={classes.SDBSaveList}>\n        {saveList.map((saveName, index) => {\n          return (\n            <Button style={buttonStyle}\n              key={index}\n              onClick={() => {\n                window.projectSaveService.get(saveName).then((savedState: RootState) => {\n                  restoreAMFromState(connections, savedState)\n                  dispatch(restoreFromState(savedState))\n                })\n              }}\n              onContextMenu={(e) => {\n                e.preventDefault()\n                e.persist()\n                window.openSDBProjectContextMenu(e, saveName, setSaveList)\n              }}\n            >\n              {saveName}\n            </Button>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default SpaceDBMenu","import React, { Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport Button from '../../Button/Button'\n\nfunction BlankProjectButton() {\n  const numMods = useSelector((state: RootState) => Object.keys(state.modules).length)\n  return (\n    <Fragment>\n      {numMods < 2 ? null :\n        <Button\n          onClick={() => {\n            window.openConfirmBlankProjectMenu()\n          }}\n        >blank project</Button>\n      }\n    </Fragment>\n  )\n}\n\nexport default BlankProjectButton","import { ContainerSave } from \"../redux/stateTSTypes\"\n\nexport async function saveJSONToFileHandle(fileHandle: FileSystemFileHandle, json: any) {\n  const writable = await fileHandle.createWritable()\n  await writable.write(JSON.stringify(json))\n  await writable.close()\n}\n\nexport async function loadJSONFromPickedFile(onFileHandle?: (fileHandle: FileSystemFileHandle) => void) {\n  const [ fileHandle ] = await window.showOpenFilePicker()\n  if (fileHandle) {\n    if (onFileHandle) onFileHandle(fileHandle)\n    const file = await fileHandle.getFile() as any\n    const data = await file.text()\n    return JSON.parse(data)\n  } else {\n    return null\n  }\n}\n\nexport async function saveJSONToChosenFile(json: any, onSaved?: () => void) {\n  window.saveFileHandle = await window.showSaveFilePicker({\n    types: [\n      {\n        description: 'space machine project',\n        accept: {\n          'example/*': ['.sm'],\n        },\n      }\n    ]\n  })\n  await saveJSONToFileHandle(window.saveFileHandle, json)\n  if (onSaved) onSaved()\n} \n\nexport function getTrimmedSMFileName(fileHandle: FileSystemFileHandle) {\n  const name = fileHandle.name\n  return name.slice(0, name.length - 3)\n}\n\nexport async function getDirectoryContentNames(dirHandle: FileSystemDirectoryHandle) {\n  let names: string[] = []\n  for await (const entry of dirHandle.values()) {\n    names.push(entry.name)\n  }\n  return names\n}\n\nexport async function getDirectorySMMNames(dirHandle: FileSystemDirectoryHandle) {\n  const allNames = await getDirectoryContentNames(dirHandle)\n  return allNames.filter(name => name.length > 4 && name.slice(name.length - 4) === '.smm')\n    .map(name => name.slice(0, name.length - 4))\n}\n\nexport async function saveSMM(dirHandle: FileSystemDirectoryHandle, saveName: string, containerSave: ContainerSave) {\n  const fileHandle = await dirHandle.getFileHandle(`${saveName}.smm`, { create: true })\n  await saveJSONToFileHandle(fileHandle, containerSave)\n}\n\nexport async function getSavedSMMFromName(dirHandle: FileSystemDirectoryHandle, saveName: string): Promise<ContainerSave> {\n  const fileHandle = await dirHandle.getFileHandle(`${saveName}.smm`)\n  const file = await fileHandle.getFile() as any\n  const stringData = await file.text()\n  return JSON.parse(stringData)\n}","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport restoreAMFromState from '../../../audioModules/restoreAMFromState'\nimport { loadJSONFromPickedFile } from '../../../helpers/fileAccess'\nimport { restoreFromState } from '../../../redux/allActions'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { sizes } from '../../../theme/theme'\nimport Button from '../../Button/Button'\n\ninterface Props {\n  state: RootState\n  reRender: () => void\n}\n\nfunction OpenFileButton({ reRender, state }: Props) {\n  const dispatch = useDispatch()\n  return (\n    <Button fontSize={sizes.text.medium}\n      onClick={async () => {\n        const newState = await loadJSONFromPickedFile(fileHandle => {\n          window.saveFileHandle = fileHandle\n        })\n        if (newState) {\n          restoreAMFromState(state.connections, newState)\n          dispatch(restoreFromState(newState))\n          reRender()\n        } else {\n          window.flashNotification('rgba(1, 1, 1, .4)', 'no file selected')\n        }\n      }}\n    >open</Button>\n  )\n}\n\nexport default OpenFileButton","import React from 'react'\nimport { getTrimmedSMFileName, saveJSONToChosenFile } from '../../../helpers/fileAccess'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { colors, sizes } from '../../../theme/theme'\nimport Button from '../../Button/Button'\n\ninterface Props {\n  state: RootState\n  reRender: () => void\n}\n\nfunction SaveAsNewButton({ state, reRender }: Props) {\n  return (\n    <Button fontSize={sizes.text.medium}\n      onClick={async () => {\n        saveJSONToChosenFile(state, () => {\n          reRender()\n          window.flashNotification(colors.success, `${getTrimmedSMFileName(window.saveFileHandle)} saved`)\n        })\n      }}\n    >save as</Button>\n  )\n}\n\nexport default SaveAsNewButton","import React, { Fragment } from 'react'\nimport { getTrimmedSMFileName, saveJSONToFileHandle } from '../../../helpers/fileAccess'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { colors, sizes } from '../../../theme/theme'\nimport Button from '../../Button/Button'\n\ninterface Props {\n  state: RootState\n}\n\nfunction SaveCurrentButton({ state }: Props) {\n  return (\n    <Fragment>\n      {!window.saveFileHandle ? \n        <Button fontSize={sizes.text.medium} \n          notClickable={true}\n          style={{\n            backgroundColor: 'transparent',\n            color: colors.disabled,\n          }}\n        > no file open </Button>\n      :\n        <Button fontSize={sizes.text.medium}\n          onClick={async () => {\n            await saveJSONToFileHandle(window.saveFileHandle, state)\n            window.flashNotification(colors.success, `${getTrimmedSMFileName(window.saveFileHandle)} saved`)\n          }}\n        >{`save ${getTrimmedSMFileName(window.saveFileHandle)}`}</Button>\n      }\n    </Fragment>\n  )\n}\n\nexport default SaveCurrentButton","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport FlexRow from '../../Flex/FlexRow'\nimport BlankProjectButton from './BlankProjectButton'\nimport OpenFileButton from './OpenFileButton'\nimport SaveAsNewButton from './SaveAsNewButton'\nimport SaveCurrentButton from './SaveCurrentButton'\n\ndeclare global {\n  interface Window {\n    saveFileHandle?: any\n    reRenderFileMenu: () => void\n  }\n}\n\nfunction FileMenu() {\n  const state = useSelector((state: RootState) => state)\n  const [, toReRender] = useState({})\n  window.reRenderFileMenu = () => { toReRender({}) }\n  return (\n    <FlexRow alignItems='center' flexWrap='wrap' style={{ width: '100%' }}>\n      <OpenFileButton state={state} reRender={window.reRenderFileMenu} />\n      <SaveAsNewButton state={state} reRender={window.reRenderFileMenu}/>\n      <SaveCurrentButton state={state} />\n      <BlankProjectButton />\n    </FlexRow>\n  )\n}\n\nexport default FileMenu","import React, { useState, useRef, useEffect } from 'react'\nimport useJSS from './style'\nimport { animated, useSpring } from 'react-spring'\nimport { sizes } from '../../theme/theme'\nimport HeaderItem from './HeaderItem'\nimport { clamp } from '../../helpers/genFuncs'\nimport SpaceDBMenu from './SpaceDBMenu'\nimport FileMenu from './FileMenu/FileMenu'\n\nconst SPACEDB_PROJECTS = 'spaceDB projects'\nconst FILE = 'file'\n\nlet drawerWidth = `${sizes.rightDrawer.width}`\n\nconst addPx = (arg: string) => `${arg}px`\n\nfunction RightDrawer() {\n  const classes = useJSS()\n  const [open, setOpen] = useState(true)\n  const [width, setWidth] = useState(drawerWidth)\n  const drawerSpring = useSpring({\n    transform: open ? 'translate(0px, 0px)' : `translate(${width}px, 0px)`,\n    config: {\n      tension: 220,\n      clamp: true,\n    }\n  })\n  const [selectedRoute, setSR] = useState(window.usingElectron ? SPACEDB_PROJECTS : FILE)\n  const drawerRef = useRef<HTMLDivElement>(null)\n  const toggleRef = useRef<HTMLDivElement>(null)\n  const drawerHeaderRef = useRef<HTMLDivElement>(null)\n  const itemRouterRef = useRef<HTMLDivElement>(null)\n  const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n  let adjusting = false\n  const [, toReRender ] = useState({})\n  useEffect(() => {\n    window.addEventListener('resize', () => {\n      window.setTimeout(() => { toReRender({}) }, 500) \n    })\n  }, [])\n  return (\n    <animated.div className={classes.DrawerBounder} style={drawerSpring} onPointerDown={e => e.stopPropagation()}>\n      <div className={classes.Toggle}\n        ref={toggleRef}\n        onPointerDown={e => {\n          if (open && e.shiftKey) {\n            adjusting = true\n            toggleRef.current?.setPointerCapture(e.pointerId)\n          } else {\n            setOpen(!open)\n          }\n        }}\n        onPointerMove={e => {\n          if (adjusting) {\n            drawerWidth = `${clamp(vw - e.clientX, [150, 700] )}`\n            if (drawerRef.current) { drawerRef.current.style.width = addPx(drawerWidth) }\n            if (drawerHeaderRef.current) { drawerHeaderRef.current.style.width = addPx(drawerWidth) }\n            if (itemRouterRef.current) { itemRouterRef.current.style.width = addPx(drawerWidth) }\n            if (toggleRef.current) { toggleRef.current.style.right = addPx(drawerWidth) }\n          }\n        }}\n        onPointerUp={e => {\n          if (adjusting) {\n            adjusting = false\n            setWidth(drawerWidth)\n            toggleRef.current?.releasePointerCapture(e.pointerId)\n          }\n        }}\n      >\n        <div className={classes.ToggleLine} onClick={() => {setOpen(!open)}}/>\n      </div>\n      <div className={classes.Drawer} ref={drawerRef}>\n        <div className={classes.DrawerHeader} ref={drawerHeaderRef}\n          onWheel={e => {\n            if (drawerHeaderRef && drawerHeaderRef.current) {\n              drawerHeaderRef.current.scrollLeft += e.deltaY\n            }\n          }}\n        >\n          {!window.usingElectron ? null : \n          <HeaderItem\n            className={classes.DrawerHeaderItem}\n            text={SPACEDB_PROJECTS}\n            onClick={() => { setSR(SPACEDB_PROJECTS) }}\n            selectedRoute={selectedRoute}\n          />}\n          <HeaderItem\n            className={classes.DrawerHeaderItem}\n            text={FILE}\n            onClick={() => { setSR(FILE) }}\n            selectedRoute={selectedRoute}\n          />\n        </div>\n        <div className={classes.ItemRouter} ref={itemRouterRef}>\n          {\n            selectedRoute === SPACEDB_PROJECTS\n            ?\n            <SpaceDBMenu />\n            :\n            selectedRoute === FILE\n            ?\n            <FileMenu />\n            :\n            null\n          }\n        </div>\n      </div>\n    </animated.div>\n  )\n}\n\nexport default RightDrawer","import React, { useRef, useEffect } from 'react'\nimport makeMediaElement from '../../audioModules/modules/mediaElement'\n\ninterface Props {\n  id: string\n}\n\nfunction AudioTag({ id }: Props) {\n  const audioRef = useRef<HTMLAudioElement>(null)\n  useEffect(() => {\n    if (!window.audioModules[id]) {\n      const possiblyMediaElement = makeMediaElement(audioRef)\n      if (possiblyMediaElement) {\n        window.audioModules = { ...window.audioModules, [id]: possiblyMediaElement }\n      }\n    }\n  })\n  return (\n    <audio\n      ref={audioRef}\n      autoPlay\n    />\n  )\n}\n\nexport default AudioTag","import React, { Fragment, useState } from 'react'\nimport AudioTag from './AudioTag'\n\ninterface AudioTag {\n  id: string\n  srcName: string\n  ref?: React.RefObject<HTMLAudioElement>\n}\n\ninterface AudioTags {\n  [id: string]: AudioTag\n}\n\ndeclare global {\n  interface Window {\n    audioTags: AudioTags\n    addAudioTag: (id: string) => void\n    reRenderAudioTags: () => void\n    numberRestores: number\n  }\n}\n\nwindow.addAudioTag = (id: string) => {\n  window.audioTags[id] = {\n    id: id,\n    srcName: ''\n  }\n}\n\nwindow.audioTags = {}\nwindow.numberRestores = 0\n\nfunction AudioTags() {\n  const [reRender, toReRender] = useState(false)\n  window.reRenderAudioTags = () => { toReRender(!reRender) }\n  const ids = Object.keys(window.audioTags)\n  return (\n    <Fragment>\n      {ids.map((id) => {\n        return (\n          <AudioTag\n            key={id + window.numberRestores}\n            id={id}\n          />\n        )\n      })}\n    </Fragment>\n  )\n}\n\nexport default AudioTags","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  CMInputBounder: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n\n  CenterMenuInput: {\n    backgroundColor: colors.grey,\n    color: 'white',\n    height: '2vmin',\n    padding: '1vmin',\n    margin: '1.5vmin .75vmin 1.5vmin 1.5vmin',\n    borderStyle: 'none',\n    borderRadius: '1vmin',\n    fontSize: sizes.text.small,\n    width: '15vmin',\n    '&:hover': {\n      cursor: 'text',\n    },\n  },\n})\n\nexport default useJSS","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../../theme/theme'\nimport { zIndex } from '../../../theme/zIndex'\n\nconst useJSS = createUseStyles({\n  CenterMenuBounder: {\n    backgroundColor: colors.centerMenuBackground,\n    backdropFilter: 'blur(5px)',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100vw',\n    height: '100vh',\n    zIndex: zIndex.centerMenu,\n  },\n\n  CenterMenu: {\n    backgroundColor: colors.centerMenu,\n    position: 'fixed',\n    top: '50vh',\n    left: '50vw',\n    transform: 'translate(-50%, calc(-50% - 50px))',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderRadius: '1.2vmin',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    minWidth: '15vw',\n    padding: '1vmin 2vmin 2vmin 2vmin',\n    border: `.1em solid ${colors.centerMenuBorder}`,\n  },\n\n  Header: {\n    padding: '1vmin 2vmin',\n    margin: '0vmin 0vmin 2vmin 0vmin',\n    borderColor: 'white',\n    borderStyle: 'none none solid none',\n    fontSize: sizes.text.large,\n  },\n})\n\nexport default useJSS","import React, { Fragment } from 'react'\nimport useJSS from './style'\nimport CSS from 'csstype'\nimport { animated } from 'react-spring'\n\ninterface Props {\n  isClosed?: boolean\n  className?: string\n  style?: CSS.Properties\n  headerClassName?: string\n  headerStyle?: CSS.Properties\n  children: React.ReactNode\n  header?: string\n  onClose: () => void\n  bounderStyle?: CSS.Properties\n}\n\nfunction CenterMenu({ isClosed, className, style, headerClassName, headerStyle, children, header, onClose, bounderStyle }: Props) {\n  const classes = useJSS()\n  return (\n    <Fragment>\n      {isClosed ? null :\n      <animated.div className={classes.CenterMenuBounder}\n        onPointerDown={e => {\n          e.stopPropagation()\n          onClose()\n        }}\n        style={bounderStyle}\n      >\n        <div className={className ? `${classes.CenterMenu} ${className}` : classes.CenterMenu}\n          onPointerDown={(e) => {e.stopPropagation()}}\n          style={style}\n        >\n          {!header ? null : \n          <div className={headerClassName ? `${classes.Header} ${headerClassName}` : classes.Header}\n            style={headerStyle}\n          >\n            {header}\n          </div>}\n          {children}\n        </div>\n      </animated.div>}\n    </Fragment>\n  )\n}\n\nexport default CenterMenu","import React, { useState } from 'react'\nimport useJSS from './style'\nimport { Range } from '../../../audioModules/moduleTypes'\nimport { inRange } from '../../../helpers/genFuncs'\nimport { sizes, colors } from '../../../theme/theme'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport CenterMenu from '../CenterMenu/CenterMenu'\nimport Button from '../../Button/Button'\n\ndeclare global {\n  interface Window {\n    openKnobRangeSetMenu: (modID: string, controlID: string, onChangeSubmit: (newRange: Range) => void) => void\n  }\n}\n\nfunction makeData(isOpen: boolean, controlID = '', onChangeSubmit: (newRange: Range) => void = () => { }) {\n  return {\n    isOpen,\n    controlID,\n    onChangeSubmit,\n  }\n}\n\nfunction KnobRangeSetMenu() {\n  const [{ isOpen, controlID, onChangeSubmit }, setData] = useState(makeData(false))\n  const modules = useSelector((state: RootState) => state.modules)\n  const [min, setMin] = useState(0)\n  const [max, setMax] = useState(0)\n  const [maxRange, setMaxRange] = useState<[number, number] | undefined>(undefined)\n  window.openKnobRangeSetMenu = (modID, controlID, onChangeSubmit) => {\n    const { range, maxRange } = modules[modID].controlData[controlID]\n    setData(makeData(\n      true, \n      controlID, \n      onChangeSubmit\n    ))\n    setMin((range as [number, number])[0])\n    setMax((range as [number, number])[1])\n    setMaxRange(maxRange)\n  }\n  const onClose = () => { \n    setData(makeData(false))\n  }\n  const classes = useJSS()\n  return (\n    <CenterMenu isClosed={!isOpen} header={`set ${controlID} range`} onClose={onClose}>\n      <div style={{ fontSize: sizes.text.small }}>\n        {!maxRange ? null \n        :\n        `max range from ${maxRange[0]} to ${maxRange[1]}`\n        }\n      </div>\n      <div className={classes.CMInputBounder}\n        onKeyDown={e => {\n          if (e.key === 'Escape') {\n            onClose()\n          } else if (e.key === 'Enter') {\n            onChangeSubmit([min, max])\n            onClose()\n          }\n        }}\n      >\n        <input className={classes.CenterMenuInput} \n          onChange={e => {\n            setMin(Number(e.target.value))\n          }}\n          value={min}\n          type='number'\n        />\n        <input className={classes.CenterMenuInput}\n          onChange={e => { \n            setMax(Number(e.target.value)) \n          }}\n          value={max}\n          type='number'\n        />\n      </div>\n      <Button style={{ fontSize: sizes.text.small, backgroundColor: colors.confirmButton }}\n        onClick={() => {\n          if (maxRange) {\n            if (inRange(min, maxRange as [number, number]) && inRange(max, maxRange as [number, number])) {\n              if (max > min) {\n                onChangeSubmit([min, max])\n                onClose()\n              } else {\n                alert('min must be less than max')\n              }\n            } else {\n              alert('a value is not within maximum range bounds')\n            }\n          } else {\n            if (max > min) {\n              onChangeSubmit([min, max])\n              onClose()\n            } else {\n              alert('min must be less than max')\n            }\n          }\n        }}\n      >\n        confirm\n      </Button>\n    </CenterMenu>\n  )\n}\n\nexport default KnobRangeSetMenu","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  CenterMenuInput: {\n    backgroundColor: colors.grey,\n    color: 'white',\n    height: '1em',\n    padding: '1vmin',\n    margin: '1.5vmin .75vmin 1.5vmin 1.5vmin',\n    borderStyle: 'none',\n    borderRadius: '1vmin',\n    fontSize: sizes.text.medium,\n    textAlign: 'center',\n    '&:hover': {\n      cursor: 'text',\n    },\n  },\n})\n\nexport default useJSS","import React, { useState, useRef } from 'react'\nimport CenterMenu from '../CenterMenu/CenterMenu'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { stringIn } from '../../../helpers/genFuncs'\nimport { sizes, colors } from '../../../theme/theme'\nimport useJSS from './style'\nimport FlexRow from '../../Flex/FlexRow'\nimport Button from '../../Button/Button'\nimport FlexCol from '../../Flex/FlexCol'\n\ndeclare global {\n  interface Window {\n    openSpaceDBProjectSaveMenu: (saveList: string[], onClose: () => void) => void\n  }\n}\n\nfunction makeData(isOpen: boolean, saveList: string[] = [], preOnClose = () => { }) {\n  return {\n    isOpen,\n    saveList,\n    preOnClose,\n  }\n}\n\nfunction SpaceDBProjectSaveMenu() {\n  const [{ isOpen, saveList, preOnClose }, setData] = useState(makeData(false))\n  const state = useSelector((state: RootState) => state)\n  const { baseContainerID, modules } = state\n  const [saveName, setSaveName] = useState('')\n  const [confirmSaveData, setConfirmSaveData] = useState({ isOpen: false, message: '' })\n  window.openSpaceDBProjectSaveMenu = (saveList, onClose) => {\n    setSaveName(modules[baseContainerID].name)\n    setConfirmSaveData({ isOpen: false, message: '' })\n    setData(makeData(true, saveList, onClose)) \n  }\n  const onClose = () => {\n    preOnClose()\n    setData(makeData(false))\n  }\n  const inputRef = useRef<HTMLInputElement>(null)\n  const classes = useJSS()\n  return (\n    <CenterMenu header='save project'\n      isClosed={!isOpen}\n      onClose={onClose}\n    >\n      <FlexRow style={{ alignItems: 'center' }}>\n        <input className={classes.CenterMenuInput}\n          value={saveName}\n          placeholder={modules[baseContainerID].name}\n          onChange={e => {\n            setSaveName(e.target.value)\n          }}\n          onKeyDown={e => {\n            switch (e.key) {\n              case 'Enter':\n                if (stringIn(saveName, saveList)) {\n                  setConfirmSaveData({ isOpen: true, message: 'would you like to overwrite this save?' })\n                } else {\n                  window.projectSaveService.create({\n                    saveName,\n                    state\n                  }).then((res: any) => {\n                    if (res) {\n                      window.flashNotification('green', 'project saved')\n                    }\n                  })\n                  onClose()\n                }\n                break\n              case 'Escape':\n                onClose()\n                break\n            }\n          }}\n          ref={inputRef}\n          autoFocus\n        />\n        <Button\n          onPointerDown={e => e.preventDefault()}\n          onClick={e => {\n            e.preventDefault()\n            if (stringIn(saveName, saveList)) {\n              setConfirmSaveData({ isOpen: true, message: 'save already exists. do you want to replace it?' })\n            } else {\n              window.projectSaveService.create({\n                saveName,\n                state\n              }).then((res: any) => {\n                if (res) {\n                  window.flashNotification('green', 'project saved')\n                }\n              })\n              onClose()\n            } \n          }}\n        >\n          save to spaceDB\n        </Button>\n      </FlexRow>\n      {!confirmSaveData.isOpen ? null\n        :\n        <FlexCol>\n          <div\n            style={{ fontSize: sizes.text.small }}\n          >\n            { confirmSaveData.message }\n          </div>\n          <FlexRow style={{ justifyContent: 'center' }}>\n            <Button style={{ backgroundColor: colors.denyButton, marginRight: '3vmin' }}\n              onClick={() => {\n                inputRef.current?.focus()\n                setConfirmSaveData({ isOpen: false, message: '' })\n              }}\n            >no</Button>\n            <Button style={{ backgroundColor: colors.confirmButton }}\n              onClick={() => {\n                window.projectSaveService.update(saveName, state).then((res: any) => {\n                  if (res) {\n                    window.flashNotification('green', 'project updated')\n                  }\n                })\n                onClose()\n              }}\n            >yes</Button>\n          </FlexRow>\n        </FlexCol>\n      }\n    </CenterMenu>\n  )\n}\n\nexport default SpaceDBProjectSaveMenu","import React, { useState } from 'react'\nimport { colors } from '../../../theme/theme'\nimport Button from '../../Button/Button'\nimport CenterMenu from '../CenterMenu/CenterMenu'\n\ndeclare global {\n  interface Window {\n    openConfirmDeleteMenu: (saveName: string, onClose: () => void) => void\n  }\n}\n\nfunction makeData(isOpen: boolean, saveName = '', onClose = () => { }) {\n  return {\n    isOpen,\n    saveName,\n    preOnClose: onClose\n  }\n}\n\nfunction ConfirmDeleteMenu() {\n  const [{ isOpen, saveName, preOnClose }, setData] = useState(makeData(false))\n  window.openConfirmDeleteMenu = (saveName, onClose) => { setData(makeData(true, saveName, onClose)) }\n  const onClose = () => {\n    preOnClose()\n    setData(makeData(false))\n  }\n  return (\n    <CenterMenu header={`are you sure you want to delete ${saveName}?`}\n      isClosed={!isOpen}\n      onClose={onClose}\n    >\n      <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'center' }}>\n        <Button style={{ backgroundColor: colors.denyButton, marginRight: '3vmin' }}\n          onClick={() => {\n            onClose()\n          }}\n        >no</Button>\n        <Button style={{ backgroundColor: colors.confirmButton }}\n          onClick={() => {\n            window.projectSaveService.remove(saveName)\n            onClose()\n          }}\n        >yes</Button>\n      </div>\n    </CenterMenu>\n  )\n}\n\nexport default ConfirmDeleteMenu","import { saveSMM } from \"../../../helpers/fileAccess\"\nimport { stringIn } from \"../../../helpers/genFuncs\"\nimport { getContainerModulesConnections } from \"../../../redux/getContainerAsProject\"\nimport { RootState } from \"../../../redux/stateTSTypes\"\n\nexport function getFileDirectory(badDir: string) {\n  for (var i = badDir.length; i > 0; i--) {\n    if (badDir[i] === '/') {\n      return badDir.slice(0, i + 1)\n    }\n  }\n  return badDir\n}\n\nexport function confirmContainerSaveName(setConfirmSaveData: (arg: any) => void, containerID: string, name: string, saveList: string[], state: RootState, onClose: () => void) {\n  if (!stringIn(name, saveList)) {\n    const { modules, connections } = getContainerModulesConnections(state, containerID)\n    window.containerSaveService.create({\n      saveName: name,\n      containerID,\n      modules,\n      connections,\n    }).then((success: string) => {\n      if (success) {\n        window.flashNotification('green', 'module saved to spaceDB')\n        window.refreshSpaceDBModules()\n      }\n    })\n    onClose()\n  } else {\n    setConfirmSaveData({ isOpen: true, message: 'module with this name already exists. would you like to update it?' })\n  }\n}\n\nexport async function saveContainerToFile(saveName: string, containerID: string, state: RootState) {\n  const { modules, connections } = getContainerModulesConnections(state, containerID)\n  const save = {\n    containerID,\n    modules,\n    connections\n  }\n  await saveSMM(window.moduleDirectoryHandle, saveName, save)\n}","import React, { useRef, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { stringIn } from '../../../helpers/genFuncs'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { colors } from '../../../theme/theme'\nimport Button from '../../Button/Button'\nimport Conditional from '../../Conditional/Conditional'\nimport FlexCol from '../../Flex/FlexCol'\nimport FlexRow from '../../Flex/FlexRow'\nimport CenterMenu from '../CenterMenu/CenterMenu'\nimport { saveContainerToFile } from './helpers'\nimport useJSS from './style'\n\ndeclare global {\n  interface Window {\n    openFileContainerSaveMenu: (containerModID: string) => void\n  }\n}\n\nlet initName = ''\nlet modID = ''\n\nfunction FileContainerSaveMenu() {\n  const [open, setOpen] = useState(false)\n  const [saveName, setSaveName] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false) \n  const state = useSelector((state: RootState) => state) \n  window.openFileContainerSaveMenu = (containerModID) => {\n    modID = containerModID\n    initName = state.modules[containerModID].name\n    setSaveName(initName)\n    setConfirmOpen(false)\n    setOpen(true) \n  }\n  const onClose = () => {\n    setOpen(false)\n  }\n  async function trySaveModule() {\n    if (stringIn(saveName, window.fileModuleSaveNames)) {\n      setConfirmOpen(true)\n    } else {\n      await saveContainerToFile(saveName, modID, state)\n      window.flashNotification(colors.success, `${saveName} saved to file`)\n      onClose()\n    }\n  }\n  const classes = useJSS()\n  const inputRef = useRef<HTMLInputElement>(null)\n  return (\n    <CenterMenu header='' isClosed={!open} onClose={onClose}>\n      <input className={classes.CenterMenuInput}\n        onChange={e => {\n          setSaveName(e.target.value)\n        }}\n        value={saveName}\n        placeholder={initName}\n        onKeyDown={e => {\n          switch(e.key) {\n            case 'Enter': trySaveModule(); break;\n            case 'Esc': onClose(); break;\n          }\n        }}\n        ref={inputRef}\n        autoFocus\n      />\n      <Button\n        onClick={trySaveModule}\n      >\n        save\n      </Button>\n      <Conditional showIf={confirmOpen}>\n        <FlexCol>\n          <div>module with this name already exists. would you like to update it?</div>\n          <FlexRow>\n            <Button\n              onClick={() => {\n                if (inputRef.current) {\n                  inputRef.current.value = ''\n                  inputRef.current.focus()\n\n                }\n                setConfirmOpen(false)\n              }}\n            >\n              no\n            </Button>\n            <Button\n              onClick={() => {\n                saveContainerToFile(saveName, modID, state)\n                onClose()\n              }}\n            >\n              yes\n            </Button>\n          </FlexRow>\n        </FlexCol>\n      </Conditional>\n    </CenterMenu>\n  )\n}\n\nexport default FileContainerSaveMenu","import React, { useState, useRef, Fragment } from 'react'\nimport CenterMenu from '../CenterMenu/CenterMenu'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { getContainerModulesConnections } from '../../../redux/getContainerAsProject'\nimport { sizes, colors } from '../../../theme/theme'\nimport { confirmContainerSaveName } from './helpers'\nimport useJSS from './style'\nimport Button from '../../Button/Button'\n\ndeclare global {\n  interface Window {\n    openSpaceDBContainerSaveMenu: (saveList: string[], id: string, onClose: () => void) => void\n  }\n}\n\nfunction makeData(isOpen: boolean, id = '', saveList: string[] = [], onClose = () => {}, initName = '') {\n  return {\n    isOpen,\n    id,\n    saveList,\n    preOnClose: onClose,\n    initName\n  }\n}\n\nfunction SpaceDBContainerSaveMenu() {\n  const [{ isOpen, id, saveList, preOnClose, initName }, setData] = useState(makeData(false))\n  const state = useSelector((state: RootState) => state)\n  const [name, setName] = useState('')\n  window.openSpaceDBContainerSaveMenu = (saveList, id, onClose) => {\n    setData(makeData(true, id, saveList, onClose, state.modules[id].name))\n    setName(state.modules[id].name)\n  }\n  const onClose = () => {\n    preOnClose()\n    setData(makeData(false))\n  }\n  const [confirmSaveData, setConfirmSaveData] = useState({ isOpen: false, message: '' })\n  const inputRef = useRef<HTMLInputElement>(null)\n  const classes = useJSS()\n  return (\n    <CenterMenu header='save container module'\n      isClosed={!isOpen}\n      onClose={onClose}\n    >\n      <input className={classes.CenterMenuInput}\n        value={name}\n        placeholder={initName}\n        ref={inputRef}\n        onChange={e => {\n          setName(e.target.value)\n        }}\n        onKeyDown={e => {\n          switch (e.key) {\n            case 'Enter': // enter\n              confirmContainerSaveName(setConfirmSaveData, id, name, saveList, state, onClose)\n              break\n            case 'Escape': // escape\n              onClose()\n              break\n          }\n        }}\n        autoFocus\n      />\n      <Button\n        onClick={() => {\n          confirmContainerSaveName(setConfirmSaveData, id, name, saveList, state, onClose)\n        }}\n      >confirm</Button>\n      {\n        !confirmSaveData.isOpen ? null :\n        <Fragment>\n          <div\n            style={{ fontSize: sizes.text.small }}\n          >\n            { confirmSaveData.message }\n          </div>\n          <div style={{ display: 'flex' }}>\n            <Button style={{ backgroundColor: colors.denyButton }}\n              onClick={() => {\n                if (inputRef.current) {\n                  inputRef.current.value = ''\n                  inputRef.current.focus()\n                }\n                setConfirmSaveData({ isOpen: false, message: '' })\n              }}\n            >no</Button>\n            <Button style={{ backgroundColor: colors.confirmButton }}\n              onClick={() => {\n                const { modules, connections } = getContainerModulesConnections(state, id)\n                window.containerSaveService.update(name, {\n                  saveName: name,\n                  containerID: id,\n                  modules,\n                  connections,\n                }).then((success: string) => {\n                  if (success) {\n                    window.flashNotification('green', 'module updated')\n                    window.refreshSpaceDBModules()\n                  }\n                })\n                onClose()\n              }}\n            >yes</Button>\n          </div>\n        </Fragment>\n      }\n    </CenterMenu>\n  )\n}\n\nexport default SpaceDBContainerSaveMenu","import React, { useState } from 'react'\nimport useJSS from './style'\nimport Button from '../../Button/Button'\nimport { Range } from '../../../audioModules/moduleTypes'\nimport { sizes, colors } from '../../../theme/theme'\nimport CenterMenu from '../CenterMenu/CenterMenu'\n\ndeclare global {\n  interface Window {\n    openAnalyzerRangeSetMenu: (range: Range, onChangeSubmit: (newRange: Range) => void) => void\n  }\n}\n\nfunction makeData(isOpen: boolean, onChangeSubmit: (newRange: Range) => void = () => { }) {\n  return {\n    isOpen,\n    onChangeSubmit,\n  }\n}\n\nfunction AnalyzerRangeSetMenu() {\n  const [{ isOpen, onChangeSubmit }, setData] = useState(makeData(false))\n  const [min, setMin] = useState(0)\n  const [max, setMax] = useState(0)\n  window.openAnalyzerRangeSetMenu = (range, onChangeSubmit) => { \n    setMin(range[0])\n    setMax(range[1])\n    setData(makeData(true, onChangeSubmit))\n  }\n  const onClose = () => { setData(makeData(false)) }\n  const classes = useJSS()\n  return (\n    <CenterMenu isClosed={!isOpen} header='set analyzer range' onClose={onClose}>\n      <div className={classes.CMInputBounder}\n        onKeyDown={e => {\n          if (e.key === 'Escape') {\n            onClose()\n          } else if (e.key === 'Enter') {\n            onChangeSubmit([min, max])\n            onClose()\n          }\n        }}\n      >\n        <input className={classes.CenterMenuInput}\n          onChange={e => {\n            setMin(Number(e.target.value))\n          }}\n          value={min}\n          type='number'\n        />\n        <input className={classes.CenterMenuInput}\n          onChange={e => {\n            setMax(Number(e.target.value))\n          }}\n          value={max}\n          type='number'\n        />\n      </div>\n      <Button style={{ fontSize: sizes.text.small, backgroundColor: colors.confirmButton }}\n        onClick={() => {\n          onChangeSubmit([min, max])\n          onClose()\n        }}\n      >\n        confirm\n      </Button>\n    </CenterMenu>\n  )\n}\n\nexport default AnalyzerRangeSetMenu","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  CMInputBounder: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n\n  },\n\n  CenterMenuInput: {\n    backgroundColor: colors.grey,\n    color: 'white',\n    height: '2vmin',\n    padding: '1vmin',\n    margin: '1.5vmin .75vmin 1.5vmin 1.5vmin',\n    borderStyle: 'none',\n    borderRadius: '1vmin',\n    fontSize: sizes.text.small,\n    width: '23vmin',\n    '&:hover': {\n      cursor: 'text',\n    },\n  },\n\n  InputSubmit: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: colors.grey,\n    height: '2vmin',\n    padding: '1vmin',\n    margin: '1.5vmin 1.5vmin 1.5vmin 0.75vmin',\n    borderRadius: '1vmin',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n    fontSize: sizes.text.small,\n  },\n\n  Error: {\n    backgroundColor: colors.errorBackground,\n    width: '90%',\n    color: 'white',\n    fontSize: sizes.text.small,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: '1vmin',\n    padding: '1vmin 0vmin',\n    marginBottom: '1vmin',\n  },\n})\n\nexport default useJSS","import React, { useState } from 'react'\nimport Button from '../../Button/Button'\nimport CenterMenu from '../CenterMenu/CenterMenu'\nimport useJSS from './style'\n\ninterface Props {\n  isOpen: boolean\n  header: string\n  onSubmit: (newName: string) => void\n  placeholder: string\n  onClose: () => void\n}\n\nfunction RenameMenu({ isOpen, header, onSubmit, placeholder, onClose }: Props) {\n  const classes = useJSS()\n  const [val, setVal] = useState('')\n  const [isTooShort, setIsTooShort] = useState(false)\n  function trySubmit() {\n    if (val.length > 0) {\n      onSubmit(val)\n      onClose()\n      setVal('')\n    } else {\n      setIsTooShort(true)\n    }\n  }\n  return (\n    <CenterMenu isClosed={!isOpen} header={header} onClose={() => { onClose(); setVal('') }}>\n      <div className={classes.CMInputBounder}>\n        <input className={classes.CenterMenuInput}\n          placeholder={placeholder}\n          value={val}\n          onChange={e => {\n            setVal(e.target.value)\n          }}\n          onKeyDown={e => {\n            switch (e.key) {\n              case 'Enter':\n                trySubmit()\n                break\n              case 'Escape':\n                onClose()\n                break\n            }\n          }}\n          autoFocus\n        />\n        <Button\n          onClick={() => {\n            trySubmit()\n          }}\n        >\n          confirm\n        </Button>\n        {\n          !isTooShort ? null :\n          <div className={classes.Error}>\n            please enter a name\n          </div>\n        }\n      </div>\n    </CenterMenu>\n  )\n}\n\nexport default RenameMenu","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { renameModule } from '../../../redux/allActions'\nimport RenameMenu from './RenameMenu'\n\ndeclare global {\n  interface Window {\n    openModuleRenameMenu: (toRenameID: string) => void\n  }\n}\n\nfunction makeData(isOpen: boolean, toRenameID = '') {\n  return {\n    isOpen,\n    toRenameID,\n  }\n}\n\nfunction RenameModuleMenu() {\n  const [{ isOpen, toRenameID }, setData] = useState(makeData(false))\n  window.openModuleRenameMenu = toRenameID => { setData(makeData(true, toRenameID)) }\n  const onClose = () => { setData(makeData(false)) }\n  const modules = useSelector((state: RootState) => state.modules)\n  const dispatch = useDispatch()\n  return (\n    <RenameMenu header='rename module' \n      isOpen={isOpen}\n      onSubmit={newName => {\n        dispatch(renameModule(toRenameID, newName))\n      }}\n      placeholder={modules[toRenameID]?.name}\n      onClose={onClose}\n    />\n  )\n}\n\nexport default RenameModuleMenu","import React, { useState } from 'react'\nimport RenameMenu from './RenameMenu'\nimport { useDispatch } from 'react-redux'\nimport { renameContainerControl } from '../../../redux/allActions'\nimport { ContainerControl } from '../../../redux/stateTSTypes'\n\ndeclare global {\n  interface Window {\n    openControlRenameMenu: (placeholder: string, parentModID: string, containerControl: ContainerControl) => void\n  }\n}\n\nfunction makeData(isOpen: boolean, placeholder = '', parentModID = '', containerControl?: ContainerControl) {\n  return {\n    isOpen,\n    placeholder,\n    containerControl,\n    parentModID\n  }\n}\n\nfunction RenameControlMenu() {\n  const [{ isOpen, placeholder, containerControl, parentModID }, setData] = useState(makeData(false))\n  window.openControlRenameMenu = (placeholder, parentModID, containerControl) => { setData(makeData(true, placeholder, parentModID, containerControl)) }\n  const onClose = () => setData(makeData(false))\n  const dispatch = useDispatch()\n  return (\n    <RenameMenu header='rename control'\n      isOpen={isOpen}\n      onSubmit={newName => {\n        const { modID, controlID, actualModID } = containerControl as ContainerControl\n        dispatch(renameContainerControl(newName, parentModID, modID, controlID, actualModID))\n        window.flashNotification('green', 'control passthrough renamed')\n      }}\n      placeholder={placeholder}\n      onClose={onClose}\n    />\n  )\n}\n\nexport default RenameControlMenu","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  LeftBar: {\n    width: sizes.addModuleMenu.leftBarWidth,\n    //height: sizes.addModuleMenu.height,\n    backgroundColor: colors.addModuleLeftBarBG,\n  },\n\n  LeftBarButton: {\n    borderRadius: '0em',\n    margin: '0em',\n    backgroundColor: 'transparent',\n    //borderStyle: 'none solid none none',\n    borderColor: 'transparent',\n    borderWidth: '1px',\n    '&:hover': {\n      borderColor: 'transparent',\n    }\n  },\n\n  RouterBounder: {\n    alignItems: 'center'\n  },\n\n  IconRouter: {\n    width: sizes.addModuleMenu.iconRouterWidth,\n    height: sizes.addModuleMenu.height,\n    overflowY: 'scroll',\n    display: 'grid',\n    gridTemplateColumns: 'repeat(3, auto)',\n    gridAutoRows: '20vmin',\n    gridAutoFlow: 'row',\n    placeItems: 'center',\n    '&::-webkit-scrollbar': {\n      width: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: 'white',\n    },\n  },\n\n  SearchBar: {\n    width: '80%',\n    height: '1.5em',\n    marginTop: '1.3em',\n    marginBottom: '.4em',\n    fontSize: sizes.text.small,\n    backgroundColor: colors.addModuleSearchBarBG,\n    color: colors.addModuleSearchBarText,\n    textAlign: 'center',\n    borderStyle: 'none',\n    borderRadius: '.2em',\n    '&:focus': {\n      outline: 'none',\n    }\n  },\n})\n\nexport default useJSS","import React from 'react'\nimport { colors } from '../../../theme/theme'\nimport Button from '../../Button/Button'\nimport FlexCol from '../../Flex/FlexCol'\nimport { addModuleMenuGroups, SPACEDB_MODULES } from './AddModuleMenu'\nimport useJSS from './style'\n\ninterface Props {\n  selectedGroup: string\n  setSG: (arg: string) => void\n}\n\nfunction LeftBar({ selectedGroup, setSG }: Props) {\n  const classes = useJSS()\n  return (\n    <FlexCol className={classes.LeftBar}>\n      {addModuleMenuGroups.filter(group => window.usingElectron || group !== SPACEDB_MODULES)\n      .map((group, index) => {\n        const isHL = group === selectedGroup\n        return (\n          <Button className={classes.LeftBarButton}\n            key={index}\n            style={{\n              color: isHL ? colors.selectedText : 'white',\n            }}\n            onClick={() => {\n              setSG(group)\n            }}\n          >\n            { group }\n          </Button>\n        )\n      })}\n    </FlexCol>\n  )\n}\n\nexport default LeftBar","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  DrawerItem: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'space-evenly',\n    borderRadius: '10px',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n  },\n\n  DrawerIcon: {\n    backgroundColor: colors.grey,\n    borderColor: colors.grey,\n    borderStyle: 'solid',\n    width: sizes.rightDrawer.item,\n    height: sizes.rightDrawer.item,\n    borderRadius: '1.5vmin',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    marginBottom: '1.5vmin',\n    '&:hover': {\n      cursor: 'pointer',\n      borderColor: 'white',\n    },\n  },\n\n  DrawerItemText: {\n    fontSize: sizes.text.small,\n  },\n})\n\nexport default useJSS","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { ModuleType } from '../../../../../audioModules/moduleTypes'\nimport genRandomID from '../../../../../redux/idGen'\nimport { ADD_MODULE } from '../../../../../redux/modules/moduleActionTypes'\nimport getModuleColor from '../../../../../theme/moduleColor'\nimport { colors } from '../../../../../theme/theme'\nimport useJSS from '../style'\n\ninterface Props {\n  fullName: string\n  shortName: string\n  moduleType: string\n  isFocussed?: boolean\n  totNumModules: number\n  row: number\n  col: number\n  onClose: () => void\n}\n\nfunction ModuleIcon({ fullName, shortName, moduleType, isFocussed, totNumModules, row, col, onClose }: Props) {\n  const classes = useJSS()\n  const dispatch = useDispatch()\n  function addModule() {\n    window.addModule(\n      genRandomID(0, totNumModules),\n      shortName,\n      window.fillContainerID,\n      moduleType as ModuleType,\n      dispatch,\n      row, col\n    )\n    onClose()\n  }\n  if (isFocussed) {\n    window.addSelectedSearchModule = addModule\n  }\n  return (\n    <div className={classes.DrawerItem}>\n      <div className={classes.DrawerIcon}\n        style={{ \n          backgroundColor: getModuleColor(moduleType),\n          borderColor: isFocussed ? 'white' : colors.grey\n        }}\n        onFocus={e => { \n          e.preventDefault()\n          console.log('focussing 2')\n        }}\n        onClick={addModule}\n        draggable={true}\n        onDragStart={event => { // but the div disappears making this not work\n          event.persist()\n          event.dataTransfer.setData('type', ADD_MODULE)\n          event.dataTransfer.setData('id', genRandomID(0, totNumModules))\n          event.dataTransfer.setData('moduleType', moduleType)\n          event.dataTransfer.setData('name', shortName)\n          //onClose()\n        }}\n        onKeyDown={e => {\n          switch (e.key) {\n            case 'Enter': addModule()\n          }\n        }}\n      />\n      <div className={classes.DrawerItemText}>\n        {fullName}\n      </div>\n    </div>\n  )\n}\n\nexport default ModuleIcon","import React, { Fragment } from 'react'\nimport { ModuleType } from '../../../../../audioModules/moduleTypes'\nimport { DrawerModuleData } from './moduleData'\nimport ModuleIcon from './ModuleIcon'\n\ninterface Props {\n  totNumModules: number\n  moduleData: DrawerModuleData\n  row: number\n  col: number\n  onClose: () => void\n}\n\nfunction ModuleIcons({ totNumModules, moduleData, row, col, onClose }: Props) {\n  return (\n    <Fragment>\n      {moduleData.map(([fullName, shortName, moduleType], index) => {\n        return (\n          <ModuleIcon key={index} \n            fullName={fullName} \n            shortName={shortName} \n            moduleType={moduleType as ModuleType} \n            totNumModules={totNumModules} \n            row={row} col={col}\n            onClose={onClose}\n          />\n        )\n      })}\n    </Fragment>\n  )\n}\n\nexport default ModuleIcons","import { GAIN, AUTOFILTER, KOMPRESSOR, SIGNAL_DELAY, STEREO_PANNER, MEDIA_ELEMENT, LINE_IN, OSCILLATOR, CONSTANT, CONTAINER, OUTPUT, DISTORTION, ANALYZER, ENVELOPED_TRIGGER, WHITE_NOISE, TUNER } from \"../../../../../audioModules/moduleTypes\";\n\nexport type DrawerModuleData = [string, string, string][]\n\nexport const effectModuleData: DrawerModuleData = [\n  ['gain', 'gain', GAIN], // fullname, shortname, moduleType\n  ['filter', 'filter', AUTOFILTER],\n  ['kompressor', 'komp', KOMPRESSOR],\n  ['signal delay', 'delay', SIGNAL_DELAY],\n  ['stereo panner', 'pan', STEREO_PANNER],\n  ['distortion', 'dist', DISTORTION],\n]\n\nexport const sourceModuleData: DrawerModuleData = [\n  ['file', 'file', MEDIA_ELEMENT],\n  ['stream', 'stream', LINE_IN],\n  ['oscillator', 'osc', OSCILLATOR],\n  ['constant', 'const', CONSTANT],\n  ['enveloped pad', 'env', ENVELOPED_TRIGGER],\n  ['white noise', 'noise', WHITE_NOISE]\n]\n\nexport const utilityModuleData: DrawerModuleData = [\n  ['container', 'cntnr', CONTAINER],\n  ['output', 'out', OUTPUT],\n  ['analyzer', 'analyzer', ANALYZER],\n  ['tuner', 'tuner', TUNER],\n]\n\nexport const allModuleData: DrawerModuleData = effectModuleData.concat(sourceModuleData).concat(utilityModuleData)","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { CONTAINER } from '../../../../../audioModules/moduleTypes'\nimport { performContainerMerge } from '../../../../../redux/replicateContainer'\nimport getModuleColor from '../../../../../theme/moduleColor'\nimport { colors } from '../../../../../theme/theme'\nimport useJSS from '../style'\n\ninterface Props {\n  moduleName: string\n  totNumberModules: number\n  totNumberConnections: number\n  onClose: () => void\n  row: number\n  col: number\n  isFocussed?: boolean\n}\n\nfunction SpaceDBModuleIcon({ moduleName, totNumberModules, totNumberConnections, onClose, row, col, isFocussed }: Props) {\n  const classes = useJSS()\n  const dispatch = useDispatch()\n  function addModule() {\n    window.containerSaveService.get(moduleName).then(({ containerID, modules, connections }: any) => {\n      performContainerMerge(dispatch, modules, connections, totNumberModules, totNumberConnections, window.fillContainerID, containerID, row, col)\n    })\n    onClose()\n  }\n  if (isFocussed) {\n    window.addSelectedSearchModule = addModule\n  }\n  return (\n    <div className={classes.DrawerItem}>\n      <div className={classes.DrawerIcon}\n        style={{ \n          backgroundColor: getModuleColor(CONTAINER),\n          borderColor: isFocussed ? 'white' : colors.grey,\n        }}\n        onClick={addModule}\n        onContextMenu={e => {\n          e.preventDefault()\n          e.persist()\n          window.openSDBModuleContextMenu(e, moduleName)\n        }}\n      />\n      <div className={classes.DrawerItemText}>\n        {moduleName}\n      </div>\n    </div>\n  )\n}\n\nexport default SpaceDBModuleIcon","import React, { Fragment, useEffect } from 'react'\nimport SpaceDBModuleIcon from './SpaceDBModuleIcon'\n\ninterface Props {\n  totNumModules: number\n  totNumConnections: number\n  onClose: () => void\n  row: number\n  col: number\n  spaceDBModules: string[]\n}\n\nfunction SpaceDBModules({ spaceDBModules, totNumModules, totNumConnections, onClose, row, col }: Props) {\n  useEffect(() => {\n    window.refreshSpaceDBModules()\n  }, [])\n  return (\n    <Fragment>\n      {spaceDBModules.map((moduleName, index) => {\n        return (\n          <SpaceDBModuleIcon \n            moduleName={moduleName}\n            key={index}\n            totNumberModules={totNumModules}\n            totNumberConnections={totNumConnections}\n            onClose={onClose}\n            row={row} col={col}\n          />\n        )\n      })}\n    </Fragment>\n  )\n}\n\nexport default SpaceDBModules","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { CONTAINER } from '../../../../../audioModules/moduleTypes'\nimport { getSavedSMMFromName } from '../../../../../helpers/fileAccess'\nimport { performContainerMerge } from '../../../../../redux/replicateContainer'\nimport getModuleColor from '../../../../../theme/moduleColor'\nimport { colors } from '../../../../../theme/theme'\nimport useJSS from '../style'\n\ninterface Props {\n  name: string\n  totNumModules: number\n  totNumConnections: number\n  row: number\n  col: number\n  onClose: () => void\n  isFocussed?: boolean\n}\n\nfunction FileModuleIcon({ name, totNumModules, totNumConnections, row, col, onClose, isFocussed }: Props) {\n  const classes = useJSS()\n  async function addModule() {\n    const { containerID, modules, connections } = await getSavedSMMFromName(window.moduleDirectoryHandle, name)\n    performContainerMerge(\n      dispatch, \n      modules, \n      connections, \n      totNumModules, \n      totNumConnections,\n      window.fillContainerID,\n      containerID,\n      row, col\n    )\n    onClose()\n  }\n  if (isFocussed) {\n    window.addSelectedSearchModule = addModule\n  }\n  const dispatch = useDispatch()\n  return (\n    <div className={classes.DrawerItem}>\n      <div className={classes.DrawerIcon}\n        style={{ \n          backgroundColor: getModuleColor(CONTAINER),\n          borderColor: isFocussed ? 'white' : colors.grey,\n        }}\n        onClick={addModule}\n      />\n      <div className={classes.DrawerItemText}>\n        {name}\n      </div>\n    </div>\n  )\n}\n\nexport default FileModuleIcon","import React, { Fragment } from 'react'\nimport { allModuleData } from './base/moduleData'\nimport ModuleIcon from './base/ModuleIcon'\nimport FileModuleIcon from './file/FileModuleIcon'\nimport SpaceDBModuleIcon from './spaceDB/SpaceDBModuleIcon'\n\ninterface Props {\n  query: string\n  spaceDBModules: string[]\n  totNumModules: number\n  totNumConnections: number\n  onClose: () => void\n  row: number\n  col: number\n}\n\nfunction SearchIcons({ query, spaceDBModules, totNumModules, totNumConnections, onClose, row, col }: Props) {\n  const upperCaseQuery = query.toUpperCase()\n  const filteredSpaceDBModules = spaceDBModules.filter(moduleName => moduleName.toUpperCase().slice(0, upperCaseQuery.length) === upperCaseQuery)\n  const filteredModuleData = allModuleData.filter(([fullName, ,]) => fullName.toUpperCase().slice(0, upperCaseQuery.length) === upperCaseQuery)\n  const filteredFileModules = window.fileModuleSaveNames.filter(modName => modName.toUpperCase().slice(0, upperCaseQuery.length) === upperCaseQuery)\n  return (\n    <Fragment>\n      {filteredSpaceDBModules.map((moduleName, index) => {\n        return (\n          <SpaceDBModuleIcon\n            key={moduleName}\n            moduleName={moduleName}\n            totNumberModules={totNumModules}\n            totNumberConnections={totNumConnections}\n            onClose={onClose}\n            row={row} col={col}\n            isFocussed={index === 0}\n          />\n        )\n      })}\n      {filteredFileModules.map((saveName, index) => {\n        return (\n          <FileModuleIcon \n            key={saveName}\n            name={saveName}\n            totNumModules={totNumModules}\n            totNumConnections={totNumConnections}\n            onClose={onClose}\n            row={row} col={col}\n            isFocussed={filteredSpaceDBModules.length === 0 && index === 0}\n          />\n        )\n      })}\n      {filteredModuleData.map(([fullName, shortName, moduleType], index) => {\n        return (\n          <ModuleIcon\n            isFocussed={filteredSpaceDBModules.length === 0 && filteredFileModules.length === 0 && index === 0}\n            key={index}\n            fullName={fullName}\n            shortName={shortName}\n            moduleType={moduleType}\n            totNumModules={totNumModules}\n            row={row} col={col}\n            onClose={onClose}\n          />\n        )\n      })}\n    </Fragment>\n  )\n}\n\nexport default SearchIcons","import React, { Fragment, useState } from 'react'\nimport { getDirectorySMMNames } from '../../../../../helpers/fileAccess'\nimport { sizes } from '../../../../../theme/theme'\nimport Button from '../../../../Button/Button'\nimport FileModuleIcon from './FileModuleIcon'\n\ndeclare global {\n  interface Window {\n    moduleDirectoryHandle: any\n    fileModuleSaveNames: string[]\n  }\n}\n\ninterface Props {\n  totNumModules: number\n  totNumConnections: number\n  row: number\n  col: number\n  onClose: () => void\n}\n\nwindow.fileModuleSaveNames = []\n\nfunction FileModules({ totNumModules, totNumConnections, row, col, onClose }: Props) {\n  const [fileModules, setFileModules] = useState<string[]>(window.fileModuleSaveNames)\n  return (\n    <Fragment>\n      {window.moduleDirectoryHandle ?\n      (fileModules.length === 0 ?\n      <Fragment>\n        <Button fontSize={sizes.text.small} notClickable>\n          no modules in this directory.\n          save modules by right clicking a custom container,\n          and selecting save to file.\n        </Button>\n        <Button\n          onClick={async () => {\n            window.moduleDirectoryHandle =  await window.showDirectoryPicker()\n            window.fileModuleSaveNames = await getDirectorySMMNames(window.moduleDirectoryHandle)\n            setFileModules(window.fileModuleSaveNames)\n          }}\n        >\n          change directory\n        </Button>\n      </Fragment>\n      :\n      fileModules.map((name, index) => {\n        return (\n          <FileModuleIcon key={index}\n            name={name} onClose={onClose}\n            totNumModules={totNumModules}\n            totNumConnections={totNumConnections}\n            row={row} col={col}\n          />\n        )\n      })\n      )\n      :\n      <Button\n        onClick={async () => {\n          window.moduleDirectoryHandle = await window.showDirectoryPicker()\n          window.fileModuleSaveNames = await getDirectorySMMNames(window.moduleDirectoryHandle)\n          setFileModules(window.fileModuleSaveNames)\n        }}\n      >\n        select module directory\n      </Button>\n      }\n    </Fragment>\n  )\n}\n\nexport default FileModules","import React from 'react'\nimport ModuleIcons from './Icons/base/ModuleIcons'\nimport useJSS from './style'\nimport { EFFECTS, SOURCES, UTILITY, SPACEDB_MODULES, SEARCH, FILE_MODULES } from './AddModuleMenu'\nimport { effectModuleData, sourceModuleData, utilityModuleData } from './Icons/base/moduleData'\nimport SpaceDBModules from './Icons/spaceDB/SpaceDBModules'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport SearchIcons from './Icons/SearchIcons'\nimport FileModules from './Icons/file/FileModules'\n\ninterface Props {\n  selectedGroup: string\n  row: number\n  col: number\n  query: string\n  onClose: () => void\n  spaceDBModules: string[]\n}\n\nfunction IconRouter({ selectedGroup, row, col, onClose, query, spaceDBModules }: Props) {\n  const totNumModules = useSelector((state: RootState) => Object.keys(state.modules).length)\n  const totNumConnections = useSelector((state: RootState) => Object.keys(state.connections).length)\n  const classes = useJSS()\n  return (\n    <div className={classes.IconRouter}>\n      <ModuleIcons totNumModules={totNumModules}\n        moduleData={\n          selectedGroup === EFFECTS ? effectModuleData : \n          selectedGroup === SOURCES ? sourceModuleData :\n          selectedGroup === UTILITY ? utilityModuleData :\n          []\n        }\n        row={row} col={col}\n        onClose={onClose}\n      />\n      {selectedGroup !== SPACEDB_MODULES ? null :\n      <SpaceDBModules\n        spaceDBModules={spaceDBModules}\n        totNumModules={totNumModules}\n        totNumConnections={totNumConnections}\n        onClose={onClose}\n        row={row} col={col}\n      />}\n      {selectedGroup !== FILE_MODULES ? null :\n      <FileModules\n        onClose={onClose}\n        totNumModules={totNumModules}\n        totNumConnections={totNumConnections}\n        row={row} col={col}\n      />}\n      {selectedGroup !== SEARCH ? null :\n      <SearchIcons\n        query={query}\n        spaceDBModules={spaceDBModules}\n        totNumModules={totNumModules}\n        totNumConnections={totNumConnections}\n        onClose={onClose}\n        row={row} col={col}\n      />}\n    </div>\n  )\n}\n\nexport default IconRouter","import React, { RefObject } from 'react'\nimport { SEARCH } from './AddModuleMenu'\nimport useJSS from './style'\n\ndeclare global {\n  interface Window {\n    addSelectedSearchModule: () => void\n  }\n}\n\ninterface Props {\n  selectedGroup: string\n  setSG: (arg: string) => void\n  setQuery: (arg: string) => void\n  searchRef: RefObject<HTMLInputElement>\n  onClose: () => void\n}\n\nlet prevSelectedGroup: string\n\nfunction SearchBar({ selectedGroup, setSG, setQuery, searchRef, onClose }: Props) {\n  const classes = useJSS()\n  if (selectedGroup !== SEARCH) {\n    prevSelectedGroup = selectedGroup\n  }\n  return (\n    <input className={classes.SearchBar}\n      ref={searchRef}\n      onChange={e => {\n        if (e.target.value.length === 0) {\n          setSG(prevSelectedGroup)\n          window.addSelectedSearchModule = () => {}\n        } else {\n          setQuery(e.target.value)\n          setSG(SEARCH)\n        }\n      }}\n      onKeyDown={e => {\n        switch(e.key) {\n          case 'Escape': onClose(); break;\n          case 'Enter': window.addSelectedSearchModule(); break;\n        }\n      }}\n      placeholder='search'\n    />\n  )\n}\n\nexport default SearchBar","import React, { useEffect, useRef, useState } from 'react'\nimport LeftBar from './LeftBar'\nimport IconRouter from './IconRouter'\nimport SearchBar from './SearchBar'\nimport useJSS from './style'\nimport { useSpring } from 'react-spring'\nimport CenterMenu from '../CenterMenu/CenterMenu'\nimport FlexRow from '../../Flex/FlexRow'\nimport FlexCol from '../../Flex/FlexCol'\nimport { zIndex } from '../../../theme/zIndex'\n\ndeclare global {\n  interface Window {\n    openAddModuleMenu: (row: number, col: number) => void\n    refreshSpaceDBModules: () => void\n  }\n}\n\nexport const EFFECTS = 'effects'\nexport const SOURCES = 'sources'\nexport const UTILITY = 'utility'\nexport const SPACEDB_MODULES = 'spaceDB'\nexport const FILE_MODULES = 'local file'\nexport const SEARCH = 'search'\n\nexport const addModuleMenuGroups = [\n  EFFECTS, SOURCES, UTILITY, SPACEDB_MODULES, FILE_MODULES\n]\n\nfunction makeData(isOpen: boolean, row?: number, col?: number) {\n  return {\n    isOpen,\n    row,\n    col,\n  }\n}\n\nfunction AddModuleMenu() {\n  const [{ isOpen, row, col }, setData] = useState(makeData(false))\n  const searchRef = useRef<HTMLInputElement>(null)\n  window.openAddModuleMenu = (row, col) => {\n    setQuery('')\n    setData(makeData(true, row, col))\n    if (searchRef.current) {\n      searchRef.current.value = ''\n      searchRef.current.focus()\n    }\n  }\n  const onClose = () => { setData(makeData(false)) }\n  const [selectedGroup, setSG] = useState(EFFECTS)\n  const [query, setQuery] = useState('') // used with the search bar\n  const [spaceDBModules, setSpaceDBModules] = useState<string[]>([])\n  window.refreshSpaceDBModules = () => {\n    window.containerSaveService.find().then((saveNames: string[]) => { setSpaceDBModules(saveNames) })\n  }\n  const styleSpring = useSpring({\n    opacity: isOpen ? 1 : 0,\n    config: {\n      tension: 270,\n    }\n  })\n  useEffect(() => {\n    if (window.usingElectron) window.refreshSpaceDBModules()\n  }, [])\n  const classes = useJSS()\n  return (\n    <CenterMenu header='add module'\n      onClose={onClose}\n      bounderStyle={Object.assign({}, styleSpring, {\n        zIndex: isOpen ? zIndex.centerMenu : zIndex.background - 1,\n      })}\n    >\n      <FlexRow>\n        <FlexCol className={classes.RouterBounder}>\n          <SearchBar selectedGroup={selectedGroup} setSG={setSG} setQuery={setQuery} searchRef={searchRef} onClose={onClose} />\n          <LeftBar selectedGroup={selectedGroup} setSG={setSG} />\n        </FlexCol>\n        <IconRouter \n          selectedGroup={selectedGroup} \n          row={row as number} col={col as number} \n          onClose={onClose} query={query} \n          spaceDBModules={spaceDBModules} \n        />\n      </FlexRow>\n    </CenterMenu>\n  )\n}\n\nexport default AddModuleMenu","import { Modules, ContainerModule } from '../../stateTSTypes'\nimport { AddModuleAction } from '../moduleTSTypes'\nimport { CONTAINER } from '../../../audioModules/moduleTypes'\n\nconst addModule = (state: Modules, { id, name, moduleType, controlData, row, col, parentID, connectionInputs, connectionOutputs }: AddModuleAction): Modules => {\n  switch(moduleType) {\n    case CONTAINER: return Object.assign({}, state, {\n      [id]: {\n        id,\n        name,\n        row,\n        col,\n        parentID,\n        moduleType,\n        controlData,\n        connectionInputs,\n        connectionOutputs,\n        inputs: [],\n        outputs: [],\n        containerControls: [],\n        toContainerControls: [],\n        childModules: [],\n        isBaseContainer: false,\n        isContainerInput: false,\n        isContainerOutput: false,\n      },\n      [parentID]: {\n        ...state[parentID],\n        childModules: [\n          ...(state[parentID] as ContainerModule).childModules,\n          id\n        ]\n      }\n    })\n    default: return Object.assign({}, state, {\n      [id]: {\n        id,\n        name,\n        row,\n        col,\n        parentID,\n        moduleType,\n        controlData,\n        connectionInputs,\n        connectionOutputs,\n        toContainerControls: [],\n        isContainerInput: false,\n        isContainerOutput: false,\n        inputs: [],\n        outputs: [],\n      },\n      [parentID]: {\n        ...state[parentID],\n        childModules: [\n          ...(state[parentID] as ContainerModule).childModules,\n          id\n        ]\n      }\n    })\n  }\n}\n\nexport default addModule","import { Modules } from \"../../stateTSTypes\";\nimport { MoveModuleAction } from \"../moduleTSTypes\";\n\nconst moveModule = (state: Modules, { id, newRow, newCol }: MoveModuleAction) => {\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      row: newRow,\n      col: newCol,\n    }\n  })\n}\n\nexport default moveModule","import { Modules } from \"../../stateTSTypes\"\nimport { RenameModuleAction } from \"../moduleTSTypes\"\n\nconst renameContainer = (state: Modules, { id, newName }: RenameModuleAction) => {\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      name: newName\n    },\n  })\n}\n\nexport default renameContainer","import { Modules } from \"../../stateTSTypes\";\nimport { MarkContainerIOAction } from \"../moduleTSTypes\";\n\nconst markContainerInput = (state: Modules, { id }: MarkContainerIOAction): Modules => {\n  const parentID = state[id].parentID as string\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      isContainerInput: true,\n    },\n    [parentID]: {\n      ...state[parentID],\n      connectionInputs: [ ...state[parentID].connectionInputs, id ],\n    }\n  })\n}\n\nexport default markContainerInput","import { Modules } from \"../../stateTSTypes\";\nimport { MarkContainerIOAction } from \"../moduleTSTypes\";\n\nconst unmarkContainerInput = (state: Modules, { id }: MarkContainerIOAction): Modules => {\n  const parentID = state[id].parentID as string\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      isContainerInput: false,\n    },\n    [parentID]: {\n      ...state[parentID],\n      connectionInputs: state[parentID].connectionInputs.filter( inputID => inputID !== id ),\n    }\n  })\n}\n\nexport default unmarkContainerInput","import { Modules } from \"../../stateTSTypes\";\nimport { MarkContainerIOAction } from \"../moduleTSTypes\";\n\nconst markContainerOutput = (state: Modules, { id }: MarkContainerIOAction): Modules => {\n  const parentID = state[id].parentID as string\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      isContainerOutput: true,\n    },\n    [parentID]: {\n      ...state[parentID],\n      connectionOutputs: [ ...state[parentID].connectionOutputs, id ],\n    }\n  })\n}\n\nexport default markContainerOutput","import { Modules } from \"../../stateTSTypes\";\nimport { MarkContainerIOAction } from \"../moduleTSTypes\";\n\nconst unmarkContainerOutput = (state: Modules, { id }: MarkContainerIOAction): Modules => {\n  const parentID = state[id].parentID as string\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      isContainerInput: false,\n    },\n    [parentID]: {\n      ...state[parentID],\n      connectionOutputs: state[parentID].connectionOutputs.filter(outputID => outputID !== id),\n    }\n  })\n}\n\nexport default unmarkContainerOutput","import { Modules, ContainerModule } from \"../../stateTSTypes\";\nimport { MarkContainerControlAction } from \"../moduleTSTypes\";\nimport { CONTAINER } from \"../../../audioModules/moduleTypes\";\n\nconst markContainerControl = (state: Modules, { modID, controlID, actualModID, name }: MarkContainerControlAction): Modules => {\n  const parentID = state[modID].parentID as string\n  if (state[modID].moduleType === CONTAINER) {\n    return Object.assign({}, state, {\n      [modID]: {\n        ...state[modID],\n        containerControls: (state[modID] as ContainerModule).containerControls.map(containerControl => {\n          if (\n            containerControl.controlID !== controlID ||\n            containerControl.actualModID !== actualModID\n          ) {\n            return containerControl\n          } else {\n            return {\n              ...containerControl,\n              markedToContainer: true,\n            }\n          }\n        })\n      },\n      [parentID]: {\n        ...state[parentID],\n        containerControls: [...(state[parentID] as ContainerModule).containerControls, { modID, controlID, actualModID, name, markedToContainer: false }],\n      }\n    })\n  } else {\n    return Object.assign({}, state, {\n      [actualModID]: {\n        ...state[actualModID],\n        controlData: {\n          ...state[actualModID].controlData,\n          [controlID]: {\n            ...state[actualModID].controlData[controlID],\n            markedToContainer: true,\n          }\n        }\n      },\n      [parentID]: {\n        ...state[parentID],\n        containerControls: [...(state[parentID] as ContainerModule).containerControls, { modID, controlID, actualModID, name, markedToContainer: false }],\n      }\n    })\n  }\n}\n\nexport default markContainerControl","import { Modules, ContainerModule } from \"../../stateTSTypes\";\nimport { MarkContainerControlAction } from \"../moduleTSTypes\";\nimport { CONTAINER } from \"../../../audioModules/moduleTypes\";\n\nconst unmarkContainerControl = (state: Modules, { modID, controlID, actualModID }: MarkContainerControlAction): Modules => {\n  const parentID = state[modID].parentID as string\n  if (state[modID].moduleType === CONTAINER) {\n    return Object.assign({}, state, {\n      [modID]: {\n        ...state[modID],\n        containerControls: (state[modID] as ContainerModule).containerControls.map(containerControl => {\n          if (\n            containerControl.controlID !== controlID ||\n            containerControl.actualModID !== actualModID\n          ) {\n            return containerControl\n          } else {\n            return {\n              ...containerControl,\n              markedToContainer: false,\n            }\n          }\n        })\n      },\n      [parentID]: {\n        ...state[parentID],\n        containerControls: (state[parentID] as ContainerModule).containerControls.filter(containerControl => {\n          return containerControl.modID !== modID ||\n            containerControl.controlID !== controlID ||\n            containerControl.actualModID !== actualModID\n        }),\n      }\n    })\n  } else {\n    return Object.assign({}, state, {\n      [actualModID]: {\n        ...state[actualModID],\n        controlData: {\n          ...state[actualModID].controlData,\n          [controlID]: {\n            ...state[actualModID].controlData[controlID],\n            markedToContainer: false,\n          }\n        }\n      },\n      [parentID]: {\n        ...state[parentID],\n        containerControls: (state[parentID] as ContainerModule).containerControls.filter(containerControl => {\n          return containerControl.modID !== modID ||\n            containerControl.controlID !== controlID ||\n            containerControl.actualModID !== actualModID\n        }),\n      }\n    })\n  }\n}\n\nexport default unmarkContainerControl","import { Modules, ContainerModule } from \"../../stateTSTypes\"\nimport { RenameContainerControlAction } from \"../moduleTSTypes\"\n\nconst renameContainerControl = (modules: Modules, { name, parentModID, modID, controlID, actualModID }: RenameContainerControlAction) => {\n  const containerMod = modules[parentModID] as ContainerModule\n  return Object.assign({}, modules, {\n    [parentModID]: {\n      ...containerMod,\n      containerControls: containerMod.containerControls.map(containerControl => {\n        const notRightControl = (\n          containerControl.controlID !== controlID ||\n          containerControl.actualModID !== actualModID\n        )\n        if (notRightControl) {\n          return containerControl\n        } else {\n          return {\n            ...containerControl,\n            name: name\n          }\n        }\n      })\n    }\n  })\n}\n\nexport default renameContainerControl","import { Modules } from \"../../stateTSTypes\";\nimport { UpdateControlValueAction } from \"../moduleTSTypes\";\n\nconst updateControlValue = (state: Modules, { modID, controlID, newValue }: UpdateControlValueAction) => {\n  return Object.assign({}, state, {\n    [modID]: {\n      ...state[modID],\n      controlData: {\n        ...state[modID].controlData,\n        [controlID]: {\n          ...state[modID].controlData[controlID],\n          value: newValue\n        }\n      }\n    }\n  })\n}\n\nexport default updateControlValue","import { Modules } from \"../../stateTSTypes\"\nimport { UpdateControlRangeAction } from \"../moduleTSTypes\"\nimport { clamp } from \"../../../helpers/genFuncs\"\n\nconst updateControlRange = (state: Modules, { modID, controlID, newRange }: UpdateControlRangeAction): Modules => {\n  return Object.assign({}, state, {\n    [modID]: {\n      ...state[modID],\n      controlData: {\n        ...state[modID].controlData,\n        [controlID]: {\n          ...state[modID].controlData[controlID],\n          range: newRange,\n          value: clamp(state[modID].controlData[controlID].value as number, newRange),\n        }        \n      }\n    }\n  })\n}\n\nexport default updateControlRange","import { ContainerModule, Modules } from \"../stateTSTypes\"\nimport { \n  ADD_MODULE,\n  MOVE_MODULE, \n  RENAME_MODULE, \n  MARK_CONTAINER_INPUT,\n  UNMARK_CONTAINER_INPUT,\n  MARK_CONTAINER_OUTPUT,\n  UNMARK_CONTAINER_OUTPUT,\n  MARK_CONTAINER_CONTROL,\n  UNMARK_CONTAINER_CONTROL,\n  UPDATE_CONTROL_VALUE,\n  UPDATE_CONTROL_RANGE,\n  RENAME_CONTAINER_CONTROL,\n} from './moduleActionTypes'\nimport { \n  ModuleAction, \n  AddModuleAction, \n  MoveModuleAction, \n  RenameModuleAction, \n  MarkContainerIOAction,\n  MarkContainerControlAction,\n  UpdateControlValueAction,\n  UpdateControlRangeAction,\n  RenameContainerControlAction,\n} from './moduleTSTypes'\nimport { \n  addModuleReducer, \n  moveModuleReducer, \n  renameModuleReducer, \n  markContainerInputReducer,\n  unmarkContainerInputReducer,\n  markContainerOutputReducer,\n  unmarkContainerOutputReducer,\n  markContainerControlReducer,\n  unmarkContainerControlReducer,\n  updateControlValueReducer,\n  updateControlRangeReducer,\n  renameContainerControlReducer,\n} from \"./reducers/allModuleReducers\"\nimport { CONTAINER, BUTTON } from \"../../audioModules/moduleTypes\"\n\nconst initBaseCM: ContainerModule = {\n  id: 'project',\n  name: 'project',\n  row: 0,\n  col: 0,\n  moduleType: CONTAINER,\n  controlData: {\n    'open': {\n      controlType: BUTTON,\n      paramID: 'n/a',\n    }\n  },\n  connectionInputs: [],\n  connectionOutputs: [],\n  inputs: [],\n  outputs: [],\n  parentID: null,\n  childModules: [],\n  isBaseContainer: true,\n  isContainerInput: false,\n  isContainerOutput: false,\n  containerControls: [],\n}\n\nconst initState: Modules = {\n  'project': initBaseCM\n}\n\nconst moduleReducer = (state = initState, action?: ModuleAction) => {\n  if (action) {\n    switch (action.type) {\n      case ADD_MODULE: return addModuleReducer(state, action as AddModuleAction)\n      case MOVE_MODULE: return moveModuleReducer(state, action as MoveModuleAction)\n      case RENAME_MODULE: return renameModuleReducer(state, action as RenameModuleAction)\n      case MARK_CONTAINER_INPUT: return markContainerInputReducer(state, action as MarkContainerIOAction)\n      case UNMARK_CONTAINER_INPUT: return unmarkContainerInputReducer(state, action as MarkContainerIOAction)\n      case MARK_CONTAINER_OUTPUT: return markContainerOutputReducer(state, action as MarkContainerIOAction)\n      case UNMARK_CONTAINER_OUTPUT: return unmarkContainerOutputReducer(state, action as MarkContainerIOAction)\n      case MARK_CONTAINER_CONTROL: return markContainerControlReducer(state, action as MarkContainerControlAction)\n      case UNMARK_CONTAINER_CONTROL: return unmarkContainerControlReducer(state, action as MarkContainerControlAction)\n      case UPDATE_CONTROL_VALUE: return updateControlValueReducer(state, action as UpdateControlValueAction)\n      case UPDATE_CONTROL_RANGE: return updateControlRangeReducer(state, action as UpdateControlRangeAction)\n      case RENAME_CONTAINER_CONTROL: return renameContainerControlReducer(state, action as RenameContainerControlAction)\n      default: return state\n    }\n  } else {\n    return state\n  }\n}\n\nexport default moduleReducer","import { BCIDAction } from \"./bcidTSTypes\"\nimport { DOWN_1_BASE, CHANGE_BASE } from \"./bcidActionTypes\"\n\nconst bcidReducer = (state = 'project', action?: BCIDAction) => {\n  if (action) {\n    switch (action.type) {\n      case DOWN_1_BASE: return action.newID\n      case CHANGE_BASE: return action.newID\n      default: return state\n    }\n  } else {\n    return state\n  }\n}\n\nexport default bcidReducer","export const DOWN_1_BASE = 'DOWN_1_BASE'\nexport const CHANGE_BASE = 'CHANGE_BASE'","import { Modules, Connections } from \"../../stateTSTypes\"\nimport { AddConnectionAction, ConnectionReducerReturn } from \"../connectionTSTypes\"\nimport genRandomID from \"../../idGen\"\n\nconst addConnection = (modules: Modules, connections: Connections, { fromID, toID, param, outputIndex, inputIndex, containerOutputChildID, containerInputChildID }: AddConnectionAction): ConnectionReducerReturn => {\n  const connectionID = genRandomID(0, Object.keys(connections).length)\n  return {\n    newModules: Object.assign({}, modules, {\n      [fromID]: {\n        ...modules[fromID],\n        outputs: [\n          ...modules[fromID].outputs,\n          connectionID\n        ]\n      },\n      [toID]: {\n        ...modules[toID],\n        inputs: [\n          ...modules[toID].inputs,\n          connectionID\n        ]\n      }\n    }),\n    newConnections: {\n      ...connections,\n      [connectionID]: {\n        connectionID,\n        fromID,\n        toID,\n        param,\n        outputIndex,\n        inputIndex,\n        actualOutputID: containerOutputChildID,\n        actualInputID: containerInputChildID,\n      },\n    },\n  }\n}\n\nexport default addConnection","import { RemoveConnectionAction } from \"../connectionTSTypes\"\nimport { Modules, Connections } from \"../../stateTSTypes\"\nimport { filterOutFromObj } from \"../../helpers\"\n\nconst removeConnection = (modules: Modules, connections: Connections, { connectionID }: RemoveConnectionAction) => {\n  const { fromID, toID, actualOutputID: containerOutputChildID, actualInputID: containerInputChildID } = connections[connectionID]\n  return {\n    newModules: Object.assign({}, modules, {\n      [fromID]: {\n        ...modules[fromID],\n        outputs: modules[fromID].outputs.filter(id => id !== connectionID)\n      },\n      [toID]: {\n        ...modules[toID],\n        inputs: modules[toID].inputs.filter(id => id !== connectionID)\n      }\n    }, !containerOutputChildID ? {} : {\n      [containerOutputChildID]: {\n        ...modules[containerOutputChildID],\n        outputs: modules[containerOutputChildID].outputs.filter(id => id !== connectionID)\n      }\n    }, !containerInputChildID ? {} : {\n      [containerInputChildID]: {\n        ...modules[containerInputChildID],\n        inputs: modules[fromID].outputs.filter(id => id !== connectionID)\n      }\n    }),\n    newConnections: filterOutFromObj(connections, [ connectionID ])\n  }\n}\n\nexport default removeConnection","import { Modules, ContainerModule, Connections } from \"../../stateTSTypes\"\nimport { filterOutFromObj } from \"../../helpers\"\nimport { stringIn } from \"../../../helpers/genFuncs\"\nimport { RemoveModuleAction } from \"../connectionTSTypes\"\nimport { CONTAINER } from \"../../../audioModules/moduleTypes\"\nimport { getContainerIDs, getInternalConnectionIDs } from \"../../getContainerAsProject\"\n\nconst removeModule = (modules: Modules, connections: Connections, { id }: RemoveModuleAction) => {\n  const parentID = modules[id].parentID as string\n  const toTrimModIDs = modules[id].moduleType === CONTAINER ? getContainerIDs(id, modules) : [ id ]\n  const toTrimConnectionIDs = modules[id].moduleType === CONTAINER ? \n    [...modules[id].inputs, ...modules[id].outputs, ...getInternalConnectionIDs(connections, toTrimModIDs)] \n    : [...modules[id].inputs, ...modules[id].outputs]\n  const trimmedModules = filterOutFromObj(modules, toTrimModIDs) as Modules\n  return {\n    newModules: Object.assign({}, Object.fromEntries(Object.entries(trimmedModules).map(entry => {\n      return [entry[0], {\n        ...entry[1],\n        inputs: entry[1].inputs.filter(inputData => !stringIn(inputData, [...modules[id].inputs, ...modules[id].outputs])),\n        outputs: entry[1].outputs.filter(outputData => !stringIn(outputData, [...modules[id].inputs, ...modules[id].outputs]))\n      }]\n    })), {\n      [parentID]: {\n        ...modules[parentID],\n        childModules: (modules[parentID] as ContainerModule).childModules.filter(childID => childID !== id),\n        connectionInputs: (modules[parentID]).connectionInputs.filter(inputID => inputID !== id),\n        connectionOutputs: (modules[parentID]).connectionOutputs.filter(outputID => outputID !== id),\n        containerControls: (modules[parentID] as ContainerModule).containerControls.filter(({ modID }) => modID !== id),\n      }\n    }, ),\n    newConnections: filterOutFromObj(connections, toTrimConnectionIDs),\n  }\n}\n\nexport default removeModule","import { Modules, Connections, ContainerModule } from \"../../stateTSTypes\"\nimport { MergeContainerAction, ConnectionReducerReturn } from \"../connectionTSTypes\"\n\nconst mergeContainer = (modules: Modules, connections: Connections, { containerID, newModules, newConnections, row, col, parentID }: MergeContainerAction): ConnectionReducerReturn => {\n  return {\n    newModules: Object.assign({}, modules, newModules, {\n      [parentID]: {\n        ...modules[parentID],\n        childModules: [ ...(modules[parentID] as ContainerModule).childModules, containerID ]\n      },\n      [containerID]: {\n        ...newModules[containerID],\n        parentID,\n        row,\n        col,\n        isBaseContainer: false,\n      }\n    }),\n    newConnections: Object.assign({}, connections, newConnections)\n  }\n}\n\nexport default mergeContainer","import { Modules, Connections } from \"../stateTSTypes\"\nimport { ConnectionAction, ConnectionReducerReturn, RemoveConnectionAction, AddConnectionAction, RemoveModuleAction, MergeContainerAction } from \"./connectionTSTypes\"\nimport { ADD_CONNECTION, REMOVE_CONNECTION, REMOVE_MODULE, MERGE_CONTAINER } from \"./connectionActionTypes\"\nimport addConnection from \"./reducers/addConnection\"\nimport removeConnection from \"./reducers/removeConnection\"\nimport removeModule from './reducers/removeModule'\nimport mergeContainer from './reducers/mergeContainer'\n\nconst connectionReducer = (modules: Modules, connections: Connections, action: ConnectionAction): ConnectionReducerReturn => {\n  switch (action.type) {\n    case ADD_CONNECTION: return addConnection(modules, connections, action as AddConnectionAction)\n    case REMOVE_CONNECTION: return removeConnection(modules, connections, action as RemoveConnectionAction)\n    case REMOVE_MODULE: return removeModule(modules, connections, action as RemoveModuleAction)\n    case MERGE_CONTAINER: return mergeContainer(modules, connections, action as MergeContainerAction)\n    default: return { newModules: modules, newConnections: connections }\n  }\n}\n\nexport default connectionReducer","import moduleReducer from './modules/moduleReducer'\nimport bcidReducer from './baseContainerID/bcidReducer'\nimport connectionReducer from './connections/connectionReducer'\nimport { RootState } from './stateTSTypes'\nimport { ModuleAction } from './modules/moduleTSTypes'\nimport { BCIDAction } from './baseContainerID/bcidTSTypes'\nimport { ConnectionAction } from './connections/connectionTSTypes'\nimport { ADD_CONNECTION, REMOVE_CONNECTION, REMOVE_MODULE, MERGE_CONTAINER } from './connections/connectionActionTypes'\nimport { RESTORE_FROM_STATE } from './root/rootActionTypes'\nimport { RootAction } from './root/rootActionTSTypes'\n\nexport function createInitState() {\n  return {\n    modules: moduleReducer(),\n    connections: {},\n    baseContainerID: bcidReducer(),\n  }\n}\n\nconst initState = createInitState()\n\nfunction combinedModuleConnectionReducer(state: RootState, action: ModuleAction | ConnectionAction) {\n  if (action.type === ADD_CONNECTION || action.type === REMOVE_CONNECTION || action.type === REMOVE_MODULE || action.type === MERGE_CONTAINER) {\n    return connectionReducer(state.modules, state.connections, action as ConnectionAction)\n  } else {\n    return {\n      newModules: moduleReducer(state.modules, action as ModuleAction),\n      newConnections: state.connections,\n    }\n  }\n}\n\nconst rootReducer = (state = initState, action: ModuleAction | BCIDAction | ConnectionAction | RootAction): RootState => {\n  if (action.type === RESTORE_FROM_STATE) {\n    const newState = (action as RootAction).state\n    return Object.assign(newState, newState.connections ? {} : {\n      connections: {}\n    })\n  } else {\n    const { newModules, newConnections } = combinedModuleConnectionReducer(state, action as ModuleAction | ConnectionAction)\n    return {\n      modules: newModules,\n      connections: newConnections,\n      baseContainerID: bcidReducer(state.baseContainerID, action as BCIDAction),\n    }\n  }\n}\n\nexport default rootReducer\n","import React, { Dispatch, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport restoreAMFromState from '../../../audioModules/restoreAMFromState'\nimport { saveJSONToChosenFile, saveJSONToFileHandle } from '../../../helpers/fileAccess'\nimport { restoreFromState } from '../../../redux/allActions'\nimport { createInitState } from '../../../redux/rootReducer'\nimport { Connections, RootState } from '../../../redux/stateTSTypes'\nimport { colors, sizes } from '../../../theme/theme'\nimport Button from '../../Button/Button'\nimport CenterMenu from '../../CenterMenus/CenterMenu/CenterMenu'\nimport FlexRow from '../../Flex/FlexRow'\n\ndeclare global {\n  interface Window {\n    openConfirmBlankProjectMenu: () => void\n  }\n}\n\nfunction makeBlankProject(dispatch: Dispatch<any>, connections: Connections) {\n  const emptyState = createInitState()\n  restoreAMFromState(connections, emptyState)\n  dispatch(restoreFromState(emptyState))\n  window.flashNotification(colors.success, 'created blank project')\n  window.saveFileHandle = undefined\n  window.reRenderFileMenu()\n}\n\nfunction ConfirmBlankProject() {\n  const [isOpen, setOpen] = useState(false)\n  window.openConfirmBlankProjectMenu = () => {\n    setOpen(true) \n  }\n  const onClose = () => {\n    setOpen(false)\n  }\n\n  const state = useSelector((state: RootState) => state)\n  const dispatch = useDispatch()\n  return (\n    <CenterMenu isClosed={!isOpen} onClose={onClose}>\n      <div \n        style={{ \n          fontSize: sizes.text.medium,\n          textAlign: 'center',\n        }}\n      > would you like to save the current project before closing? </div>\n      <FlexRow>\n        <Button\n          onClick={() => {\n            makeBlankProject(dispatch, state.connections)\n            onClose()\n          }}\n        >no</Button>\n        <Button\n          onClick={async () => {\n            if (window.saveFileHandle) {\n              await saveJSONToFileHandle(window.saveFileHandle, state)\n            } else {\n              await saveJSONToChosenFile(state)\n            }\n            makeBlankProject(dispatch, state.connections)\n            onClose()\n          }}\n        >yes</Button>\n      </FlexRow>\n    </CenterMenu>\n  )\n}\n\nexport default ConfirmBlankProject","import React, { Fragment } from 'react'\nimport KnobRangeSetMenu from './RangeSetMenu/KnobRangeSetMenu'\nimport SpaceDBProjectSaveMenu from './SaveMenu/SpaceDBProjectSaveMenu'\nimport ConfirmDeleteMenu from './ConfirmDeleteMenu/ConfirmDeleteMenu'\nimport FileContainerSaveMenu from './SaveMenu/FileContainerSaveMenu'\nimport SpaceDBContainerSaveMenu from './SaveMenu/SpaceDBContainerSaveMenu'\nimport AnalyzerRangeSetMenu from './RangeSetMenu/AnalyzerRangeSetMenu'\nimport RenameModuleMenu from './RenameMenu/RenameModuleMenu'\nimport RenameControlMenu from './RenameMenu/RenameControlMenu'\nimport AddModuleMenu from './AddModuleMenu/AddModuleMenu'\nimport ConfirmBlankProject from '../RightDrawer/FileMenu/ConfirmBlankProject'\n\nfunction CenterMenus() {\n          \n  return (\n    <Fragment>\n      <AddModuleMenu/>\n      <RenameModuleMenu/>\n      <RenameControlMenu/>\n      <KnobRangeSetMenu/>\n      <AnalyzerRangeSetMenu/>\n      <SpaceDBProjectSaveMenu/>\n      <SpaceDBContainerSaveMenu/>\n      <ConfirmDeleteMenu/>\n      <FileContainerSaveMenu/>\n      <ConfirmBlankProject/>\n    </Fragment>\n  )\n}\n\nexport default CenterMenus","export interface NotificationData {\n  isOpen: boolean\n  color: string\n  text: string\n}\n\nexport function makeNotificationData(isOpen: boolean, color = '', text = ''): NotificationData {\n  return {\n    isOpen,\n    color,\n    text,\n  }\n}","import { createUseStyles } from 'react-jss'\nimport { sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  Notification: {\n    position: 'absolute',\n    top: '10vh',\n    left: '50vw',\n    transform: 'translate(-50%, 0%)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: '2vmin',\n    borderRadius: '4vmin',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    zIndex: 1000,\n    fontSize: sizes.text.small\n  }\n})\n\nexport default useJSS","import React, { Fragment, useState } from 'react'\nimport { makeNotificationData } from './makeData'\nimport useJSS from './style'\nimport { useSpring, animated } from 'react-spring'\n\ndeclare global {\n  interface Window {\n    flashNotification: (color: string, text: string) => void\n  }\n}\n\nconst notificationTime = 2500 //milliseconds\n\nfunction Notification() {\n  const [{ isOpen, color, text }, setNotificationData] = useState(makeNotificationData(false))\n  const [isVisible, setIsVisible] = useState(false)\n  const classes = useJSS()\n  window.flashNotification = (color, text) => { \n    setNotificationData(makeNotificationData(true, color, text))\n    setIsVisible(true)\n    window.setTimeout(() => {\n      setIsVisible(false)\n    }, notificationTime)\n    window.setTimeout(() => {\n      setNotificationData(makeNotificationData(false))\n    }, notificationTime + 700)\n  }\n  const spring = useSpring({\n    opacity: isVisible ? 1 : 0\n  })\n  return (\n    <Fragment>\n      {\n        !isOpen ? null :\n        <animated.div className={classes.Notification}\n          style={Object.assign({ backgroundColor: color }, spring)}\n        >\n          {text}\n        </animated.div>\n      }\n    </Fragment>\n  )\n}\n\nexport default Notification","import React, { useState } from 'react'\nimport useJSS from './style'\nimport { AudioModules } from '../audioModules/moduleTypes'\nimport makeAddModule from '../audioModules/makeAddModule'\nimport { makePointerLayerData } from '../components/PointerLayer/makeData'\nimport PointerLayer, { PointerEventCallback } from '../components/PointerLayer/PointerLayer'\nimport configureSpaceDB from './configureSpaceDB'\nimport setUserAgent from './setUserAgent'\nimport ContextMenus from '../components/ContextMenus/ContextMenus'\nimport ModuleViewFill from '../components/ModuleView/Fill'\nimport RightDrawer from '../components/RightDrawer/RightDrawer'\nimport AudioTags from '../components/AudioTags/AudioTags'\nimport CenterMenus from '../components/CenterMenus/CenterMenus'\nimport Notification from '../components/Notification/Notification'\n\ndeclare global {\n  interface Window { \n    fillContainerID: string\n    audioModules: AudioModules\n    openPointerLayer: (pointerId: number, onPointerMove: PointerEventCallback, onPointerUp: PointerEventCallback) => void\n  }\n\n  interface AudioNode {\n    [index: string]: AudioParam\n  }\n}\n\nwindow.fillContainerID = 'project'\n\nwindow.audioModules = {}\nmakeAddModule()\nconfigureSpaceDB()\nsetUserAgent()\n\nfunction App() {\n  const classes = useJSS()\n  const [ pointerLayerData, setPointerLayerData ] = useState(makePointerLayerData(false))\n  window.openPointerLayer = (pointerId, onPointerMove, onPointerUp) => { setPointerLayerData(makePointerLayerData(true, pointerId, onPointerMove, onPointerUp)) }\n  const resetPointerLayerData = () => { setPointerLayerData(makePointerLayerData(false)) }\n  return (\n    <div className={classes.Bounder}>\n      <div className={classes.ModuleViewBounder}>\n        <ModuleViewFill />\n      </div>\n      <RightDrawer />\n      <AudioTags />\n      {\n        !pointerLayerData.isOpen ? null :\n        <PointerLayer pointerLayerData={ pointerLayerData } resetPointerLayerData={resetPointerLayerData}/>\n      }\n      <CenterMenus />\n      <ContextMenus />\n      <Notification />\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from './rootReducer'\n\nconst store = createStore(rootReducer, composeWithDevTools())\n\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App/App'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/trash.9d2c8d42.svg\";","module.exports = __webpack_public_path__ + \"static/media/settings.04e848f8.svg\";"],"sourceRoot":""}