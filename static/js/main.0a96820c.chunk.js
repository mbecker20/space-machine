(this["webpackJsonpspace-machine"]=this["webpackJsonpspace-machine"]||[]).push([[0],{130:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(51),c=t.n(r),i=(t(89),t(10)),u=t(16),l=-1,s=100,d=50,m=0,f=Object(u.a)({Bounder:{backgroundImage:"url(https://i.imgur.com/mSjoh6M.jpg)",backgroundPosition:"center",width:"100vw",height:"100vh",display:"flex",fontSize:"calc(20px + 2vmin)",color:"white",position:"absolute",top:"0px",left:"0px",userSelect:"none",zIndex:l,overflow:"hidden"},ModuleViewBounder:{minWidth:"60vw",height:"100vh",display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",zIndex:m,overflow:"scroll","&::-webkit-scrollbar":{width:"0px"}}}),p=t(8),v=t(6),b="CONTAINER",w="VALUE",g=function(e,n,t,a,o,r,c,i,u){return{type:"ADD_MODULE",moduleType:t,id:e,name:n,controlData:a,row:r,col:c,parentID:o,connectionInputs:i,connectionOutputs:u}},O=function(e,n,t){return{type:"MOVE_MODULE",id:e,newRow:n,newCol:t}},h=function(e,n,t,a){return{type:"MARK_CONTAINER_CONTROL",modID:e,controlID:n,actualModID:t,name:a}},C=function(e,n,t){return{type:"UNMARK_CONTAINER_CONTROL",modID:e,controlID:n,actualModID:t}},D=function(e,n,t){return{type:"UPDATE_CONTROL_DATA",modID:e,controlID:n,newValue:t}},j=function(e,n,t){return{type:"UPDATE_CONTROL_RANGE",modID:e,controlID:n,newRange:t}},I=function(e,n,t,a,o,r,c){return{type:"ADD_CONNECTION",fromID:e,toID:n,param:t,outputIndex:a,inputIndex:o,containerOutputChildID:r,containerInputChildID:c}},E=function(e){return{type:"REMOVE_CONNECTION",connectionID:e}},y=function(e,n,t,a,o,r){return{type:"MERGE_CONTAINER",containerID:e,newModules:n,newConnections:t,parentID:a,row:o,col:r}};function N(e){return{type:"RESTORE_FROM_STATE",state:e}}var x=new(window.AudioContext||window.webkitAudioContext);var S=function(e){var n=x.createConstantSource();n.offset.value=e?e.value.value:0;var t={value:function(e){n.offset.value=Number(e)},kill:function(){n.stop()}};return n.start(),{audioNode:n,connectingParamIDs:["offset"],controlSetFuncs:t}},M=["lowpass","lowshelf","highpass","highshelf","allpass","bandpass","notch","peaking"],k=["frequency","detune","Q","gain"];var T=function(e){var n=x.createBiquadFilter();e&&(n.type=e["set type"].value,n.frequency.value=e.frequency.value,n.detune.value=e.detune.value,n.Q.value=e.Q.value,n.gain.value=e.gain.value);var t={"set type":function(e){n.type=e},frequency:function(e){n.frequency.value=Number(e)},detune:function(e){n.detune.value=Number(e)},Q:function(e){n.Q.value=Number(e)},gain:function(e){n.gain.value=Number(e)}};return{audioNode:n,typeTypes:M,connectingParamIDs:k,controlSetFuncs:t}};var R=function(e){x.resume();var n=x.createGain();n.connect(x.destination),n.gain.value=e?e["master gain"].value:1;var t={"master gain":function(e){n.gain.value=Number(e)},resume:function(e){x.resume()},suspend:function(e){x.suspend()}};return{audioNode:n,connectingParamIDs:[],controlSetFuncs:t}};var A=function(e){var n=x.createStereoPanner();e&&(n.pan.value=e.pan.value);var t={pan:function(e){n.pan.value=Number(e)}};return{audioNode:n,connectingParamIDs:["pan"],controlSetFuncs:t}};var F=function(e){var n=x.createDelay(60);e&&(n.delayTime.value=e["delay time"].value);var t={"delay time":function(e){n.delayTime.value=Number(e)}};return{audioNode:n,connectingParamIDs:["delayTime"],controlSetFuncs:t}};var B=function(e){var n=x.createDynamicsCompressor();e&&(n.threshold.value=e.threshold.value,n.knee.value=e.knee.value,n.ratio.value=e.ratio.value,n.attack.value=e.attack.value,n.release.value=e.release.value);var t={threshold:function(e){n.threshold.value=Number(e)},knee:function(e){n.knee.value=Number(e)},ratio:function(e){n.ratio.value=Number(e)},attack:function(e){n.attack.value=Number(e)},release:function(e){n.release.value=Number(e)}};return{audioNode:n,connectingParamIDs:["threshold","knee","ratio","attack","release"],controlSetFuncs:t}};var P=function(e){var n=x.createGain();n.gain.value=e?e.gain.value:0;var t={gain:function(e){n.gain.value=Number(e)}};return{audioNode:n,connectingParamIDs:["gain"],controlSetFuncs:t}};var L=["sine","square","triangle","sawtooth"];var z=function(e){var n=x.createOscillator();e&&(n.type=e["set type"].value,n.frequency.value=e.frequency.value,n.detune.value=e.detune.value);var t={"set type":function(e){n.type=e},frequency:function(e){n.frequency.value=Number(e)},detune:function(e){n.detune.value=Number(e)},kill:function(){n.stop()}};return n.start(),{audioNode:n,typeTypes:L,connectingParamIDs:["frequency","detune"],controlSetFuncs:t}};var _=function(e){navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1,latency:0}}).then((function(n){var t=x.createMediaStreamSource(n),a=x.createChannelSplitter(2);t.connect(a);var o={audioNode:a,connectingParamIDs:[],controlSetFuncs:{mute:function(e){n.getAudioTracks()[0].enabled="true"===e}}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,o))}))};var G=function(e){return{connectingParamIDs:[],controlSetFuncs:{}}};var U=function(e){if(e.current){var n={"choose file":function(n){e.current.src=n},pause:function(){e.current.pause()},play:function(){e.current.play()}};return{audioNode:x.createMediaElementSource(e.current),ref:e,connectingParamIDs:[],controlSetFuncs:n}}return null};function W(e){for(var n,t="number"===typeof e?e:50,a=new Float32Array(44100),o=Math.PI/180,r=0;r<44100;++r)n=2*r/44100-1,a[r]=(3+t)*n*20*o/(Math.PI+t*Math.abs(n));return a}var H=function(e){var n=x.createWaveShaper();n.curve=W(e?e.amount.value:0);var t={amount:function(e){n.curve=W(Number(e))},oversample:function(e){var t=Math.floor(Number(e));n.oversample=t<2?"none":t<4?"2x":"4x"}};return{audioNode:n,connectingParamIDs:[],controlSetFuncs:t}};var K=function(e){var n=x.createAnalyser();n.fftSize=1024;var t=n.frequencyBinCount;return{audioNode:n,controlSetFuncs:{"time graph":function(){}},connectingParamIDs:[],timeArray:new Float32Array(t),bufferLength:t}};var V=function(e){var n=x.createConstantSource();n.offset.value=0;var t=.1,a=.2,o=1,r=.1;e&&(t=e.attack.value,a=e.decay.value,o=e.sustain.value,r=e.release.value);var c={trigger:function(e){var c=x.currentTime;"on"===e?(n.offset.linearRampToValueAtTime(1,c+t),n.offset.setTargetAtTime(o,c+t,a)):(n.offset.cancelAndHoldAtTime(c),n.offset.setTargetAtTime(0,c,r))},attack:function(e){t=Number(e)},decay:function(e){a=Number(e)},sustain:function(e){o=Number(e)},release:function(e){r=Number(e)}};return n.start(),{audioNode:n,connectingParamIDs:[],controlSetFuncs:c}};var q=10*x.sampleRate;var Y=function(e){for(var n=x.createBuffer(1,q,x.sampleRate),t=n.getChannelData(0),a=0;a<q;a++)t[a]=2*Math.random()-1;var o=x.createBufferSource();return o.buffer=n,o.loop=!0,o.start(),{audioNode:o,connectingParamIDs:[],controlSetFuncs:{}}},Q=t(17),J=t(133);function X(e,n,t){var a=!1;return e.map((function(o,r){return a?0:t*r<n?e[t*r]:(a=!0,0)}))}function Z(e,n){return e*x.sampleRate/(2*n)}var $=function(e){var n=x.createAnalyser();n.fftSize=Math.pow(2,15),n.smoothingTimeConstant=0;var t=n.frequencyBinCount,a=new Float32Array(t),o={tuner:function(){n.getFloatFrequencyData(a);for(var e=0,o=0,r=function(e,n,t){for(var a=Math.min.apply(Math,Object(Q.a)(e)),o=Object(Q.a)(e.map((function(e){return e-a}))),r=Object(Q.a)(o),c=2;c<=t;c++)o=Object(J.a)(o,X(r,n,c));return o}(a,t,5),c=0;c<t;c++)r[c]>o&&(o=r[c],e=c);return[Z(e,t),a[e]]}};return{audioNode:n,controlSetFuncs:o,connectingParamIDs:[],bufferLength:t,freqArray:a}};var ee=function(){window.addModule=function(e,n,t,a,o,r,c){switch(a){case"OSCILLATOR":var i=z(),u={"set type":{controlType:"TYPE",paramID:"type",value:(re=i.audioNode).type},frequency:{controlType:w,paramID:"frequency",value:re.frequency.value,range:[0,440]},detune:{controlType:w,paramID:"detune",value:re.detune.value,range:[-50,50]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,i)),o(g(e,n,a,u,t,r,c,[],["0"]));break;case"GAIN":var l=P(),s={gain:{controlType:w,paramID:"gain",value:0,range:[0,1]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,l)),o(g(e,n,a,s,t,r,c,["0"],["0"]));break;case"OUTPUT":var d=R(),m={"master gain":{controlType:w,paramID:"gain",value:1,range:[0,1],maxRange:[0,20]},resume:{controlType:"BUTTON",paramID:"n/a"},suspend:{controlType:"BUTTON",paramID:"n/a"}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,d)),o(g(e,n,a,m,t,r,c,["0"],[]));break;case"AUTOFILTER":var f=T(),O={"set type":{controlType:"TYPE",paramID:"type",value:(oe=f.audioNode).type},frequency:{controlType:w,paramID:"frequency",value:oe.frequency.value,range:[0,x.sampleRate/2],maxRange:[0,x.sampleRate/2]},detune:{controlType:w,paramID:"detune",value:oe.detune.value,range:[-50,50],maxRange:[-153600,153600]},Q:{controlType:w,paramID:"Q",value:oe.Q.value,range:[1e-4,1e3],maxRange:[1e-4,1e3]},gain:{controlType:w,paramID:"gain",value:oe.gain.value,range:[-40,40],maxRange:[-40,40]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,f)),o(g(e,n,a,O,t,r,c,["0"],["0"]));break;case"KOMPRESSOR":var h=B(),C=(ae=h.audioNode,{threshold:{controlType:w,paramID:"threshold",value:ae.threshold.value,range:[-100,0],maxRange:[-100,0]},knee:{controlType:w,paramID:"knee",value:ae.knee.value,range:[0,40],maxRange:[0,40]},ratio:{controlType:w,paramID:"ratio",value:ae.ratio.value,range:[1,20],maxRange:[1,20]},attack:{controlType:w,paramID:"attack",value:ae.attack.value,range:[0,1],maxRange:[0,1]},release:{controlType:w,paramID:"release",value:ae.release.value,range:[0,1],maxRange:[0,1]}});window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,h)),o(g(e,n,a,C,t,r,c,["0"],["0"]));break;case"STEREO_PANNER":var D=A(),j={pan:{controlType:w,paramID:"pan",value:0,range:[-1,1],maxRange:[-1,1]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,D)),o(g(e,n,a,j,t,r,c,["0"],["0"]));break;case"SIGNAL_DELAY":var I=F(),E={"delay time":{controlType:w,paramID:"delayTime",value:0,range:[0,2],maxRange:[0,60]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,I)),o(g(e,n,a,E,t,r,c,["0"],["0"]));break;case"CONSTANT":var y=S(),N={value:{controlType:w,paramID:"offset",value:0,range:[-100,100]},kill:{controlType:"BUTTON",paramID:"n/a"}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,y)),o(g(e,n,a,N,t,r,c,[],["0"]));break;case"MEDIA_ELEMENT":var M={"choose file":{controlType:"FILE"},play:{controlType:"BUTTON"},pause:{controlType:"BUTTON"}};window.addAudioTag(e),window.reRenderAudioTags(),o(g(e,n,a,M,t,r,c,[],["0"]));break;case"LINE_IN":_(e),o(g(e,n,a,{mute:{controlType:"SWITCH",paramID:"n/a",value:!1}},t,r,c,[],["0 (L)","1 (R)"]));break;case b:var k=G(e),L={};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,k)),o(g(e,n,a,L,t,r,c,[],[]));break;case"DISTORTION":var U=H(),W={amount:{controlType:w,value:0,range:[0,1e3]},oversample:{controlType:w,value:0,range:[0,4],maxRange:[0,4]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,U)),o(g(e,n,a,W,t,r,c,["0"],["0"]));break;case"ANALYZER":var q=K(),Q={"time graph":{controlType:"GRAPH",range:[-1.5,1.5]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,q)),o(g(e,n,a,Q,t,r,c,["0"],["0"]));break;case"ENVELOPED_TRIGGER":var J=V(),X={trigger:{controlType:"PAD"},attack:{controlType:w,value:.1,range:[.001,1],maxRange:[.001,100]},decay:{controlType:w,value:.2,range:[.001,1],maxRange:[.001,100]},sustain:{controlType:w,value:1,range:[0,1],maxRange:[0,100]},release:{controlType:w,value:.1,range:[.001,1],maxRange:[.001,100]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,J)),o(g(e,n,a,X,t,r,c,[],["0"]));break;case"WHITE_NOISE":var Z=Y(),ee={};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,Z)),o(g(e,n,a,ee,t,r,c,[],["0"]));break;case"TUNER":var ne=$(),te={tuner:{controlType:"TUNER_CONTROL"}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,ne)),o(g(e,n,a,te,t,r,c,["0"],["0"]))}var ae,oe,re}};function ne(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return{isOpen:e,pointerId:n,onPointerMove:t,onPointerUp:a}}var te=Object(u.a)({PointerLayer:{width:"100vw",height:"100vh",position:"absolute",top:0,left:0,zIndex:300}});var ae=function(e){var n=e.pointerLayerData,t=e.resetPointerLayerData,r=te(),c=n.pointerId,i=n.onPointerMove,u=n.onPointerUp,l=Object(a.useRef)(null);return Object(a.useEffect)((function(){})),o.a.createElement("div",{className:r.PointerLayer,ref:l,onPointerMove:function(e){e.pointerId===c&&i(e)},onPointerUp:function(e){e.pointerId===c&&(u(e),t())}})},oe=t(76),re=t.n(oe),ce=t(77),ie=t.n(ce);var ue=function(){var e=re()(),n=ie()("http://192.168.1.64:30300");e.configure(n.fetch(window.fetch)),window.projectSaveService=e.service("project-save-service"),window.containerSaveService=e.service("container-save-service")};var le=function(){navigator.userAgent.toLowerCase().indexOf(" electron/")>-1?window.usingElectron=!0:window.usingElectron=!1},se=t(11);function de(e,n){return n.current?{top:window.innerHeight-e.pageY>=n.current.offsetHeight?e.pageY:window.innerHeight-n.current.offsetHeight,left:window.innerWidth-e.pageX>=n.current.offsetWidth?e.pageX:window.innerWidth-n.current.offsetWidth}:{top:-1e3,left:-1e3}}var me="#282c34",fe="#0000009e",pe="#00347d",ve="#001b40",be="#000000c4",we="#000000b3",ge="#282c34",Oe="#c0c0c038",he="#37538a",Ce="white",De="#007ab3",je="#ffffff61",Ie="#ffffff60",Ee="black",ye="#cc00006e",Ne="#cc0000",xe="red",Se="#0000009e",Me="white",ke="#cc00006e",Te="white",Re="#da1212",Ae="blue",Fe="#028174",Be="#7D1551",Pe="#4C4141",Le="#CA5F3C",ze="#00347D",_e="#00802da6",Ge="#cc00006e",Ue="black",We="#08101deb",He="#282c349c",Ke="transparent",Ve="#1d1d2b",qe="white",Ye="#00802d",Qe={width:"400",toggleWidth:"2vmin",item:"9vmin"},Je={iconGrid:"12vmin",gutterGrid:"6vmin",icon:"10vmin",bigIconWidth:"25vmin",bigIconHeight:"35vmin"},Xe={large:"calc(25px + 2.8vmin)",medium:"calc(20px + 2.4vmin)",small:"calc(12px + 1.2vmin)",xsmall:"calc(8px + 1vmin)",xxsmall:"calc(7px + .8vmin)"},Ze={size:"2.5vmin",borderRadius:"2.5vmin",smallSize:"1.5vmin",smallBorderRadius:"1.5vmin"},$e={size:7,markerWidth:.5,markerHeight:1.3,rotRange:[-150,150],sensitivity:1,borderWidth:8},en={diameter:3},nn={leftBarWidth:"20vmin",iconRouterWidth:"60vmin",height:"60vmin"},tn=Object(u.a)({Bounder:{width:"100vw",height:"100vh",backgroundColor:"transparent",position:"absolute",overflow:"hidden",top:0,left:0,zIndex:d},ContextMenu:{maxHeight:"12em",backgroundColor:We,padding:".2em",borderRadius:".2em",display:"flex",flexDirection:"column",position:"absolute",overflowY:"scroll","&::-webkit-scrollbar":{width:"0em"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},MenuItem:{maxWidth:"8em",borderStyle:"solid",borderColor:"transparent","&:hover":{borderColor:Ue}}});var an=function(e){var n=e.event,t=e.children,r=e.onClose,c=e.bounderStyle,u=e.style,l=tn(),s=Object(a.useRef)(null),d=Object(a.useState)(de(n,s)),m=Object(i.a)(d,2),f=m[0],p=m[1];return Object(a.useEffect)((function(){p(de(n,s))}),[n]),o.a.createElement("div",{className:l.Bounder,onPointerDown:r,style:c},o.a.createElement("div",{className:l.ContextMenu,style:Object.assign({top:f.top,left:f.left},u),ref:s,onPointerDown:function(e){e.stopPropagation()}},t))};function on(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;0===t.length?e.audioNode.connect(n.audioNode,a,o):n.audioNode[t]?e.audioNode.connect(n.audioNode[t],a):alert("param does not exist")}function rn(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;0===t.length?"number"===typeof a?e.audioNode.disconnect(n.audioNode,a):e.audioNode.disconnect(n.audioNode):n.audioNode[t]?"number"===typeof a?e.audioNode.disconnect(n.audioNode[t],a):e.audioNode.disconnect(n.audioNode[t]):alert("param does not exist")}var cn=Object(u.a)({Button:{backgroundColor:Ee,borderColor:"transparent",borderRadius:"1vmin",borderStyle:"solid","&:active":{borderColor:"transparent"},"&:hover":{cursor:function(e){return e.notClickable?"":"pointer"},borderColor:function(e){return e.notClickable?"transparent":"white"}},display:"flex",alignItems:"center",justifyContent:"center",padding:".4em",margin:".3em",textAlign:"center",fontSize:function(e){return e.fontSize},boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}});var un=function(e){var n=e.className,t=e.onClick,a=e.children,r=e.style,c=e.onPointerDown,i=e.ref,u=e.onKeyDown,l=e.onContextMenu,s=e.fontSize,d=e.notClickable,m=cn({fontSize:s,notClickable:d});return o.a.createElement("div",{className:n?"".concat(m.Button," ").concat(n):m.Button,onClick:t,onPointerDown:c,style:r,ref:i,onKeyDown:u,onContextMenu:l},a)},ln=t(78),sn=t.n(ln);var dn=function(e){var n=e.className,t=e.style,a=e.alt;return o.a.createElement("img",{className:n,style:t,src:sn.a,alt:a})},mn=Object(u.a)({DeleteButtonBounder:{backgroundColor:ye,fontSize:Xe.small,padding:".2em .4em","&:hover":{borderColor:ye}},DeleteButtonSVG:{width:"1.5em",height:"1.5em"}});var fn=function(e){var n=e.onClick,t=mn();return o.a.createElement(un,{className:t.DeleteButtonBounder,onPointerDown:function(e){e.stopPropagation()},onClick:n},o.a.createElement(dn,{className:t.DeleteButtonSVG,alt:"delete"}))};var pn=function(e){var n=e.modID,t=e.onClose,a=window.audioModules,r=Object(se.b)(),c=Object(se.c)((function(e){return e.connections})),i=Object(se.c)((function(e){return e.modules[n]}));return o.a.createElement(fn,{onClick:function(){i.inputs.forEach((function(e){var n=c[e],t=n.fromID,o=n.toID,r=n.param,i=n.outputIndex,u=n.actualOutputID,l=n.actualInputID;rn(a[u||t],a[l||o],r,i)})),i.outputs.forEach((function(e){var n=c[e],t=n.fromID,o=n.toID,r=n.param,i=n.outputIndex,u=n.actualOutputID,l=n.actualInputID;rn(a[u||t],a[l||o],r,i)})),r({type:"REMOVE_MODULE",id:i.id}),t()}})},vn=Object(u.a)({Connection:{fontSize:Xe.xsmall,backgroundColor:Oe,margin:".5vmin 3vmin",borderRadius:"1vmin",borderColor:"transparent",borderStyle:"solid",minWidth:"30%",padding:"1vmin",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{cursor:"pointer",borderColor:ye},boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},Name:{fontSize:Xe.medium,margin:"1vmin","&:hover":{cursor:"pointer"}},MenuHeader:{fontSize:Xe.small,borderStyle:"none none solid none",margin:"1vmin",whiteSpace:"noWrap"},OpenButton:{fontSize:Xe.small},SaveButton:{fontSize:Xe.small}});var bn=function(e){var n=e.modID,t=e.modules,r=vn(),c=Object(se.b)(),i=window.audioModules,u=Object(se.c)((function(e){return e.connections})),l=Object(se.c)((function(e){return e.modules[n]}));return o.a.createElement(a.Fragment,null,0===l.inputs.length?null:o.a.createElement("div",{className:r.MenuHeader},"inputs"),l.inputs.map((function(e,n){var a=u[e],s=a.fromID,d=a.param,m=a.outputIndex,f=a.actualOutputID,p=a.actualInputID,v=t[s].name;return o.a.createElement("div",{className:r.Connection,key:s+d+"inp"+n,onClick:function(n){n.stopPropagation(),c(E(e)),rn(i[f||s],i[p||l.id],d,m)},onPointerDown:function(e){e.stopPropagation()}},"".concat(v).concat(f?" - ".concat(t[f].name):"").concat(0!==d.length?" - ".concat(d):""))})),0===l.outputs.length?null:o.a.createElement("div",{className:r.MenuHeader},"outputs"),l.outputs.map((function(e,n){var a=u[e],s=a.toID,d=a.param,m=a.outputIndex,f=a.actualOutputID,p=a.actualInputID,v=t[s].name;return o.a.createElement("div",{className:r.Connection,key:s+d+"out"+n,onClick:function(n){n.stopPropagation(),c(E(e)),rn(i[f||l.id],i[p||s],d,m)},onPointerDown:function(e){e.stopPropagation()}},"".concat(v).concat(p?" - ".concat(t[p].name):"").concat(0!==d.length?" - ".concat(d):""))})))};var wn=function(e){var n=e.modules,t=e.modID,r=e.onClose,c=vn();return o.a.createElement(a.Fragment,null,n[t].moduleType!==b?null:o.a.createElement(un,{className:c.OpenButton,onClick:function(){window.fillContainerID=t,window.reRenderFillContainer(),r()},onPointerDown:function(e){e.stopPropagation()}},"open"))};var gn=function(e){var n=e.modules,t=e.modID,r=e.onClose,c=vn();return o.a.createElement(a.Fragment,null,window.usingElectron&&n[t].moduleType===b?o.a.createElement(un,{className:c.SaveButton,onClick:function(){window.containerSaveService.find().then((function(e){window.openSpaceDBContainerSaveMenu(e,t,r)})),r()}},"save to spaceDB"):null)},On=Object(u.a)({FlexRow:{display:"flex",flexDirection:"row",justifyContent:function(e){return e.justifyContent},alignItems:function(e){return e.alignItems},flexWrap:function(e){return e.flexWrap}},FlexCol:{display:"flex",flexDirection:"column",justifyContent:function(e){return e.justifyContent},alignItems:function(e){return e.alignItems}}});var hn=function(e){var n=e.className,t=e.children,a=e.style,r=e.ref,c=e.justifyContent,i=e.alignItems,u=e.flexWrap,l=On({justifyContent:c,alignItems:i,flexWrap:u});return o.a.createElement("div",{className:n?"".concat(l.FlexRow," ").concat(n):l.FlexRow,style:a,ref:r},t)},Cn=Object(u.a)({Bounder:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderRadius:"15px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",userSelect:"none",margin:"10px","&:hover":{cursor:"pointer"},padding:"1vmin"},SwitchSVG:{marginLeft:"1.5vmin",flexShrink:0},Text:{fontSize:function(e){return e.fontSize}}}),Dn=t(28),jn=2*en.diameter,In=en.diameter+1,En=1.5*en.diameter,yn=en.diameter-1,Nn=en.diameter/4,xn=(en.diameter+1)/2;var Sn=function(e){var n=e.text,t=e.onSwitch,r=e.initState,c=e.style,u=e.fontSize,l=Object(a.useState)(r),s=Object(i.a)(l,2),d=s[0],m=s[1],f=Cn({fontSize:u}),p=Object(Dn.b)({cx:"".concat(d?jn-en.diameter/2:en.diameter/2,"vmin"),fill:d?"green":"red",config:{tension:250}});return o.a.createElement("div",{className:f.Bounder,style:c},o.a.createElement("div",{className:f.Text,onClick:function(){t(!d),m(!d)}},n),o.a.createElement("svg",{className:f.SwitchSVG,width:"".concat(jn,"vmin"),height:"".concat(In,"vmin"),onClick:function(){t(!d),m(!d)}},o.a.createElement("rect",{width:"".concat(En,"vmin"),height:"".concat(yn,"vmin"),x:"".concat(Nn,"vmin"),y:"".concat(1,"vmin"),rx:"10",ry:"10",fill:me}),o.a.createElement(Dn.a.circle,{cx:p.cx,cy:"".concat(xn,"vmin"),r:"".concat(en.diameter/2,"vmin"),fill:p.fill})))};var Mn=function(e){var n=e.className,t=e.children,a=e.style,r=e.ref,c=e.onDrop,i=e.onDragOver,u=e.justifyContent,l=e.alignItems,s=On({justifyContent:u,alignItems:l});return o.a.createElement("div",{className:n?"".concat(s.FlexCol," ").concat(n):s.FlexCol,style:a,ref:r,onDrop:c,onDragOver:i},t)};var kn=function(e){var n=e.selectedModule,t=Object(se.b)(),r=Object(se.c)((function(e){return e.modules})),c=vn(),i=n.moduleType===b?0!==n.containerControls.length:0!==Object.keys(n.controlData).length;return o.a.createElement(a.Fragment,null,i?o.a.createElement(Mn,null,o.a.createElement("div",{className:c.MenuHeader}," mark as container control "),o.a.createElement(hn,{justifyContent:"center",style:{flexWrap:"wrap",maxWidth:"40vmin"}},n.moduleType===b?n.containerControls.map((function(e,a){var c,i=e.modID,u=e.controlID,l=e.actualModID,s=e.name,d=e.markedToContainer,m=r[i].name,f=!!d;return f&&(c=r[n.parentID].containerControls.filter((function(e){return e.controlID===u&&e.actualModID===l}))[0]),o.a.createElement(hn,null,o.a.createElement(Sn,{initState:f,text:s||"".concat(m," - ").concat(u),style:{fontSize:Xe.small,padding:".2em"},key:i+a,onSwitch:function(e){t(e?h(n.id,u,l):C(n.id,u,l))}}),f?o.a.createElement(un,{fontSize:Xe.xsmall,onClick:function(){window.openControlRenameMenu(u,n.parentID,c)}},"edit"):null)})):null,n.moduleType===b?null:Object.keys(n.controlData).map((function(e,a){var c,i=!!n.controlData[e].markedToContainer;return i&&(c=r[n.parentID].containerControls.filter((function(t){return t.controlID===e&&t.actualModID===n.id}))[0]),o.a.createElement(hn,{key:a},o.a.createElement(Sn,{initState:i,text:e,style:{fontSize:Xe.xsmall,padding:"1vmin"},key:e+a,onSwitch:function(a){t(a?h(n.id,e,n.id):C(n.id,e,n.id))}}),i?o.a.createElement(un,{style:{fontSize:Xe.small},onClick:function(){window.openControlRenameMenu(e,n.parentID,c)}},"edit"):null)})))):null)},Tn={fontSize:Xe.small,padding:".1em"};var Rn=function(e){var n=e.modID,t=Object(se.b)(),r=Object(se.c)((function(e){return e.baseContainerID})),c=Object(se.c)((function(e){return e.modules[n]})),i=0!==c.connectionInputs.length,u=0!==c.connectionOutputs.length,l=vn();return window.fillContainerID!==r?o.a.createElement(a.Fragment,null,o.a.createElement(kn,{selectedModule:c}),i||u?o.a.createElement("div",{className:l.MenuHeader},"mark as container io"):null,o.a.createElement(hn,{justifyContent:"center"},i?o.a.createElement(Sn,{style:Tn,fontSize:Xe.xsmall,key:c.id+"inputSwitch",text:"input",initState:c.isContainerInput,onSwitch:function(e){t(e?{type:"MARK_CONTAINER_INPUT",id:c.id}:function(e){return{type:"UNMARK_CONTAINER_INPUT",id:e}}(c.id))}}):null,u?o.a.createElement(Sn,{style:Tn,fontSize:Xe.xsmall,key:c.id+"outputSwitch",text:"output",initState:c.isContainerOutput,onSwitch:function(e){t(e?{type:"MARK_CONTAINER_OUTPUT",id:c.id}:function(e){return{type:"UNMARK_CONTAINER_OUTPUT",id:e}}(c.id))}}):null)):null};var An=function(e){var n=e.children,t=e.showIf;return o.a.createElement(a.Fragment,null,t?n:null)};var Fn=function(e){var n=e.modID,t=e.modules,a=e.onClose,r=vn();return o.a.createElement(An,{showIf:t[n].moduleType===b},o.a.createElement(un,{className:r.SaveButton,onClick:function(){window.openFileContainerSaveMenu(n),a()}},"save to file"))};function Bn(e,n,t){return{isOpen:e,event:n,modID:t}}var Pn=function(){var e,n=Object(se.c)((function(e){return e.modules})),t=Object(a.useState)(Bn(!1)),r=Object(i.a)(t,2),c=r[0],u=c.isOpen,l=c.event,s=c.modID,d=r[1];window.openModuleContextMenu=function(e,n){return d(Bn(!0,e,n))};var m=function(){d(Bn(!1))},f=vn();return o.a.createElement(a.Fragment,null,u?o.a.createElement(an,{event:l,onClose:m},o.a.createElement("div",{className:f.Name,title:"rename module",onClick:function(){window.openModuleRenameMenu(s)}},null===(e=n[s])||void 0===e?void 0:e.name),o.a.createElement(wn,{modules:n,modID:s,onClose:m}),o.a.createElement(bn,{modID:s,modules:n}),o.a.createElement(gn,{modules:n,modID:s,onClose:m}),o.a.createElement(Fn,{modules:n,modID:s,onClose:m}),o.a.createElement(Rn,{modID:s}),o.a.createElement(pn,{modID:s,onClose:m})):null)};var Ln=function(e){var n=e.saveName,t=e.onClose;return o.a.createElement(fn,{onClick:function(){window.containerSaveService.remove(n).then((function(e){console.log(e),window.refreshSpaceDBModules(),t()}))}})};function zn(e,n,t){return{isOpen:e,event:n,saveName:t}}var _n=function(){var e=Object(a.useState)(zn(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.event,u=t.saveName,l=n[1];return window.openSDBModuleContextMenu=function(e,n){l(zn(!0,e,n))},o.a.createElement(a.Fragment,null,r?o.a.createElement(an,{event:c,onClose:function(){return l(zn(!1))},bounderStyle:{zIndex:s+1}},o.a.createElement(Ln,{saveName:u,onClose:function(){return l(zn(!1))}})):null)};var Gn=function(e){var n=e.saveName,t=e.setSaveList,a=e.onClose;return o.a.createElement(fn,{onClick:function(){window.openConfirmDeleteMenu(n,(function(){window.setTimeout((function(){window.projectSaveService.find().then((function(e){t(e)}))}),1e3)})),a()}})};function Un(e,n,t,a){return{isOpen:e,event:n,saveName:t,setSaveList:a}}var Wn=function(){var e=Object(a.useState)(Un(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.event,u=t.saveName,l=t.setSaveList,s=n[1];window.openSDBProjectContextMenu=function(e,n,t){s(Un(!0,e,n,t))};var d=function(){s(Un(!1))};return o.a.createElement(a.Fragment,null,r?o.a.createElement(an,{event:c,onClose:d},o.a.createElement(Gn,{saveName:u,setSaveList:l,onClose:d})):null)};var Hn=function(){return o.a.createElement(a.Fragment,null,o.a.createElement(Pn,null),o.a.createElement(Wn,null),o.a.createElement(_n,null))},Kn=Object(u.a)({FillBounder:{backgroundColor:Oe,display:"flex",flexDirection:"column",margin:"5vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderRadius:"2vmin"},FillHeaderBounder:{display:"flex",justifyContent:"space-between"},FillHeader:{borderColor:"white",borderStyle:"none none none none",padding:"1vmin",marginLeft:"2vmin","&:hover":{cursor:"pointer"}},Fill:{display:"grid",minWidth:Je.iconGrid,minHeight:Je.iconGrid,padding:"4vmin",zIndex:1,rowGap:Je.gutterGrid,columnGap:Je.gutterGrid},ArcherContainer:{width:"100%",height:"100%",zIndex:0,display:"grid"},Icon:{backgroundColor:he,borderRadius:"1.5vmin",borderStyle:"none",borderColor:"white",whiteSpace:"wrap",fontSize:Xe.medium,padding:"1vmin",display:"flex",flexFlow:"column nowrap",alignItems:"flex-end",justifyContent:"flex-start",overflow:"hidden",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)","&:hover":{cursor:"pointer",borderStyle:"solid"},zIndex:2},IconControlContainer:{width:Je.bigIconWidth,maxHeight:Je.bigIconHeight,justifySelf:"flex-end",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",overflowY:"scroll",overflowX:"hidden","&::-webkit-scrollbar":{width:"0px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},ArcherElement:{zIndex:1,display:"grid",backgroundColor:"transparent",gridTemplateRows:"10px auto 10px",gridTemplateColumns:"10px auto 10px",padding:"1vmin"},IconName:{fontSize:Xe.small,"&:hover":{cursor:"pointer"}},IconConnector:{backgroundColor:xe,width:Ze.size,height:Ze.size,borderRadius:Ze.borderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"solid",borderColor:"transparent","&:hover":{cursor:"pointer",borderColor:"white"},justifySelf:"flex-start",alignSelf:"flex-end",flexShrink:0}}),Vn=t(45),qn=Object(u.a)({MenuHeader:{fontSize:Xe.medium,borderStyle:"none none solid none",margin:"1vmin",width:"90%"},ControlBounder:{display:"flex",flexFlow:"row wrap",alignItems:"center",fontSize:Xe.small,justifyContent:"center",margin:"0vmin 1vmin"},ControlMenu:{display:"flex",flexFlow:"row wrap",width:"100%",alignItems:"center",justifyContent:"center"}}),Yn=Object(u.a)({ControlTypeSelect:{minWidth:"9vmin",maxWidth:"5em",margin:"1vmin",fontSize:Xe.small,backgroundColor:Se,color:Me,textAlign:"center"},ControlInput:{minWidth:"9vmin",maxWidth:"5em",margin:"1vmin",fontSize:Xe.small},ControlMenu:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},Pad:{width:"20vmin",height:"15vmin",borderRadius:"2vmin",backgroundColor:"black"},SrcName:{fontSize:Xe.xsmall,textAlign:"center",whiteSpace:"normal",justifyContent:"center",width:"100%",overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"}});var Qn=function(e){var n=e.actualModID,t=e.controlID,a=e.setFunc,r=e.reRenderIcon,c=e.modName,i=e.label,u=Yn();return o.a.createElement("div",{className:u.ControlMenu},o.a.createElement("label",{style:{minWidth:"50%"},htmlFor:n+t},o.a.createElement(un,{fontSize:Xe.small},i||(c?"".concat(c," - ").concat(t):t))),o.a.createElement("input",{style:{width:0,height:0,opacity:0},type:"file",id:n+t,onChange:function(e){var t=e.target.files[0];a(URL.createObjectURL(t)),window.audioTags[n].srcName=t.name,window.reRenderAudioTags(),r()}}),o.a.createElement("div",{className:u.SrcName},window.audioTags[n].srcName))};var Jn=function(e){var n=e.setFunc,t=e.controlID,a=e.actualModID,r=e.modName,c=e.label,i=Yn(),u=window.audioModules[a],l=u.audioNode,s=Object(se.b)(),d=Object(se.c)((function(e){return e.modules[a].controlData[t].value}));return o.a.createElement(hn,{style:{justifyContent:"center",margin:"1vmin 0vmin"}},o.a.createElement("label",{htmlFor:"type"},c||(r?"set type - ".concat(r):"set type")),o.a.createElement("select",{className:i.ControlTypeSelect,name:"type",id:"type",onChange:function(e){n(e.target.value),s(D(a,t,e.target.value))},value:d||l.type},u.typeTypes.map((function(e){return o.a.createElement("option",{value:e,key:a+e},e)}))))};function Xn(e,n){for(var t=0;t<n.length;t++)if(n[t]===e)return!0;return!1}function Zn(e,n,t){return Xn(e,t)&&Xn(n,t)}function $n(e,n){for(var t=[],a=e;a<n;a++)t.push(a);return t}function et(e,n){return Math.min(n[1],Math.max(n[0],e))}function nt(e,n){return e>=n[0]&&e<=n[1]}function tt(e,n,t){var a=(e-n[0])/(n[1]-n[0]),o=t[1]-t[0];return t[0]+a*o}function at(e,n){return(e-n[0])/(n[1]-n[0])*($e.rotRange[1]-$e.rotRange[0])+$e.rotRange[0]}function ot(e){var n=(Math.floor(10*e)/10).toString();return"."===n.slice(n.length-2,n.length-1)?n:n+".0"}var rt=Object(u.a)({KnobContainer:{display:"grid",gridTemplateRows:"auto",gridTemplateColumns:"auto",placeItems:"center",margin:"1vmin"},KnobSVG:{gridRow:"1",gridColumn:"1",width:"".concat($e.size+1,"vmin"),height:"".concat($e.size+1,"vmin"),zIndex:9},KnobText:{gridRow:"1",gridColumn:"1",fontSize:Xe.xxsmall,textAlign:"center",color:Me,zIndex:10,width:"4em",borderStyle:"none",backgroundColor:"transparent","&::-webkit-outer-spin-button":{"-webkit-appearance":"none",margin:0},"&::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0}},InteractionLayer:{gridRow:"1",gridColumn:"1",zIndex:11,width:"".concat($e.size,"vmin"),height:"".concat($e.size,"vmin")},SettingsButton:{width:"".concat($e.size/6,"vmin"),height:"".concat($e.size/6,"vmin"),gridRow:"1",gridColumn:"1",placeSelf:"end",zIndex:12}}),ct=t(79),it=t.n(ct),ut=!1;var lt=function(e){var n=e.initValue,t=e.range,r=e.onChange,c=e.onEveryChange,i=e.onSettingsClick,u=e.inputVal,l=e.setInputVal,s=rt(),d=Object(a.useRef)(null),m=(t[1]-t[0])*$e.sensitivity/200,f=et(n,t),p=Object(a.useRef)(null),v=function(e){f=et(f-e.movementY*m,t),d.current&&(d.current.style.transform="rotate(".concat(at(f,t),"deg)")),p.current&&(p.current.value="".concat(ot(f))),c&&c(f)},b=function(){r&&r(f),l(ot(f))};return o.a.createElement("div",{className:s.KnobContainer},o.a.createElement("svg",{className:s.KnobSVG,width:"".concat($e.size+1,"vmin"),height:"".concat($e.size+1,"vmin"),ref:d,style:{transform:"rotate(".concat(at(n,t),"deg)")}},o.a.createElement("circle",{cx:"".concat(($e.size+1)/2,"vmin"),cy:"".concat(($e.size+1)/2,"vmin"),r:"".concat($e.size/2,"vmin"),stroke:ke,strokeWidth:$e.borderWidth,fill:Se}),o.a.createElement("rect",{width:"".concat($e.markerWidth,"vmin"),height:"".concat($e.markerHeight,"vmin"),x:"".concat(($e.size+1)/2-$e.markerWidth/2,"vmin"),y:".5vmin",fill:Te})),o.a.createElement("input",{className:s.KnobText,ref:p,onChange:function(e){l(e.target.value),c&&c(et(Number(e.target.value),t))},onBlur:function(e){if(0!==e.target.value.length){var n=et(Number(e.target.value),t);r&&r(n),l(ot(n))}else p.current&&(p.current.value=u)},onKeyDown:function(e){var n;"Enter"===e.key&&(null===(n=p.current)||void 0===n||n.blur())},type:"number",value:u}),o.a.createElement("div",{className:s.InteractionLayer,title:"".concat(n),onClick:function(e){return e.stopPropagation()},onDragStart:function(e){return e.stopPropagation()},onPointerDown:function(e){e.stopPropagation(),e.preventDefault(),e.shiftKey||ut?p.current&&(p.current.placeholder=p.current.value,p.current.value="",p.current.focus()):(window.openPointerLayer(e.pointerId,v,b),ut=!0,window.setTimeout((function(){ut=!1}),200))}}),i?o.a.createElement("img",{className:s.SettingsButton,title:"edit knob range",src:it.a,alt:"settings",onClick:i}):null)};var st=function(e){var n=e.controlID,t=e.setFunc,r=e.actualModID,c=e.displayModName,u=e.label,l=Object(se.c)((function(e){return{val:e.modules[r].controlData[n].value,currRange:e.modules[r].controlData[n].range}})),s=l.val,d=l.currRange,m=Object(a.useState)(ot(s)),f=Object(i.a)(m,2),p=f[0],v=f[1],b=Object(se.b)();return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement(lt,{initValue:s,range:d,inputVal:p,setInputVal:v,onEveryChange:function(e){t(e.toString())},onChange:function(e){t(e.toString()),b(D(r,n,e))},onSettingsClick:function(){window.openKnobRangeSetMenu(r,n,(function(e){t(et(s,e).toString()),v(ot(et(s,e))),b(j(r,n,e))}))}}),o.a.createElement("div",null,u||(c?"".concat(c," - ").concat(n):n)))};var dt=function(e){var n=e.setFunc,t=e.controlID,a=e.modName,r=e.label;return o.a.createElement(un,{fontSize:Xe.small,onClick:function(){n("")}},r||(a?"".concat(a," - ").concat(t):t))};var mt=function(e){var n=e.controlID,t=e.setFunc,a=e.actualModID,r=e.modName,c=e.label,i=Object(se.c)((function(e){return e.modules[a].controlData[n].value}));return o.a.createElement(Sn,{text:c||(r?"".concat(r," - ").concat(n):n),initState:i,onSwitch:function(e){t(e?"true":"false")}})},ft=t(80),pt=t.n(ft);var vt=function(e){var n=e.modID,t=window.audioModules[n],r=Object(se.c)((function(e){return e.modules[n].controlData["time graph"].range})),c=200-tt(0,r,[0,200]),u=Object(a.useState)(0),l=Object(i.a)(u,2),s=l[0],d=l[1],m=Object(se.b)();return o.a.createElement(Mn,{justifyContent:"center",alignItems:"center"},o.a.createElement(pt.a,{style:{width:Je.bigIconWidth},setup:function(e,n){e.createCanvas(n.clientWidth,200).parent(n),e.textAlign(e.CENTER,e.CENTER),e.fill(100),d(n.clientWidth)},draw:function(e){t.audioNode.getFloatTimeDomainData(t.timeArray);var n=s/t.bufferLength;e.background(0);var a=0,o=200-tt(t.timeArray[0],r,[0,200]);e.stroke(ze),e.strokeWeight(6);for(var i=0;i<t.bufferLength-1;i++){var u=(i+1)*n,l=200-tt(t.timeArray[i+1],r,[0,200]);e.line(a,o,u,l),a=u,o=l}var d=s/20;e.stroke(100),e.strokeWeight(1),e.line(0,c,d,c),e.text("0",1.5*d,c)}}),o.a.createElement(un,{style:{width:"10em"},onClick:function(){window.openAnalyzerRangeSetMenu(r,(function(e){m(j(n,"time graph",e))}))}},"change range"))},bt=t(24);var wt=function(e){switch(e){case"LINE_IN":case"OSCILLATOR":case"MEDIA_ELEMENT":case"CONSTANT":case"ENVELOPED_TRIGGER":case"WHITE_NOISE":return Fe;case"GAIN":case"AUTOFILTER":case"KOMPRESSOR":case"SIGNAL_DELAY":case"STEREO_PANNER":case"DISTORTION":return Be;case b:return Pe;case"OUTPUT":return Le;case"ANALYZER":case"TUNER":return ze}},gt=t(83),Ot=Object(u.a)({BabylonCanvas:{width:function(e){return e.width},height:function(e){return e.height}}});var ht=function(e){var n=e.onRender,t=e.onSceneReady,r=e.antialias,c=e.engineOptions,i=e.adaptToDeviceRatio,u=e.sceneOptions,l=e.width,s=e.height,d=Object(gt.a)(e,["onRender","onSceneReady","antialias","engineOptions","adaptToDeviceRatio","sceneOptions","width","height"]),m=Object(a.useRef)(null),f=Ot({width:l,height:s}).BabylonCanvas;return Object(a.useEffect)((function(){if(m.current){var e=new bt.d(m.current,r,c,i),a=new bt.h(e,u);a.isReady()?t&&t(a):a.onReadyObservable.addOnce((function(e){t&&t(e)})),e.runRenderLoop((function(){"function"===typeof n&&n(a),a.render()}));var o=function(){a.getEngine().resize()};return window&&window.addEventListener("resize",o),function(){a.getEngine().dispose(),window&&window.removeEventListener("resize",o)}}}),[i,r,c,n,t,u]),o.a.createElement("canvas",Object.assign({className:f,ref:m},d))},Ct=t(63);function Dt(e,n){return Object.fromEntries(Object.entries(e).filter((function(e){return!Xn(e[0],n)})))}function jt(e,n){return Object.fromEntries(Object.entries(e).filter((function(e){return Xn(e[0],n)})))}function It(e,n){return e.length===n.length?Object.fromEntries(e.map((function(e,t){return[e,n[t]]}))):{}}var Et={C0:16.35,"C#0":17.32,Db0:17.32,D0:18.35,"D#0":19.45,Eb0:19.45,E0:20.6,F0:21.83,"F#0":23.12,Gb0:23.12,G0:24.5,"G#0":25.96,Ab0:25.96,A0:27.5,"A#0":29.14,Bb0:29.14,B0:30.87,C1:32.7,"C#1":34.65,Db1:34.65,D1:36.71,"D#1":38.89,Eb1:38.89,E1:41.2,F1:43.65,"F#1":46.25,Gb1:46.25,G1:49,"G#1":51.91,Ab1:51.91,A1:55,"A#1":58.27,Bb1:58.27,B1:61.74,C2:65.41,"C#2":69.3,Db2:69.3,D2:73.42,"D#2":77.78,Eb2:77.78,E2:82.41,F2:87.31,"F#2":92.5,Gb2:92.5,G2:98,"G#2":103.83,Ab2:103.83,A2:110,"A#2":116.54,Bb2:116.54,B2:123.47,C3:130.81,"C#3":138.59,Db3:138.59,D3:146.83,"D#3":155.56,Eb3:155.56,E3:164.81,F3:174.61,"F#3":185,Gb3:185,G3:196,"G#3":207.65,Ab3:207.65,A3:220,"A#3":233.08,Bb3:233.08,B3:246.94,C4:261.63,"C#4":277.18,Db4:277.18,D4:293.66,"D#4":311.13,Eb4:311.13,E4:329.63,F4:349.23,"F#4":369.99,Gb4:369.99,G4:392,"G#4":415.3,Ab4:415.3,A4:440,"A#4":466.16,Bb4:466.16,B4:493.88,C5:523.25,"C#5":554.37,Db5:554.37,D5:587.33,"D#5":622.25,Eb5:622.25,E5:659.26,F5:698.46,"F#5":739.99,Gb5:739.99,G5:783.99,"G#5":830.61,Ab5:830.61,A5:880,"A#5":932.33,Bb5:932.33,B5:987.77,C6:1046.5,"C#6":1108.73,Db6:1108.73,D6:1174.66,"D#6":1244.51,Eb6:1244.51,E6:1318.51,F6:1396.91,"F#6":1479.98,Gb6:1479.98,G6:1567.98,"G#6":1661.22,Ab6:1661.22,A6:1760,"A#6":1864.66,Bb6:1864.66,B6:1975.53,C7:2093,"C#7":2217.46,Db7:2217.46,D7:2349.32,"D#7":2489.02,Eb7:2489.02,E7:2637.02,F7:2793.83,"F#7":2959.96,Gb7:2959.96,G7:3135.96,"G#7":3322.44,Ab7:3322.44,A7:3520,"A#7":3729.31,Bb7:3729.31,B7:3951.07,C8:4186.01,"C#8":4434.92,Db8:4434.92,D8:4698.64,"D#8":4978.03,Eb8:4978.03},yt=Object.keys(Et).filter((function(e){return e.length<=2||"#"!==e[1]})),Nt=It(yt,yt.map((function(e){return Et[e]}))),xt=It(yt,yt.map((function(e,n){return n}))),St=[Math.log(Et.C1),Math.log(Et.C5)],Mt=[0,2*Math.PI*.95];function kt(e,n,t,a){var o=bt.e.CreatePlane(e,{width:t,height:40,sourcePlane:new bt.f(1,0,0,0)}),r=Ct.AdvancedDynamicTexture.CreateForMesh(o),c=new Ct.TextBlock("".concat(e,"text"),n);return c.fontSize=a,c.width=t,c.height=50,c.color="black",r.addControl(c),o}var Tt=function(e){var n=new bt.i("dialMat",e),t=new bt.i("tickMat",e);t.diffuseColor=new bt.b(0,.5,0);var a=bt.e.CreateCylinder("dial",{height:160,diameter:1600,tessellation:Math.pow(2,7)},e);a.material=n,a.cullingStrategy=bt.a.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION,Object.keys(Nt).filter((function(e,n){return n>=xt.C1&&n<=xt.C5})).forEach((function(e){var n=tt(Math.log(Et[e]),St,Mt),o=new bt.k("".concat(e,"node")),r=bt.e.CreateBox("".concat(e,"tick"),{height:80,width:2,depth:10});r.material=t,r.position.x=802,r.parent=o,o.rotation.y=-n,o.parent=a;var c=kt("".concat(e,"textplane"),e,50,450);c.position.y=60,c.parent=r;var i=kt("".concat(e,"freqplane"),"".concat(Et[e]).slice(0,Math.min("".concat(Et[e]).length,5)),50,400);i.position.y=-60,i.parent=r}))};var Rt=function(e){var n=e.modID,t=-.1,r=0,c=window.audioModules[n];return o.a.createElement(a.Fragment,null,o.a.createElement(ht,{onSceneReady:function(e){e.clearColor=bt.c.FromHexString(wt("TUNER")),e.ambientColor=new bt.b(.5,.5,.5);var n=new bt.l(1e3,0,0);new bt.j("tunerCam",n,e).setTarget(new bt.l(0,0,0));var t=new bt.l(1110.5,300,0),a=new bt.g("light",t,e);a.diffuse=new bt.b(1,0,0),a.specular=new bt.b(0,.1,0),Tt(e)},onRender:function(e){if(0===r){var n=c.controlSetFuncs.tuner(""),a=Object(i.a)(n,2),o=a[0],u=a[1];t=u>-75?tt(et(Math.log(o),St),St,Mt):-.15}var l=e.getMeshByName("dial");l.rotation.y+=.1*(t-l.rotation.y),r=(r+1)%30},style:{borderRadius:".8em",marginTop:"1em"},width:Je.bigIconWidth,height:"200px"}))};var At=function(e){var n=e.setFunc,t=Yn();return o.a.createElement("div",{className:t.Pad,onPointerDown:function(e){e.preventDefault(),n("on")},onPointerCancel:function(e){e.preventDefault(),n("off")},onPointerUp:function(e){e.preventDefault(),n("off")}})};var Ft=function(e){var n=e.audioModule,t=e.selectedModule,a=e.reRenderIcon,r=qn();return o.a.createElement("div",{className:r.ControlMenu},Object.keys(t.controlData).map((function(e,c){var i=t.controlData[e].controlType,u=n.controlSetFuncs[e];return o.a.createElement("div",{className:r.ControlBounder,key:t.id+e+c},i===w?o.a.createElement(st,{controlID:e,setFunc:u,actualModID:t.id}):"BUTTON"===i&&"open"!==e?o.a.createElement(dt,{setFunc:u,controlID:e}):"TYPE"===i?o.a.createElement(Jn,{setFunc:u,controlID:e,actualModID:t.id}):"FILE"===i?o.a.createElement(Qn,{controlID:e,setFunc:u,reRenderIcon:a,actualModID:t.id}):"SWITCH"===i?o.a.createElement(mt,{controlID:e,setFunc:u,actualModID:t.id}):"GRAPH"===i?o.a.createElement(vt,{modID:t.id}):"PAD"===i?o.a.createElement(At,{setFunc:u}):"TUNER_CONTROL"===i?o.a.createElement(Rt,{modID:t.id}):null)})))};var Bt=function(e){var n=e.selectedModule,t=e.reRenderIcon,a=qn(),r=Object(se.c)((function(e){return e.modules}));return o.a.createElement("div",{className:a.ControlMenu},n.containerControls.map((function(e,n){var c=e.modID,i=e.controlID,u=e.actualModID,l=e.name,s=window.audioModules[u],d=r[u].controlData[i].controlType,m=s.controlSetFuncs[i],f=r[c].name;return o.a.createElement("div",{className:a.ControlBounder,key:c+i+n},d===w?o.a.createElement(st,{controlID:i,setFunc:m,actualModID:u,displayModName:f,label:l}):"BUTTON"===d?o.a.createElement(dt,{setFunc:m,controlID:i,modName:f,label:l}):"TYPE"===d?o.a.createElement(Jn,{setFunc:m,controlID:i,actualModID:u,modName:f,label:l}):"FILE"===d?o.a.createElement(Qn,{controlID:i,setFunc:m,reRenderIcon:t,modName:f,actualModID:u,label:l}):"SWITCH"===d?o.a.createElement(mt,{controlID:i,setFunc:m,actualModID:u,modName:f,label:l}):"GRAPH"===d?o.a.createElement(vt,{modID:u}):"PAD"===d?o.a.createElement(At,{setFunc:m}):"TUNER_CONTROL"===d?o.a.createElement(Rt,{modID:u}):null)})))},Pt=Object(u.a)({DropSquare:{width:Je.icon,height:Je.icon,padding:".5vmin",borderStyle:"solid",borderRadius:"10px",zIndex:1,"&:hover":{cursor:"pointer"}}});function Lt(e,n){var t=n[e].childModules,a=[];for(var o in t)n[t[o]].moduleType===b&&(a=[].concat(Object(Q.a)(a),Object(Q.a)(Lt(t[o],n))));return[].concat(Object(Q.a)(t),Object(Q.a)(a))}function zt(e,n){var t=Object.keys(e),a=[];for(var o in t){var r=e[t[o]],c=r.fromID,i=r.toID,u=r.actualOutputID,l=r.actualInputID;Zn(u||c,l||i,n)&&(a=[].concat(Object(Q.a)(a),[t[o]]))}return a}function _t(e,n){return jt(e,zt(e,n))}function Gt(e,n){var t=[n].concat(Object(Q.a)(Lt(n,e.modules)));return{modules:jt(e.modules,t),connections:_t(e.connections,t)}}var Ut=function(e,n,t){switch(n){case"OSCILLATOR":var a=z(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,a));break;case"GAIN":var o=P(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,o));break;case"OUTPUT":var r=R(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,r));break;case"AUTOFILTER":var c=T(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,c));break;case"KOMPRESSOR":var i=B(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,i));break;case"STEREO_PANNER":var u=A(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,u));break;case"SIGNAL_DELAY":var l=F(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,l));break;case"CONSTANT":var s=S(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,s));break;case"MEDIA_ELEMENT":window.addAudioTag(e),window.reRenderAudioTags();break;case"LINE_IN":_(e);break;case b:var d=G(e);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,d));break;case"DISTORTION":var m=H(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,m));break;case"ANALYZER":var f=K(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,f));break;case"ENVELOPED_TRIGGER":var w=V(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,w));break;case"WHITE_NOISE":var g=Y(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,g));break;case"TUNER":var O=$(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,O))}};var Wt=function(e,n){Object.keys(e).forEach((function(n){var t=e[n],a=t.moduleType,o=t.controlData;Ut(n,a,o)})),n&&Object.keys(n).forEach((function(t){var a=n[t],o=a.fromID,r=a.toID,c=a.param,i=a.outputIndex,u=a.inputIndex,l=a.actualOutputID,s=a.actualInputID,d=e[s||r].moduleType,m=e[l||o].moduleType;"MEDIA_ELEMENT"===d||"MEDIA_ELEMENT"===m||"LINE_IN"===d||"LINE_IN"===m?window.setTimeout((function(){on(window.audioModules[l||o],window.audioModules[s||r],c,i,u)}),200):on(window.audioModules[l||o],window.audioModules[s||r],c,i,u)}))};var Ht=function(e,n){return"".concat(n).concat(e).concat(Math.floor(20480*Math.random()))};function Kt(e,n,t,a){var o=Object.keys(e),r=Object.keys(n),c=It(o,o.map((function(e,n){return Ht(n,t)}))),i=It(r,r.map((function(e,n){return Ht(n,a)}))),u=It(Object.values(c),o.map((function(n){if(e[n].moduleType===b){var t=e[n];return Object(v.a)(Object(v.a)({},t),{},{id:c[n],inputs:t.inputs.filter((function(e){return Xn(e,r)})).map((function(e){return i[e]})),outputs:t.outputs.filter((function(e){return Xn(e,r)})).map((function(e){return i[e]})),containerControls:t.containerControls.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{modID:c[e.modID],actualModID:c[e.actualModID]})})),childModules:t.childModules.map((function(e){return c[e]})),parentID:e[n].parentID?c[e[n].parentID]:null,connectionOutputs:e[n].connectionOutputs.map((function(e){return c[e]})),connectionInputs:e[n].connectionInputs.map((function(e){return c[e]}))})}return Object(v.a)(Object(v.a)({},e[n]),{},{id:c[n],inputs:e[n].inputs.filter((function(e){return Xn(e,r)})).map((function(e){return i[e]})),outputs:e[n].outputs.filter((function(e){return Xn(e,r)})).map((function(e){return i[e]})),parentID:c[e[n].parentID]})}))),l=It(Object.values(i),r.map((function(e){var t=n[e];return Object(v.a)(Object(v.a)({},t),{},{fromID:c[t.fromID],toID:c[t.toID],actualOutputID:t.actualOutputID?c[t.actualOutputID]:void 0,actualInputID:t.actualInputID?c[t.actualInputID]:void 0})})));return{modIDConverter:c,newModules:u,newConnections:l}}function Vt(e,n,t,a,o,r,c,i,u){var l=Kt(n,t,a,o),s=l.modIDConverter,d=l.newModules,m=l.newConnections;Wt(d,m),e(y(s[c],d,m,r,i,u))}var qt=function(e,n,t,a,o){var r=Ht(0,Object.keys(n.modules).length),c=n.modules[t],i=c.name,u=c.moduleType,l=c.controlData,s=c.parentID,d=c.connectionInputs,m=c.connectionOutputs;Ut(r,u,l),e(g(r,i,u,l,s,a,o,d,m))};function Yt(e,n,t,a,o,r){var c=e.dataTransfer.getData("id"),i=t.modules[window.fillContainerID].childModules,u=t.modules[c],l=function(e,n,t,a){for(var o=0;o<t.length;o++){var r=a[t[o]];if(r.row===e&&r.col===n)return r.id}return!1}(a,o,i,t.modules);if(u)if(l){var s=e.dataTransfer.getData("fromRow"),d=e.dataTransfer.getData("fromCol");r(!1),n(O(c,a,o)),n(O(l,Number(s),Number(d))),window.setTimeout(window.refreshArcherContainer,1)}else{var m=e.dataTransfer.getData("type");switch(r(!1),m){case Qt:n(O(c,a,o));break;case Jt:t.modules[c].moduleType===b?function(e,n,t,a,o,r){var c=Gt(n,a);Vt(e,c.modules,c.connections,Object.keys(n.modules).length,Object.keys(n.connections).length,t,a,o,r)}(n,t,window.fillContainerID,c,a,o):qt(n,t,c,a,o)}window.setTimeout(window.refreshArcherContainer,1)}else if(!l){var f=e.dataTransfer.getData("type"),p=e.dataTransfer.getData("name");switch(f){case"ADD_MODULE":var v=e.dataTransfer.getData("moduleType");window.addModule(c,p,window.fillContainerID,v,n,a,o);break;case"CONTAINER_RESTORE":var w=Object.keys(t.modules).length,g=Object.keys(t.connections).length;window.containerSaveService.get(p).then((function(e){var t=e.containerID,r=e.modules,c=e.connections;Vt(n,r,c,w,g,window.fillContainerID,t,a,o)}))}r(!1)}}var Qt="MOVE",Jt="COPY";var Xt=function(e){var n=e.row,t=e.col,r=Pt(),c=Object(se.b)(),u=Object(se.c)((function(e){return e})),l=Object(a.useState)(!1),s=Object(i.a)(l,2),d=s[0],m=s[1],f={gridColumn:"".concat(t+1," / span 1"),gridRow:"".concat(n+1," / span 1"),borderColor:d?Ie:"transparent"};return o.a.createElement("div",{className:r.DropSquare,style:f,onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.dataTransfer.types.length>=3&&m(!0)},onDragLeave:function(e){m(!1)},onDrop:function(e){Yt(e,c,u,n,t,m)},onContextMenu:function(e){e.preventDefault(),window.openAddModuleMenu(n,t)},onPointerEnter:function(e){e.preventDefault(),m(!0)},onPointerLeave:function(e){e.preventDefault(),m(!1)}})};var Zt=function(e){var n=e.mod,t=e.gridCol,r=e.gridRow,c=Kn(),u=Object(a.useState)(!1),l=Object(i.a)(u,2),s=l[0],d=l[1],m=Object(a.useState)(!1),f=Object(i.a)(m,2),p=f[0],v=f[1],w=function(){v(!p)},g={gridColumn:"".concat(t," / span 1"),gridRow:"".concat(r," / span 1"),width:s?Je.bigIconWidth:Je.icon,height:s?Je.bigIconHeight:Je.icon},h=Object.assign({},g,{borderStyle:s?"solid":"none",backgroundColor:wt(n.moduleType)}),C={fontSize:Xe.small},D=Object(se.c)((function(e){return e})),j=D.modules,I=D.connections,E=Object(se.b)();return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:c.Icon,style:h,onPointerDown:function(e){return e.stopPropagation()},onDragOver:function(e){e.preventDefault()},onDrop:function(e){!function(e,n,t,a){e.stopPropagation();var o=e.dataTransfer.getData("id"),r=e.dataTransfer.getData("type");if(o){if(n[o]&&r===Qt){var c=e.dataTransfer.getData("fromRow"),i=e.dataTransfer.getData("fromCol");a(O(o,t.row,t.col)),a(O(t.id,Number(c),Number(i))),window.setTimeout(window.refreshArcherContainer,100)}}else if(0===t.connectionInputs.length&&0===window.audioModules[t.id].connectingParamIDs.length)alert("mod cannot accept input");else{var u=e.dataTransfer.getData("fromID");u&&window.openConnectionMenu(u,t.id)}}(e,j,n,E)},draggable:!s,onDragStart:function(e){!function(e,n){e.shiftKey?e.dataTransfer.setData("type",Jt):e.dataTransfer.setData("type",Qt),e.dataTransfer.setData("id",n.id),e.dataTransfer.setData("fromRow","".concat(n.row)),e.dataTransfer.setData("fromCol","".concat(n.col))}(e,n)},onClick:function(e){e.stopPropagation(),d(!s),window.setTimeout(window.refreshArcherContainer,0)},onContextMenu:function(e){e.preventDefault(),e.persist(),window.openModuleContextMenu(e,n.id)}},0===n.connectionOutputs.length?null:o.a.createElement("div",{className:c.IconConnector,draggable:!0,onDragStart:function(e){e.stopPropagation(),e.dataTransfer.setData("fromID",n.id)}}),o.a.createElement("div",{className:c.IconName,style:C,onClick:function(e){s&&(e.stopPropagation(),window.openModuleRenameMenu(n.id))}},n.name),s?o.a.createElement("div",{className:c.IconControlContainer,onClick:function(e){return e.stopPropagation()}},n.moduleType===b?o.a.createElement(Bt,{selectedModule:n,reRenderIcon:w}):null,n.moduleType!==b?o.a.createElement(Ft,{audioModule:window.audioModules[n.id],selectedModule:n,reRenderIcon:w}):null):null),o.a.createElement("div",{className:c.ArcherElement,style:g},o.a.createElement("div",{style:{gridColumn:"".concat(1," / span 1"),gridRow:"".concat(1," / span 1")}},o.a.createElement(Vn.ArcherElement,{id:n.id+" input"},o.a.createElement("div",{style:{width:"10px",height:"10px"}}))),o.a.createElement("div",{style:{gridColumn:"".concat(1," / span 1"),gridRow:"".concat(3," / span 1")}},o.a.createElement(Vn.ArcherElement,{id:n.id+" controls"},o.a.createElement("div",{style:{width:"10px",height:"10px"}}))),o.a.createElement("div",{style:{gridColumn:"".concat(3," / span 1"),gridRow:"".concat(1," / span 1")}},o.a.createElement(Vn.ArcherElement,{id:n.id+" output",relations:n.outputs.filter((function(e){var n=I[e];return Zn(n.fromID,n.toID,j[window.fillContainerID].childModules)})).map((function(e){var n=I[e],t=n.toID,a=n.param;return{targetId:""===a?t+" input":t+" controls",targetAnchor:"left",sourceAnchor:"right",style:{strokeColor:""===a?"red":"blue"}}}))},o.a.createElement("div",{style:{width:"10px",height:"10px"}})))))};var $t=function(){var e=Kn(),n=Object(a.useState)(!1),t=Object(i.a)(n,2),r=t[0],c=t[1];window.reRenderFillContainer=function(){c(!r)};var u,l=Object(se.c)((function(e){return{modules:e.modules,baseContainerID:e.baseContainerID}})),s=l.modules,d=l.baseContainerID,m=s[window.fillContainerID],f=function(e,n){var t=0,a=0;return e.forEach((function(e){var o=n[e];o.row>t&&(t=o.row),o.col>a&&(a=o.col)})),{maxRow:t,maxCol:a}}(m.childModules,s),p=f.maxRow,v=f.maxCol,b=0===m.childModules.length;u=b?{gridTemplateRows:"repeat(".concat(1,", ","auto",")"),gridTemplateColumns:"repeat(".concat(1,", ","auto",")")}:{gridTemplateRows:"repeat(".concat(p+2,", ","auto",")"),gridTemplateColumns:"repeat(".concat(v+2,", ","auto",")")};var w=Object(a.useRef)(null);return window.refreshArcherContainer=function(){var e;null===(e=w.current)||void 0===e||e.refreshScreen()},o.a.createElement("div",{className:e.FillBounder},o.a.createElement("div",{className:e.FillHeaderBounder},o.a.createElement("div",{className:e.FillHeader,style:{width:"".concat(m.name.length/2,"em")},onClick:function(e){e.stopPropagation(),window.openModuleRenameMenu(window.fillContainerID)},onPointerDown:function(e){return e.stopPropagation()}},m.name),m.id===d?null:o.a.createElement(un,{style:{height:".7em"},onPointerDown:function(){window.fillContainerID=m.parentID,window.reRenderFillContainer()}},o.a.createElement("div",null,"back"))),o.a.createElement(Vn.ArcherContainer,{ref:w,svgContainerStyle:{zIndex:-1},strokeWidth:8,arrowLength:0},o.a.createElement("div",{className:e.Fill,style:u},b?o.a.createElement(Xt,{row:0,col:0}):$n(0,p+2).map((function(e){return $n(0,v+2).map((function(n){return o.a.createElement(Xt,{key:"".concat(e," ").concat(n),row:e,col:n})}))})).flat(),m.childModules.map((function(e){var n=s[e];return o.a.createElement(Zt,{key:n.id,mod:n,gridRow:n.row+1,gridCol:n.col+1})})))))},ea=Object(u.a)({DrawerBounder:{width:"0px",height:"100vh",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",color:"white",position:"absolute",top:"0px",right:"0px",userSelect:"none",zIndex:10},Drawer:{backgroundColor:fe,height:"100vh",width:"".concat(Qe.width,"px"),display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-start",position:"absolute",top:"0px",right:"0px"},DrawerHeader:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"inherit",overflowX:"scroll",overflowY:"hidden","&::-webkit-scrollbar":{height:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerHeaderItem:{fontSize:Xe.medium,padding:"1vmin 1.5vmin",color:Ce,textDecoration:"none",whiteSpace:"nowrap","&:hover":{cursor:"pointer"}},ItemRouter:{width:"".concat(Qe.width,"px"),height:"calc(100% - 60px)",display:"flex",flexFlow:"column wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start","&::-webkit-scrollbar":{width:"0px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},Toggle:{backgroundColor:pe,width:Qe.toggleWidth,zIndex:10,height:"100%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"},position:"absolute",top:"0px",right:"".concat(Qe.width,"px")},ToggleLine:{backgroundColor:ve,borderRadius:"4px",width:"0.75vmin",height:"80px"},SDBSaveList:{display:"flex",flexDirection:"column",overflow:"scroll",height:"60%","&::-webkit-scrollbar":{width:"0px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}}});var na=function(e){var n=e.className,t=e.text,a=e.onClick,r={color:e.selectedRoute===t?De:Ce};return o.a.createElement("div",{className:n,onClick:a,style:r},t)};var ta=function(e,n){var t=n.modules,a=n.connections;Object.keys(e).forEach((function(n){var t=e[n],a=t.fromID,o=t.toID,r=t.param,c=t.outputIndex,i=t.actualOutputID,u=t.actualInputID;window.audioModules[i||a]&&window.audioModules[u||o]&&rn(window.audioModules[i||a],window.audioModules[u||o],r,c)})),window.numberRestores++,window.audioModules={},window.audioTags={},Object.keys(t).forEach((function(e){var n=t[e],a=n.moduleType,o=n.controlData;Ut(e,a,o)})),a&&Object.keys(a).forEach((function(e){var n=a[e],o=n.fromID,r=n.toID,c=n.param,i=n.outputIndex,u=n.inputIndex,l=n.actualOutputID,s=n.actualInputID,d=t[s||r].moduleType,m=t[l||o].moduleType;"MEDIA_ELEMENT"===d||"MEDIA_ELEMENT"===m||"LINE_IN"===d||"LINE_IN"===m?function e(n,t,a,o,r,c,i,u){n>10?alert("restore failed"):window.setTimeout((function(){window.audioModules[i||t]&&window.audioModules[u||a]?on(window.audioModules[i||t],window.audioModules[u||a],o,r,c):e(n+1,t,a,o,r,c,i,u)}),500)}(0,o,r,c,i,u,l,s):on(window.audioModules[l||o],window.audioModules[s||r],c,i,u)}))},aa={backgroundColor:"transparent"};var oa=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],c=Object(se.b)(),u=Object(se.c)((function(e){return e.connections}));Object(a.useEffect)((function(){window.projectSaveService.find().then((function(e){r(e)}))}),[]);var l=ea();return o.a.createElement("div",{style:{}},o.a.createElement(un,{style:{backgroundColor:He},onClick:function(){window.openSpaceDBProjectSaveMenu(t,(function(){window.setTimeout((function(){window.projectSaveService.find().then((function(e){r(e)}))}),1e3)}))}},"save project"),o.a.createElement("div",{className:l.SDBSaveList},t.map((function(e,n){return o.a.createElement(un,{style:aa,key:n,onClick:function(){window.projectSaveService.get(e).then((function(e){ta(u,e),c(N(e))}))},onContextMenu:function(n){n.preventDefault(),n.persist(),window.openSDBProjectContextMenu(n,e,r)}},e)}))))};var ra=function(){var e=Object(se.c)((function(e){return Object.keys(e.modules).length}));return o.a.createElement(a.Fragment,null,e<2?null:o.a.createElement(un,{onClick:function(){window.openConfirmBlankProjectMenu()}},"blank project"))},ca=t(18),ia=t.n(ca),ua=t(21),la=t(81);function sa(e,n){return da.apply(this,arguments)}function da(){return(da=Object(ua.a)(ia.a.mark((function e(n,t){var a;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createWritable();case 2:return a=e.sent,e.next=5,a.write(JSON.stringify(t));case 5:return e.next=7,a.close();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e){return fa.apply(this,arguments)}function fa(){return(fa=Object(ua.a)(ia.a.mark((function e(n){var t,a,o,r,c;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showOpenFilePicker();case 2:if(t=e.sent,a=Object(i.a)(t,1),!(o=a[0])){e.next=16;break}return n&&n(o),e.next=9,o.getFile();case 9:return r=e.sent,e.next=12,r.text();case 12:return c=e.sent,e.abrupt("return",JSON.parse(c));case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(e,n){return va.apply(this,arguments)}function va(){return(va=Object(ua.a)(ia.a.mark((function e(n,t){return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showSaveFilePicker({types:[{description:"space machine project",accept:{"example/*":[".sm"]}}]});case 2:return window.saveFileHandle=e.sent,e.next=5,sa(window.saveFileHandle,n);case 5:t&&t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ba(e){var n=e.name;return n.slice(0,n.length-3)}function wa(e){return ga.apply(this,arguments)}function ga(){return(ga=Object(ua.a)(ia.a.mark((function e(n){var t,a,o,r,c,i,u,l;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=!0,o=!1,e.prev=3,c=Object(la.a)(n.values());case 5:return e.next=7,c.next();case 7:return i=e.sent,a=i.done,e.next=11,i.value;case 11:if(u=e.sent,a){e.next=18;break}l=u,t.push(l.name);case 15:a=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),o=!0,r=e.t0;case 24:if(e.prev=24,e.prev=25,a||null==c.return){e.next=29;break}return e.next=29,c.return();case 29:if(e.prev=29,!o){e.next=32;break}throw r;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",t);case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function Oa(e){return ha.apply(this,arguments)}function ha(){return(ha=Object(ua.a)(ia.a.mark((function e(n){var t;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(n);case 2:return t=e.sent,e.abrupt("return",t.filter((function(e){return e.length>4&&".smm"===e.slice(e.length-4)})).map((function(e){return e.slice(0,e.length-4)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ca(e,n,t){return Da.apply(this,arguments)}function Da(){return(Da=Object(ua.a)(ia.a.mark((function e(n,t,a){var o;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getFileHandle("".concat(t,".smm"),{create:!0});case 2:return o=e.sent,e.next=5,sa(o,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e,n){return Ia.apply(this,arguments)}function Ia(){return(Ia=Object(ua.a)(ia.a.mark((function e(n,t){var a,o,r;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getFileHandle("".concat(t,".smm"));case 2:return a=e.sent,e.next=5,a.getFile();case 5:return o=e.sent,e.next=8,o.text();case 8:return r=e.sent,e.abrupt("return",JSON.parse(r));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ea=function(e){var n=e.reRender,t=e.state,a=Object(se.b)();return o.a.createElement(un,{fontSize:Xe.medium,onClick:Object(ua.a)(ia.a.mark((function e(){var o;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma((function(e){window.saveFileHandle=e}));case 2:(o=e.sent)?(ta(t.connections,o),a(N(o)),n()):window.flashNotification("rgba(1, 1, 1, .4)","no file selected");case 4:case"end":return e.stop()}}),e)})))},"open")};var ya=function(e){var n=e.state,t=e.reRender;return o.a.createElement(un,{fontSize:Xe.medium,onClick:Object(ua.a)(ia.a.mark((function e(){return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pa(n,(function(){t(),window.flashNotification(Ye,"".concat(ba(window.saveFileHandle)," saved"))}));case 1:case"end":return e.stop()}}),e)})))},"save as")};var Na=function(e){var n=e.state;return o.a.createElement(a.Fragment,null,window.saveFileHandle?o.a.createElement(un,{fontSize:Xe.medium,onClick:Object(ua.a)(ia.a.mark((function e(){return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(window.saveFileHandle,n);case 2:window.flashNotification(Ye,"".concat(ba(window.saveFileHandle)," saved"));case 3:case"end":return e.stop()}}),e)})))},"save ".concat(ba(window.saveFileHandle))):o.a.createElement(un,{fontSize:Xe.medium,notClickable:!0,style:{backgroundColor:"transparent",color:je}}," no file open "))};var xa=function(){var e=Object(se.c)((function(e){return e})),n=Object(a.useState)({}),t=Object(i.a)(n,2)[1];return window.reRenderFileMenu=function(){t({})},o.a.createElement(hn,{alignItems:"center",flexWrap:"wrap",style:{width:"100%"}},o.a.createElement(Ea,{state:e,reRender:window.reRenderFileMenu}),o.a.createElement(ya,{state:e,reRender:window.reRenderFileMenu}),o.a.createElement(Na,{state:e}),o.a.createElement(ra,null))},Sa="".concat(Qe.width),Ma=function(e){return"".concat(e,"px")};var ka=function(){var e=ea(),n=Object(a.useState)(!0),t=Object(i.a)(n,2),r=t[0],c=t[1],u=Object(a.useState)(Sa),l=Object(i.a)(u,2),s=l[0],d=l[1],m=Object(Dn.b)({transform:r?"translate(0px, 0px)":"translate(".concat(s,"px, 0px)"),config:{tension:220,clamp:!0}}),f=Object(a.useState)(window.usingElectron?"spaceDB projects":"file"),p=Object(i.a)(f,2),v=p[0],b=p[1],w=Object(a.useRef)(null),g=Object(a.useRef)(null),O=Object(a.useRef)(null),h=Object(a.useRef)(null),C=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),D=!1,j=Object(a.useState)({}),I=Object(i.a)(j,2)[1];return Object(a.useEffect)((function(){window.addEventListener("resize",(function(){window.setTimeout((function(){I({})}),500)}))}),[]),o.a.createElement(Dn.a.div,{className:e.DrawerBounder,style:m,onPointerDown:function(e){return e.stopPropagation()}},o.a.createElement("div",{className:e.Toggle,ref:g,onPointerDown:function(e){var n;r&&e.shiftKey?(D=!0,null===(n=g.current)||void 0===n||n.setPointerCapture(e.pointerId)):c(!r)},onPointerMove:function(e){D&&(Sa="".concat(et(C-e.clientX,[150,700])),w.current&&(w.current.style.width=Ma(Sa)),O.current&&(O.current.style.width=Ma(Sa)),h.current&&(h.current.style.width=Ma(Sa)),g.current&&(g.current.style.right=Ma(Sa)))},onPointerUp:function(e){var n;D&&(D=!1,d(Sa),null===(n=g.current)||void 0===n||n.releasePointerCapture(e.pointerId))}},o.a.createElement("div",{className:e.ToggleLine,onClick:function(){c(!r)}})),o.a.createElement("div",{className:e.Drawer,ref:w},o.a.createElement("div",{className:e.DrawerHeader,ref:O,onWheel:function(e){O&&O.current&&(O.current.scrollLeft+=e.deltaY)}},window.usingElectron?o.a.createElement(na,{className:e.DrawerHeaderItem,text:"spaceDB projects",onClick:function(){b("spaceDB projects")},selectedRoute:v}):null,o.a.createElement(na,{className:e.DrawerHeaderItem,text:"file",onClick:function(){b("file")},selectedRoute:v})),o.a.createElement("div",{className:e.ItemRouter,ref:h},"spaceDB projects"===v?o.a.createElement(oa,null):"file"===v?o.a.createElement(xa,null):null)))};var Ta=function(e){var n=e.id,t=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(!window.audioModules[n]){var e=U(t);e&&(window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},n,e)))}})),o.a.createElement("audio",{ref:t,autoPlay:!0})};window.addAudioTag=function(e){window.audioTags[e]={id:e,srcName:""}},window.audioTags={},window.numberRestores=0;var Ra=function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],r=n[1];window.reRenderAudioTags=function(){r(!t)};var c=Object.keys(window.audioTags);return o.a.createElement(a.Fragment,null,c.map((function(e){return o.a.createElement(Ta,{key:e+window.numberRestores,id:e})})))},Aa=Object(u.a)({CenterMenuBounder:{backgroundColor:we,backdropFilter:"blur(5px)",position:"absolute",top:0,left:0,width:"100vw",height:"100vh",zIndex:s},CenterMenu:{backgroundColor:be,position:"absolute",top:"50vh",left:"50vw",transform:"translate(-50%, calc(-50% - 50px))",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"1.2vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",minWidth:"15vw",padding:"1vmin 2vmin 2vmin 2vmin",border:".1em solid ".concat(ge)},Header:{padding:"1vmin 2vmin",margin:"0vmin 0vmin 2vmin 0vmin",borderColor:"white",borderStyle:"none none solid none",fontSize:Xe.large}});var Fa=function(e){var n=e.isClosed,t=e.className,r=e.style,c=e.headerClassName,i=e.headerStyle,u=e.children,l=e.header,s=e.onClose,d=e.bounderStyle,m=Aa();return o.a.createElement(a.Fragment,null,n?null:o.a.createElement(Dn.a.div,{className:m.CenterMenuBounder,onPointerDown:function(e){e.stopPropagation(),s()},style:d},o.a.createElement("div",{className:t?"".concat(m.CenterMenu," ").concat(t):m.CenterMenu,onPointerDown:function(e){e.stopPropagation()},style:r},l?o.a.createElement("div",{className:c?"".concat(m.Header," ").concat(c):m.Header,style:i},l):null,u)))},Ba=Object(u.a)({AutoPlacingGrid:{display:"grid",gridTemplateRows:function(e){var n=e.numRows;return"repeat(".concat(n,", auto)")},gridTemplateColumns:function(e){var n=e.numCols;return"repeat(".concat(n,", auto)")},gridAutoFlow:function(e){return e.direction},gridAutoRows:function(e){return e.numRows?null:"auto"},gridAutoColumns:function(e){return e.numCols?null:"auto"},gap:function(e){return e.gap},justifyItems:"center"}});var Pa=function(e){var n=e.children,t=e.className,a=e.style,r=e.numRows,c=e.numCols,i=e.direction,u=e.gap,l=Ba({numRows:r,numCols:c,direction:i,gap:u});return o.a.createElement("div",{className:t?"".concat(l.AutoPlacingGrid," ").concat(t):l.AutoPlacingGrid,style:a},n)};function La(e,n,t){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=0;o<n.outputs.length;o++){var r=e[n.outputs[o]],c=r.actualInputID,i=r.param;if(c===t&&a===i)return!0}return!1}var za=Object(u.a)({Module:{borderRadius:"1.5vmin",display:"flex",flexDirection:"column",alignItems:"center",flexGrow:1,flexShrink:1,"&::-webkit-scrollbar":{width:"0px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"},padding:".2em .5em",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},IconConnector:{backgroundColor:xe,width:Ze.size,height:Ze.size,borderRadius:Ze.borderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"solid",borderColor:"transparent","&:hover":{cursor:"pointer",borderColor:"white"}},ConnectorBounder:{alignItems:"center"},Name:{whiteSpace:"noWrap",fontSize:Xe.medium,marginBottom:".2em","&:hover":{cursor:"pointer"}},ConnectorName:{whiteSpace:"noWrap",fontSize:Xe.small},ParamName:{whiteSpace:"noWrap",fontSize:Xe.small},ConnectionReciever:{backgroundColor:"black",width:Ze.size,height:Ze.size,borderRadius:Ze.borderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"solid",borderColor:Re,borderWidth:".25em"},SmallConnectionReciever:{backgroundColor:"black",width:Ze.smallSize,height:Ze.smallSize,borderRadius:Ze.smallBorderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"solid",borderColor:Ae,borderWidth:".2em"}});var _a=function(e){var n=e.modID,t=e.startsBig,r=e.fromID,c=e.toID,u=e.isFromContainer,l=e.isToContainer,s=e.onClose,d=za(),m=Object(se.c)((function(e){return e.modules[n]})),f=Object(se.c)((function(e){return e})),p=f.modules,v=f.connections,b=window.audioModules[n],w=window.audioModules,g=Object(a.useState)(t),O=Object(i.a)(g,2),h=O[0],C=O[1],D=Object(se.b)();return o.a.createElement("div",{className:d.Module,style:{backgroundColor:wt(m.moduleType)}},o.a.createElement("div",{className:d.Name,style:{marginBottom:".2em"},onClick:function(){C(!h)}},m.name),o.a.createElement(hn,{style:{justifyContent:"center"}},o.a.createElement(Mn,{style:{marginRight:0!==b.connectingParamIDs.length?".4em":"0em"}},h?m.connectionInputs.map((function(e,t){return o.a.createElement(Mn,{key:t},o.a.createElement("div",{className:d.ConnectionReciever,onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault();var a=e.dataTransfer.getData("actualFromID"),o=p[a],i=Number(e.dataTransfer.getData("outputIndex"));La(v,o,n)?alert("modules already connected"):(on(w[a],w[n],"",i,t),D(I(r,c,"",i,t,u?a:void 0,l?n:void 0)),window.flashNotification(Ye,"connection created"),s())}}),1!==m.connectionInputs.length?e:null)})):null),0===b.connectingParamIDs.length?null:o.a.createElement(Pa,{direction:"row",numCols:"2",gap:".2em"},h?b.connectingParamIDs.map((function(e,t){return o.a.createElement(Mn,{style:{alignItems:"center"},key:t,onDragOver:function(e){e.preventDefault()},onDrop:function(t){t.preventDefault();var a=t.dataTransfer.getData("actualFromID"),o=p[a],i=Number(t.dataTransfer.getData("outputIndex"));La(v,o,n,e)?alert("modules already connected"):(on(w[a],w[n],e,i,0),D(I(r,c,e,i,0,u?a:void 0,l?n:void 0)),window.flashNotification(Ye,"connection created"),s())}},o.a.createElement("div",{className:d.SmallConnectionReciever}),o.a.createElement("div",{className:d.ParamName},e))})):null)))};var Ga=function e(n){var t=n.modID,r=n.startsBig,c=n.fromID,u=n.toID,l=n.isFromContainer,s=n.onClose,d=n.isBase,m=za(),f=Object(se.c)((function(e){return e.modules})),p=f[t],v=p.connectionInputs,w=v.length<=2,g=Object(a.useState)(r),O=Object(i.a)(g,2),h=O[0],C=O[1];return o.a.createElement("div",{className:m.Module,style:{backgroundColor:wt(b),maxHeight:d?"60vmin":"40vmin",overflowY:d?"scroll":"visible"}},o.a.createElement("div",{className:m.Name,onClick:function(){C(!h)}},p.name),o.a.createElement(Pa,{direction:"row",numCols:2,gap:".2em"},h?v.map((function(n,t){return f[n].moduleType===b?o.a.createElement(e,{key:t,modID:n,fromID:c,toID:u,isFromContainer:l,onClose:s,isBase:!1,startsBig:w}):o.a.createElement(_a,{key:t,modID:n,fromID:c,toID:u,isFromContainer:!0,isToContainer:!0,onClose:s,startsBig:w})})):null))};var Ua=function(e){var n=e.modID,t=e.startsBig,r=e.isBase,c=za(),u=Object(se.c)((function(e){return e.modules[n]})),l=Object(a.useState)(t),s=Object(i.a)(l,2),d=s[0],m=s[1];return o.a.createElement("div",{className:c.Module,style:{backgroundColor:wt(u.moduleType),overflow:"visible",marginRight:r?"1em":"0em"}},o.a.createElement("div",{className:c.Name,onClick:function(){m(!d)}},u.name),d?u.connectionOutputs.length>1?o.a.createElement(Pa,{direction:"row",numCols:"2",gap:".2em"},u.connectionOutputs.map((function(e,t){return o.a.createElement(Mn,{className:c.ConnectorBounder,key:t},o.a.createElement("div",{className:c.IconConnector,draggable:!0,onDragStart:function(e){e.dataTransfer.setData("actualFromID",n),e.dataTransfer.setData("outputIndex",t.toString())}}),1===u.connectionOutputs.length?null:o.a.createElement("div",{className:c.ConnectorName},e))}))):o.a.createElement(Mn,{className:c.ConnectorBounder},o.a.createElement("div",{className:c.IconConnector,draggable:!0,onDragStart:function(e){e.dataTransfer.setData("actualFromID",n),e.dataTransfer.setData("outputIndex","0")}})):null)};var Wa=function e(n){var t=n.modID,r=n.startsBig,c=n.isBase,u=za(),l=Object(se.c)((function(e){return e.modules})),s=l[t],d=s.connectionOutputs,m=d.length<=2,f=Object(a.useState)(r),p=Object(i.a)(f,2),v=p[0],w=p[1];return o.a.createElement("div",{className:u.Module,style:{backgroundColor:wt(s.moduleType),marginRight:c?"1em":"0em",maxHeight:c?"60vmin":"40vmin",overflowY:c?"scroll":"visible"}},o.a.createElement("div",{className:u.Name,onClick:function(){w(!v)}},s.name),o.a.createElement(Pa,{direction:"row",numCols:2,gap:".2em"},v?d.map((function(n,t){return l[n].moduleType===b?o.a.createElement(e,{key:t,modID:n,startsBig:m,isBase:!1}):o.a.createElement(Ua,{key:t,modID:n,startsBig:m,isBase:!1})})):null))};function Ha(e,n,t){return{isOpen:e,fromMod:n,toMod:t}}var Ka=function(){var e=Object(a.useState)(Ha(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.fromMod,u=t.toMod,l=n[1],s=Object(se.c)((function(e){return e})).modules;window.openConnectionMenu=function(e,n){l(Ha(!0,s[e],s[n]))};var d=function(){l(Ha(!1))};return o.a.createElement(Fa,{header:"add connection",isClosed:!r,onClose:d},o.a.createElement(hn,null,(null===c||void 0===c?void 0:c.moduleType)===b?o.a.createElement(Wa,{modID:null===c||void 0===c?void 0:c.id,startsBig:!0,isBase:!0}):o.a.createElement(Ua,{modID:null===c||void 0===c?void 0:c.id,startsBig:!0,isBase:!0}),(null===u||void 0===u?void 0:u.moduleType)===b?o.a.createElement(Ga,{modID:null===u||void 0===u?void 0:u.id,startsBig:!0,fromID:null===c||void 0===c?void 0:c.id,toID:null===u||void 0===u?void 0:u.id,isFromContainer:(null===c||void 0===c?void 0:c.moduleType)===b,onClose:d,isBase:!0}):o.a.createElement(_a,{modID:null===u||void 0===u?void 0:u.id,startsBig:!0,fromID:null===c||void 0===c?void 0:c.id,toID:null===u||void 0===u?void 0:u.id,isFromContainer:(null===c||void 0===c?void 0:c.moduleType)===b,isToContainer:!1,onClose:d})))},Va=Object(u.a)({CMInputBounder:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},CenterMenuInput:{backgroundColor:me,color:"white",height:"2vmin",padding:"1vmin",margin:"1.5vmin .75vmin 1.5vmin 1.5vmin",borderStyle:"none",borderRadius:"1vmin",fontSize:Xe.small,width:"15vmin","&:hover":{cursor:"text"}}});function qa(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{isOpen:e,controlID:n,onChangeSubmit:t}}var Ya=function(){var e=Object(a.useState)(qa(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.controlID,u=t.onChangeSubmit,l=n[1],s=Object(se.c)((function(e){return e.modules})),d=Object(a.useState)(0),m=Object(i.a)(d,2),f=m[0],p=m[1],v=Object(a.useState)(0),b=Object(i.a)(v,2),w=b[0],g=b[1],O=Object(a.useState)(void 0),h=Object(i.a)(O,2),C=h[0],D=h[1];window.openKnobRangeSetMenu=function(e,n,t){var a=s[e].controlData[n],o=a.range,r=a.maxRange;l(qa(!0,n,t)),p(o[0]),g(o[1]),D(r)};var j=function(){l(qa(!1))},I=Va();return o.a.createElement(Fa,{isClosed:!r,header:"set ".concat(c," range"),onClose:j},o.a.createElement("div",{style:{fontSize:Xe.small}},C?"max range from ".concat(C[0]," to ").concat(C[1]):null),o.a.createElement("div",{className:I.CMInputBounder,onKeyDown:function(e){"Escape"===e.key?j():"Enter"===e.key&&(u([f,w]),j())}},o.a.createElement("input",{className:I.CenterMenuInput,onChange:function(e){p(Number(e.target.value))},value:f,type:"number"}),o.a.createElement("input",{className:I.CenterMenuInput,onChange:function(e){g(Number(e.target.value))},value:w,type:"number"})),o.a.createElement(un,{style:{fontSize:Xe.small,backgroundColor:_e},onClick:function(){C?nt(f,C)&&nt(w,C)?w>f?(u([f,w]),j()):alert("min must be less than max"):alert("a value is not within maximum range bounds"):w>f?(u([f,w]),j()):alert("min must be less than max")}},"confirm"))},Qa=Object(u.a)({CenterMenuInput:{backgroundColor:me,color:"white",height:"1em",padding:"1vmin",margin:"1.5vmin .75vmin 1.5vmin 1.5vmin",borderStyle:"none",borderRadius:"1vmin",fontSize:Xe.medium,textAlign:"center","&:hover":{cursor:"text"}}});function Ja(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{isOpen:e,saveList:n,preOnClose:t}}var Xa=function(){var e=Object(a.useState)(Ja(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.saveList,u=t.preOnClose,l=n[1],s=Object(se.c)((function(e){return e})),d=s.baseContainerID,m=s.modules,f=Object(a.useState)(""),p=Object(i.a)(f,2),v=p[0],b=p[1],w=Object(a.useState)({isOpen:!1,message:""}),g=Object(i.a)(w,2),O=g[0],h=g[1];window.openSpaceDBProjectSaveMenu=function(e,n){b(m[d].name),h({isOpen:!1,message:""}),l(Ja(!0,e,n))};var C=function(){u(),l(Ja(!1))},D=Object(a.useRef)(null),j=Qa();return o.a.createElement(Fa,{header:"save project",isClosed:!r,onClose:C},o.a.createElement(hn,{style:{alignItems:"center"}},o.a.createElement("input",{className:j.CenterMenuInput,value:v,placeholder:m[d].name,onChange:function(e){b(e.target.value)},onKeyDown:function(e){switch(e.key){case"Enter":Xn(v,c)?h({isOpen:!0,message:"would you like to overwrite this save?"}):(window.projectSaveService.create({saveName:v,state:s}).then((function(e){e&&window.flashNotification("green","project saved")})),C());break;case"Escape":C()}},ref:D,autoFocus:!0}),o.a.createElement(un,{onPointerDown:function(e){return e.preventDefault()},onClick:function(e){e.preventDefault(),Xn(v,c)?h({isOpen:!0,message:"save already exists. do you want to replace it?"}):(window.projectSaveService.create({saveName:v,state:s}).then((function(e){e&&window.flashNotification("green","project saved")})),C())}},"save to spaceDB")),O.isOpen?o.a.createElement(Mn,null,o.a.createElement("div",{style:{fontSize:Xe.small}},O.message),o.a.createElement(hn,{style:{justifyContent:"center"}},o.a.createElement(un,{style:{backgroundColor:Ge,marginRight:"3vmin"},onClick:function(){var e;null===(e=D.current)||void 0===e||e.focus(),h({isOpen:!1,message:""})}},"no"),o.a.createElement(un,{style:{backgroundColor:_e},onClick:function(){window.projectSaveService.update(v,s).then((function(e){e&&window.flashNotification("green","project updated")})),C()}},"yes"))):null)};function Za(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{isOpen:e,saveName:n,preOnClose:t}}var $a=function(){var e=Object(a.useState)(Za(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.saveName,u=t.preOnClose,l=n[1];window.openConfirmDeleteMenu=function(e,n){l(Za(!0,e,n))};var s=function(){u(),l(Za(!1))};return o.a.createElement(Fa,{header:"are you sure you want to delete ".concat(c,"?"),isClosed:!r,onClose:s},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},o.a.createElement(un,{style:{backgroundColor:Ge,marginRight:"3vmin"},onClick:function(){s()}},"no"),o.a.createElement(un,{style:{backgroundColor:_e},onClick:function(){window.projectSaveService.remove(c),s()}},"yes")))};function eo(e,n,t,a,o,r){if(Xn(t,a))e({isOpen:!0,message:"module with this name already exists. would you like to update it?"});else{var c=Gt(o,n),i=c.modules,u=c.connections;window.containerSaveService.create({saveName:t,containerID:n,modules:i,connections:u}).then((function(e){e&&(window.flashNotification("green","module saved to spaceDB"),window.refreshSpaceDBModules())})),r()}}function no(e,n,t){return to.apply(this,arguments)}function to(){return(to=Object(ua.a)(ia.a.mark((function e(n,t,a){var o,r,c,i;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Gt(a,t),r=o.modules,c=o.connections,i={containerID:t,modules:r,connections:c},e.next=4,Ca(window.moduleDirectoryHandle,n,i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ao="",oo="";var ro=function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),u=Object(i.a)(c,2),l=u[0],s=u[1],d=Object(a.useState)(!1),m=Object(i.a)(d,2),f=m[0],p=m[1],v=Object(se.c)((function(e){return e}));window.openFileContainerSaveMenu=function(e){oo=e,ao=v.modules[e].name,s(ao),p(!1),r(!0)};var b=function(){r(!1)};function w(){return g.apply(this,arguments)}function g(){return(g=Object(ua.a)(ia.a.mark((function e(){return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xn(l,window.fileModuleSaveNames)){e.next=4;break}p(!0),e.next=8;break;case 4:return e.next=6,no(l,oo,v);case 6:window.flashNotification(Ye,"".concat(l," saved to file")),b();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=Qa(),h=Object(a.useRef)(null);return o.a.createElement(Fa,{header:"",isClosed:!t,onClose:b},o.a.createElement("input",{className:O.CenterMenuInput,onChange:function(e){s(e.target.value)},value:l,placeholder:ao,onKeyDown:function(e){switch(e.key){case"Enter":w();break;case"Esc":b()}},ref:h,autoFocus:!0}),o.a.createElement(un,{onClick:w},"save"),o.a.createElement(An,{showIf:f},o.a.createElement(Mn,null,o.a.createElement("div",null,"module with this name already exists. would you like to update it?"),o.a.createElement(hn,null,o.a.createElement(un,{onClick:function(){h.current&&(h.current.value="",h.current.focus()),p(!1)}},"no"),o.a.createElement(un,{onClick:function(){no(l,oo,v),b()}},"yes")))))};function co(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return{isOpen:e,id:n,saveList:t,preOnClose:a,initName:o}}var io=function(){var e=Object(a.useState)(co(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.id,u=t.saveList,l=t.preOnClose,s=t.initName,d=n[1],m=Object(se.c)((function(e){return e})),f=Object(a.useState)(""),p=Object(i.a)(f,2),v=p[0],b=p[1];window.openSpaceDBContainerSaveMenu=function(e,n,t){d(co(!0,n,e,t,m.modules[n].name)),b(m.modules[n].name)};var w=function(){l(),d(co(!1))},g=Object(a.useState)({isOpen:!1,message:""}),O=Object(i.a)(g,2),h=O[0],C=O[1],D=Object(a.useRef)(null),j=Qa();return o.a.createElement(Fa,{header:"save container module",isClosed:!r,onClose:w},o.a.createElement("input",{className:j.CenterMenuInput,value:v,placeholder:s,ref:D,onChange:function(e){b(e.target.value)},onKeyDown:function(e){switch(e.key){case"Enter":eo(C,c,v,u,m,w);break;case"Escape":w()}},autoFocus:!0}),o.a.createElement(un,{onClick:function(){eo(C,c,v,u,m,w)}},"confirm"),h.isOpen?o.a.createElement(a.Fragment,null,o.a.createElement("div",{style:{fontSize:Xe.small}},h.message),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(un,{style:{backgroundColor:Ge},onClick:function(){D.current&&(D.current.value="",D.current.focus()),C({isOpen:!1,message:""})}},"no"),o.a.createElement(un,{style:{backgroundColor:_e},onClick:function(){var e=Gt(m,c),n=e.modules,t=e.connections;window.containerSaveService.update(v,{saveName:v,containerID:c,modules:n,connections:t}).then((function(e){e&&(window.flashNotification("green","module updated"),window.refreshSpaceDBModules())})),w()}},"yes"))):null)};function uo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return{isOpen:e,onChangeSubmit:n}}var lo=function(){var e=Object(a.useState)(uo(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.onChangeSubmit,u=n[1],l=Object(a.useState)(0),s=Object(i.a)(l,2),d=s[0],m=s[1],f=Object(a.useState)(0),p=Object(i.a)(f,2),v=p[0],b=p[1];window.openAnalyzerRangeSetMenu=function(e,n){m(e[0]),b(e[1]),u(uo(!0,n))};var w=function(){u(uo(!1))},g=Va();return o.a.createElement(Fa,{isClosed:!r,header:"set analyzer range",onClose:w},o.a.createElement("div",{className:g.CMInputBounder,onKeyDown:function(e){"Escape"===e.key?w():"Enter"===e.key&&(c([d,v]),w())}},o.a.createElement("input",{className:g.CenterMenuInput,onChange:function(e){m(Number(e.target.value))},value:d,type:"number"}),o.a.createElement("input",{className:g.CenterMenuInput,onChange:function(e){b(Number(e.target.value))},value:v,type:"number"})),o.a.createElement(un,{style:{fontSize:Xe.small,backgroundColor:_e},onClick:function(){c([d,v]),w()}},"confirm"))},so=Object(u.a)({CMInputBounder:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},CenterMenuInput:{backgroundColor:me,color:"white",height:"2vmin",padding:"1vmin",margin:"1.5vmin .75vmin 1.5vmin 1.5vmin",borderStyle:"none",borderRadius:"1vmin",fontSize:Xe.small,width:"23vmin","&:hover":{cursor:"text"}},InputSubmit:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:me,height:"2vmin",padding:"1vmin",margin:"1.5vmin 1.5vmin 1.5vmin 0.75vmin",borderRadius:"1vmin","&:hover":{cursor:"pointer"},fontSize:Xe.small},Error:{backgroundColor:Ne,width:"90%",color:"white",fontSize:Xe.small,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"1vmin",padding:"1vmin 0vmin",marginBottom:"1vmin"}});var mo=function(e){var n=e.isOpen,t=e.header,r=e.onSubmit,c=e.placeholder,u=e.onClose,l=so(),s=Object(a.useState)(""),d=Object(i.a)(s,2),m=d[0],f=d[1],p=Object(a.useState)(!1),v=Object(i.a)(p,2),b=v[0],w=v[1];function g(){m.length>0?(r(m),u(),f("")):w(!0)}return o.a.createElement(Fa,{isClosed:!n,header:t,onClose:function(){u(),f("")}},o.a.createElement("div",{className:l.CMInputBounder},o.a.createElement("input",{className:l.CenterMenuInput,placeholder:c,value:m,onChange:function(e){f(e.target.value)},onKeyDown:function(e){switch(e.key){case"Enter":g();break;case"Escape":u()}},autoFocus:!0}),o.a.createElement(un,{onClick:function(){g()}},"confirm"),b?o.a.createElement("div",{className:l.Error},"please enter a name"):null))};function fo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{isOpen:e,toRenameID:n}}var po=function(){var e,n=Object(a.useState)(fo(!1)),t=Object(i.a)(n,2),r=t[0],c=r.isOpen,u=r.toRenameID,l=t[1];window.openModuleRenameMenu=function(e){l(fo(!0,e))};var s=Object(se.c)((function(e){return e.modules})),d=Object(se.b)();return o.a.createElement(mo,{header:"rename module",isOpen:c,onSubmit:function(e){d(function(e,n){return{type:"RENAME_MODULE",id:e,newName:n}}(u,e))},placeholder:null===(e=s[u])||void 0===e?void 0:e.name,onClose:function(){l(fo(!1))}})};function vo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;return{isOpen:e,placeholder:n,containerControl:a,parentModID:t}}var bo=function(){var e=Object(a.useState)(vo(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.placeholder,u=t.containerControl,l=t.parentModID,s=n[1];window.openControlRenameMenu=function(e,n,t){s(vo(!0,e,n,t))};var d=Object(se.b)();return o.a.createElement(mo,{header:"rename control",isOpen:r,onSubmit:function(e){var n=u,t=n.modID,a=n.controlID,o=n.actualModID;d(function(e,n,t,a,o){return{type:"RENAME_CONTAINER_CONTROL",name:e,parentModID:n,modID:t,controlID:a,actualModID:o}}(e,l,t,a,o)),window.flashNotification("green","control passthrough renamed")},placeholder:c,onClose:function(){return s(vo(!1))}})},wo=Object(u.a)({LeftBar:{width:nn.leftBarWidth,backgroundColor:Ke},LeftBarButton:{borderRadius:"0em",margin:"0em",backgroundColor:"transparent",borderColor:"transparent",borderWidth:"1px","&:hover":{borderColor:"transparent"}},RouterBounder:{alignItems:"center"},IconRouter:{width:nn.iconRouterWidth,height:nn.height,overflowY:"scroll",display:"grid",gridTemplateColumns:"repeat(3, auto)",gridAutoRows:"20vmin",gridAutoFlow:"row",placeItems:"center","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},SearchBar:{width:"80%",height:"1.5em",marginTop:"1.3em",marginBottom:".4em",fontSize:Xe.small,backgroundColor:Ve,color:qe,textAlign:"center",borderStyle:"none",borderRadius:".2em","&:focus":{outline:"none"}}});var go=function(e){var n=e.selectedGroup,t=e.setSG,a=wo();return o.a.createElement(Mn,{className:a.LeftBar},_o.filter((function(e){return window.usingElectron||e!==Po})).map((function(e,r){var c=e===n;return o.a.createElement(un,{className:a.LeftBarButton,key:r,style:{color:c?De:"white"},onClick:function(){t(e)}},e)})))},Oo=Object(u.a)({DrawerItem:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",borderRadius:"10px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},DrawerIcon:{backgroundColor:me,borderColor:me,borderStyle:"solid",width:Qe.item,height:Qe.item,borderRadius:"1.5vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",marginBottom:"1.5vmin","&:hover":{cursor:"pointer",borderColor:"white"}},DrawerItemText:{fontSize:Xe.small}});var ho=function(e){var n=e.fullName,t=e.shortName,a=e.moduleType,r=e.isFocussed,c=e.totNumModules,i=e.row,u=e.col,l=e.onClose,s=Oo(),d=Object(se.b)();function m(){window.addModule(Ht(0,c),t,window.fillContainerID,a,d,i,u),l()}return r&&(window.addSelectedSearchModule=m),o.a.createElement("div",{className:s.DrawerItem},o.a.createElement("div",{className:s.DrawerIcon,style:{backgroundColor:wt(a),borderColor:r?"white":me},onFocus:function(e){e.preventDefault(),console.log("focussing 2")},onClick:m,draggable:!0,onDragStart:function(e){e.persist(),e.dataTransfer.setData("type","ADD_MODULE"),e.dataTransfer.setData("id",Ht(0,c)),e.dataTransfer.setData("moduleType",a),e.dataTransfer.setData("name",t)},onKeyDown:function(e){switch(e.key){case"Enter":m()}}}),o.a.createElement("div",{className:s.DrawerItemText},n))};var Co=function(e){var n=e.totNumModules,t=e.moduleData,r=e.row,c=e.col,u=e.onClose;return o.a.createElement(a.Fragment,null,t.map((function(e,t){var a=Object(i.a)(e,3),l=a[0],s=a[1],d=a[2];return o.a.createElement(ho,{key:t,fullName:l,shortName:s,moduleType:d,totNumModules:n,row:r,col:c,onClose:u})})))},Do=[["gain","gain","GAIN"],["filter","filter","AUTOFILTER"],["kompressor","komp","KOMPRESSOR"],["signal delay","delay","SIGNAL_DELAY"],["stereo panner","pan","STEREO_PANNER"],["distortion","dist","DISTORTION"]],jo=[["file","file","MEDIA_ELEMENT"],["stream","stream","LINE_IN"],["oscillator","osc","OSCILLATOR"],["constant","const","CONSTANT"],["enveloped pad","env","ENVELOPED_TRIGGER"],["white noise","noise","WHITE_NOISE"]],Io=[["container","cntnr",b],["output","out","OUTPUT"],["analyzer","analyzer","ANALYZER"],["tuner","tuner","TUNER"]],Eo=Do.concat(jo).concat(Io);var yo=function(e){var n=e.moduleName,t=e.totNumberModules,a=e.totNumberConnections,r=e.onClose,c=e.row,i=e.col,u=e.isFocussed,l=Oo(),s=Object(se.b)();function d(){window.containerSaveService.get(n).then((function(e){var n=e.containerID,o=e.modules,r=e.connections;Vt(s,o,r,t,a,window.fillContainerID,n,c,i)})),r()}return u&&(window.addSelectedSearchModule=d),o.a.createElement("div",{className:l.DrawerItem},o.a.createElement("div",{className:l.DrawerIcon,style:{backgroundColor:wt(b),borderColor:u?"white":me},onClick:d,onContextMenu:function(e){e.preventDefault(),e.persist(),window.openSDBModuleContextMenu(e,n)}}),o.a.createElement("div",{className:l.DrawerItemText},n))};var No=function(e){var n=e.spaceDBModules,t=e.totNumModules,r=e.totNumConnections,c=e.onClose,i=e.row,u=e.col;return Object(a.useEffect)((function(){window.refreshSpaceDBModules()}),[]),o.a.createElement(a.Fragment,null,n.map((function(e,n){return o.a.createElement(yo,{moduleName:e,key:n,totNumberModules:t,totNumberConnections:r,onClose:c,row:i,col:u})})))};var xo=function(e){var n=e.name,t=e.totNumModules,a=e.totNumConnections,r=e.row,c=e.col,i=e.onClose,u=e.isFocussed,l=Oo();function s(){return d.apply(this,arguments)}function d(){return(d=Object(ua.a)(ia.a.mark((function e(){var o,u,l,s;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(window.moduleDirectoryHandle,n);case 2:o=e.sent,u=o.containerID,l=o.modules,s=o.connections,Vt(m,l,s,t,a,window.fillContainerID,u,r,c),i();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u&&(window.addSelectedSearchModule=s);var m=Object(se.b)();return o.a.createElement("div",{className:l.DrawerItem},o.a.createElement("div",{className:l.DrawerIcon,style:{backgroundColor:wt(b),borderColor:u?"white":me},onClick:s}),o.a.createElement("div",{className:l.DrawerItemText},n))};var So=function(e){var n=e.query,t=e.spaceDBModules,r=e.totNumModules,c=e.totNumConnections,u=e.onClose,l=e.row,s=e.col,d=n.toUpperCase(),m=t.filter((function(e){return e.toUpperCase().slice(0,d.length)===d})),f=Eo.filter((function(e){return Object(i.a)(e,2)[0].toUpperCase().slice(0,d.length)===d})),p=window.fileModuleSaveNames.filter((function(e){return e.toUpperCase().slice(0,d.length)===d}));return o.a.createElement(a.Fragment,null,m.map((function(e,n){return o.a.createElement(yo,{key:e,moduleName:e,totNumberModules:r,totNumberConnections:c,onClose:u,row:l,col:s,isFocussed:0===n})})),p.map((function(e,n){return o.a.createElement(xo,{key:e,name:e,totNumModules:r,totNumConnections:c,onClose:u,row:l,col:s,isFocussed:0===m.length&&0===n})})),f.map((function(e,n){var t=Object(i.a)(e,3),a=t[0],c=t[1],d=t[2];return o.a.createElement(ho,{isFocussed:0===m.length&&0===p.length&&0===n,key:n,fullName:a,shortName:c,moduleType:d,totNumModules:r,row:l,col:s,onClose:u})})))};window.fileModuleSaveNames=[];var Mo=function(e){var n=e.totNumModules,t=e.totNumConnections,r=e.row,c=e.col,u=e.onClose,l=Object(a.useState)(window.fileModuleSaveNames),s=Object(i.a)(l,2),d=s[0],m=s[1];return o.a.createElement(a.Fragment,null,window.moduleDirectoryHandle?0===d.length?o.a.createElement(a.Fragment,null,o.a.createElement(un,{fontSize:Xe.small,notClickable:!0},"no modules in this directory. save modules by right clicking a custom container, and selecting save to file."),o.a.createElement(un,{onClick:Object(ua.a)(ia.a.mark((function e(){return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showDirectoryPicker();case 2:return window.moduleDirectoryHandle=e.sent,e.next=5,Oa(window.moduleDirectoryHandle);case 5:window.fileModuleSaveNames=e.sent,m(window.fileModuleSaveNames);case 7:case"end":return e.stop()}}),e)})))},"change directory")):d.map((function(e,a){return o.a.createElement(xo,{key:a,name:e,onClose:u,totNumModules:n,totNumConnections:t,row:r,col:c})})):o.a.createElement(un,{onClick:Object(ua.a)(ia.a.mark((function e(){return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showDirectoryPicker();case 2:return window.moduleDirectoryHandle=e.sent,e.next=5,Oa(window.moduleDirectoryHandle);case 5:window.fileModuleSaveNames=e.sent,m(window.fileModuleSaveNames);case 7:case"end":return e.stop()}}),e)})))},"select module directory"))};var ko,To=function(e){var n=e.selectedGroup,t=e.row,a=e.col,r=e.onClose,c=e.query,i=e.spaceDBModules,u=Object(se.c)((function(e){return Object.keys(e.modules).length})),l=Object(se.c)((function(e){return Object.keys(e.connections).length})),s=wo();return o.a.createElement("div",{className:s.IconRouter},o.a.createElement(Co,{totNumModules:u,moduleData:n===Ao?Do:n===Fo?jo:n===Bo?Io:[],row:t,col:a,onClose:r}),n!==Po?null:o.a.createElement(No,{spaceDBModules:i,totNumModules:u,totNumConnections:l,onClose:r,row:t,col:a}),n!==Lo?null:o.a.createElement(Mo,{onClose:r,totNumModules:u,totNumConnections:l,row:t,col:a}),n!==zo?null:o.a.createElement(So,{query:c,spaceDBModules:i,totNumModules:u,totNumConnections:l,onClose:r,row:t,col:a}))};var Ro=function(e){var n=e.selectedGroup,t=e.setSG,a=e.setQuery,r=e.searchRef,c=e.onClose,i=wo();return n!==zo&&(ko=n),o.a.createElement("input",{className:i.SearchBar,ref:r,onChange:function(e){0===e.target.value.length?(t(ko),window.addSelectedSearchModule=function(){}):(a(e.target.value),t(zo))},onKeyDown:function(e){switch(e.key){case"Escape":c();break;case"Enter":window.addSelectedSearchModule()}},placeholder:"search"})},Ao="effects",Fo="sources",Bo="utility",Po="spaceDB",Lo="local file",zo="search",_o=[Ao,Fo,Bo,Po,Lo];function Go(e,n,t){return{isOpen:e,row:n,col:t}}var Uo=function(){var e=Object(a.useState)(Go(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.row,u=t.col,d=n[1],m=Object(a.useRef)(null);window.openAddModuleMenu=function(e,n){C(""),d(Go(!0,e,n)),m.current&&(m.current.value="",m.current.focus())};var f=function(){d(Go(!1))},p=Object(a.useState)(Ao),v=Object(i.a)(p,2),b=v[0],w=v[1],g=Object(a.useState)(""),O=Object(i.a)(g,2),h=O[0],C=O[1],D=Object(a.useState)([]),j=Object(i.a)(D,2),I=j[0],E=j[1];window.refreshSpaceDBModules=function(){window.containerSaveService.find().then((function(e){E(e)}))};var y=Object(Dn.b)({opacity:r?1:0,config:{tension:270}});Object(a.useEffect)((function(){window.usingElectron&&window.refreshSpaceDBModules()}),[]);var N=wo();return o.a.createElement(Fa,{header:"add module",onClose:f,bounderStyle:Object.assign({},y,{zIndex:r?s:l-1})},o.a.createElement(hn,null,o.a.createElement(Mn,{className:N.RouterBounder},o.a.createElement(Ro,{selectedGroup:b,setSG:w,setQuery:C,searchRef:m,onClose:f}),o.a.createElement(go,{selectedGroup:b,setSG:w})),o.a.createElement(To,{selectedGroup:b,row:c,col:u,onClose:f,query:h,spaceDBModules:I})))},Wo=function(e,n){var t,a,o=n.id,r=n.name,c=n.moduleType,i=n.controlData,u=n.row,l=n.col,s=n.parentID,d=n.connectionInputs,m=n.connectionOutputs;switch(c){case b:return Object.assign({},e,(t={},Object(p.a)(t,o,{id:o,name:r,row:u,col:l,parentID:s,moduleType:c,controlData:i,connectionInputs:d,connectionOutputs:m,inputs:[],outputs:[],containerControls:[],toContainerControls:[],childModules:[],isBaseContainer:!1,isContainerInput:!1,isContainerOutput:!1}),Object(p.a)(t,s,Object(v.a)(Object(v.a)({},e[s]),{},{childModules:[].concat(Object(Q.a)(e[s].childModules),[o])})),t));default:return Object.assign({},e,(a={},Object(p.a)(a,o,{id:o,name:r,row:u,col:l,parentID:s,moduleType:c,controlData:i,connectionInputs:d,connectionOutputs:m,toContainerControls:[],isContainerInput:!1,isContainerOutput:!1,inputs:[],outputs:[]}),Object(p.a)(a,s,Object(v.a)(Object(v.a)({},e[s]),{},{childModules:[].concat(Object(Q.a)(e[s].childModules),[o])})),a))}},Ho=function(e,n){var t=n.id,a=n.newRow,o=n.newCol;return Object.assign({},e,Object(p.a)({},t,Object(v.a)(Object(v.a)({},e[t]),{},{row:a,col:o})))},Ko=function(e,n){var t=n.id,a=n.newName;return Object.assign({},e,Object(p.a)({},t,Object(v.a)(Object(v.a)({},e[t]),{},{name:a})))},Vo=function(e,n){var t,a=n.id,o=e[a].parentID;return Object.assign({},e,(t={},Object(p.a)(t,a,Object(v.a)(Object(v.a)({},e[a]),{},{isContainerInput:!0})),Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{connectionInputs:[].concat(Object(Q.a)(e[o].connectionInputs),[a])})),t))},qo=function(e,n){var t,a=n.id,o=e[a].parentID;return Object.assign({},e,(t={},Object(p.a)(t,a,Object(v.a)(Object(v.a)({},e[a]),{},{isContainerInput:!1})),Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{connectionInputs:e[o].connectionInputs.filter((function(e){return e!==a}))})),t))},Yo=function(e,n){var t,a=n.id,o=e[a].parentID;return Object.assign({},e,(t={},Object(p.a)(t,a,Object(v.a)(Object(v.a)({},e[a]),{},{isContainerOutput:!0})),Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{connectionOutputs:[].concat(Object(Q.a)(e[o].connectionOutputs),[a])})),t))},Qo=function(e,n){var t,a=n.id,o=e[a].parentID;return Object.assign({},e,(t={},Object(p.a)(t,a,Object(v.a)(Object(v.a)({},e[a]),{},{isContainerInput:!1})),Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{connectionOutputs:e[o].connectionOutputs.filter((function(e){return e!==a}))})),t))},Jo=function(e,n){var t,a,o=n.modID,r=n.controlID,c=n.actualModID,i=n.name,u=e[o].parentID;return e[o].moduleType===b?Object.assign({},e,(t={},Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{containerControls:e[o].containerControls.map((function(e){return e.controlID!==r||e.actualModID!==c?e:Object(v.a)(Object(v.a)({},e),{},{markedToContainer:!0})}))})),Object(p.a)(t,u,Object(v.a)(Object(v.a)({},e[u]),{},{containerControls:[].concat(Object(Q.a)(e[u].containerControls),[{modID:o,controlID:r,actualModID:c,name:i,markedToContainer:!1}])})),t)):Object.assign({},e,(a={},Object(p.a)(a,c,Object(v.a)(Object(v.a)({},e[c]),{},{controlData:Object(v.a)(Object(v.a)({},e[c].controlData),{},Object(p.a)({},r,Object(v.a)(Object(v.a)({},e[c].controlData[r]),{},{markedToContainer:!0})))})),Object(p.a)(a,u,Object(v.a)(Object(v.a)({},e[u]),{},{containerControls:[].concat(Object(Q.a)(e[u].containerControls),[{modID:o,controlID:r,actualModID:c,name:i,markedToContainer:!1}])})),a))},Xo=function(e,n){var t,a,o=n.modID,r=n.controlID,c=n.actualModID,i=e[o].parentID;return e[o].moduleType===b?Object.assign({},e,(t={},Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{containerControls:e[o].containerControls.map((function(e){return e.controlID!==r||e.actualModID!==c?e:Object(v.a)(Object(v.a)({},e),{},{markedToContainer:!1})}))})),Object(p.a)(t,i,Object(v.a)(Object(v.a)({},e[i]),{},{containerControls:e[i].containerControls.filter((function(e){return e.modID!==o||e.controlID!==r||e.actualModID!==c}))})),t)):Object.assign({},e,(a={},Object(p.a)(a,c,Object(v.a)(Object(v.a)({},e[c]),{},{controlData:Object(v.a)(Object(v.a)({},e[c].controlData),{},Object(p.a)({},r,Object(v.a)(Object(v.a)({},e[c].controlData[r]),{},{markedToContainer:!1})))})),Object(p.a)(a,i,Object(v.a)(Object(v.a)({},e[i]),{},{containerControls:e[i].containerControls.filter((function(e){return e.modID!==o||e.controlID!==r||e.actualModID!==c}))})),a))},Zo=function(e,n){var t=n.name,a=n.parentModID,o=(n.modID,n.controlID),r=n.actualModID,c=e[a];return Object.assign({},e,Object(p.a)({},a,Object(v.a)(Object(v.a)({},c),{},{containerControls:c.containerControls.map((function(e){return e.controlID!==o||e.actualModID!==r?e:Object(v.a)(Object(v.a)({},e),{},{name:t})}))})))},$o=function(e,n){var t=n.modID,a=n.controlID,o=n.newValue;return Object.assign({},e,Object(p.a)({},t,Object(v.a)(Object(v.a)({},e[t]),{},{controlData:Object(v.a)(Object(v.a)({},e[t].controlData),{},Object(p.a)({},a,Object(v.a)(Object(v.a)({},e[t].controlData[a]),{},{value:o})))})))},er=function(e,n){var t=n.modID,a=n.controlID,o=n.newRange;return Object.assign({},e,Object(p.a)({},t,Object(v.a)(Object(v.a)({},e[t]),{},{controlData:Object(v.a)(Object(v.a)({},e[t].controlData),{},Object(p.a)({},a,Object(v.a)(Object(v.a)({},e[t].controlData[a]),{},{range:o,value:et(e[t].controlData[a].value,o)})))})))},nr={project:{id:"project",name:"project",row:0,col:0,moduleType:b,controlData:{open:{controlType:"BUTTON",paramID:"n/a"}},connectionInputs:[],connectionOutputs:[],inputs:[],outputs:[],parentID:null,childModules:[],isBaseContainer:!0,isContainerInput:!1,isContainerOutput:!1,containerControls:[]}},tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr,n=arguments.length>1?arguments[1]:void 0;if(!n)return e;switch(n.type){case"ADD_MODULE":return Wo(e,n);case"MOVE_MODULE":return Ho(e,n);case"RENAME_MODULE":return Ko(e,n);case"MARK_CONTAINER_INPUT":return Vo(e,n);case"UNMARK_CONTAINER_INPUT":return qo(e,n);case"MARK_CONTAINER_OUTPUT":return Yo(e,n);case"UNMARK_CONTAINER_OUTPUT":return Qo(e,n);case"MARK_CONTAINER_CONTROL":return Jo(e,n);case"UNMARK_CONTAINER_CONTROL":return Xo(e,n);case"UPDATE_CONTROL_DATA":return $o(e,n);case"UPDATE_CONTROL_RANGE":return er(e,n);case"RENAME_CONTAINER_CONTROL":return Zo(e,n);default:return e}},ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"project",n=arguments.length>1?arguments[1]:void 0;if(!n)return e;switch(n.type){case"DOWN_1_BASE":case"CHANGE_BASE":return n.newID;default:return e}},or=function(e,n,t){var a,o=t.fromID,r=t.toID,c=t.param,i=t.outputIndex,u=t.inputIndex,l=t.containerOutputChildID,s=t.containerInputChildID,d=Ht(0,Object.keys(n).length);return{newModules:Object.assign({},e,(a={},Object(p.a)(a,o,Object(v.a)(Object(v.a)({},e[o]),{},{outputs:[].concat(Object(Q.a)(e[o].outputs),[d])})),Object(p.a)(a,r,Object(v.a)(Object(v.a)({},e[r]),{},{inputs:[].concat(Object(Q.a)(e[r].inputs),[d])})),a)),newConnections:Object(v.a)(Object(v.a)({},n),{},Object(p.a)({},d,{connectionID:d,fromID:o,toID:r,param:c,outputIndex:i,inputIndex:u,actualOutputID:l,actualInputID:s}))}},rr=function(e,n,t){var a,o=t.connectionID,r=n[o],c=r.fromID,i=r.toID,u=r.actualOutputID,l=r.actualInputID;return{newModules:Object.assign({},e,(a={},Object(p.a)(a,c,Object(v.a)(Object(v.a)({},e[c]),{},{outputs:e[c].outputs.filter((function(e){return e!==o}))})),Object(p.a)(a,i,Object(v.a)(Object(v.a)({},e[i]),{},{inputs:e[i].inputs.filter((function(e){return e!==o}))})),a),u?Object(p.a)({},u,Object(v.a)(Object(v.a)({},e[u]),{},{outputs:e[u].outputs.filter((function(e){return e!==o}))})):{},l?Object(p.a)({},l,Object(v.a)(Object(v.a)({},e[l]),{},{inputs:e[c].outputs.filter((function(e){return e!==o}))})):{}),newConnections:Dt(n,[o])}},cr=function(e,n,t){var a=t.id,o=e[a].parentID,r=e[a].moduleType===b?function(e,n){return[e].concat(Object(Q.a)(Lt(e,n)))}(a,e):[a],c=e[a].moduleType===b?[].concat(Object(Q.a)(e[a].inputs),Object(Q.a)(e[a].outputs),Object(Q.a)(zt(n,r))):[].concat(Object(Q.a)(e[a].inputs),Object(Q.a)(e[a].outputs)),i=Dt(e,r);return{newModules:Object.assign({},Object.fromEntries(Object.entries(i).map((function(n){return[n[0],Object(v.a)(Object(v.a)({},n[1]),{},{inputs:n[1].inputs.filter((function(n){return!Xn(n,[].concat(Object(Q.a)(e[a].inputs),Object(Q.a)(e[a].outputs)))})),outputs:n[1].outputs.filter((function(n){return!Xn(n,[].concat(Object(Q.a)(e[a].inputs),Object(Q.a)(e[a].outputs)))}))})]}))),Object(p.a)({},o,Object(v.a)(Object(v.a)({},e[o]),{},{childModules:e[o].childModules.filter((function(e){return e!==a})),connectionInputs:e[o].connectionInputs.filter((function(e){return e!==a})),connectionOutputs:e[o].connectionOutputs.filter((function(e){return e!==a})),containerControls:e[o].containerControls.filter((function(e){return e.modID!==a}))}))),newConnections:Dt(n,c)}},ir=function(e,n,t){var a,o=t.containerID,r=t.newModules,c=t.newConnections,i=t.row,u=t.col,l=t.parentID;return{newModules:Object.assign({},e,r,(a={},Object(p.a)(a,l,Object(v.a)(Object(v.a)({},e[l]),{},{childModules:[].concat(Object(Q.a)(e[l].childModules),[o])})),Object(p.a)(a,o,Object(v.a)(Object(v.a)({},r[o]),{},{parentID:l,row:i,col:u,isBaseContainer:!1})),a)),newConnections:Object.assign({},n,c)}},ur=function(e,n,t){switch(t.type){case"ADD_CONNECTION":return or(e,n,t);case"REMOVE_CONNECTION":return rr(e,n,t);case"REMOVE_MODULE":return cr(e,n,t);case"MERGE_CONTAINER":return ir(e,n,t);default:return{newModules:e,newConnections:n}}};function lr(){return{modules:tr(),connections:{},baseContainerID:ar()}}var sr=lr();function dr(e,n){return"ADD_CONNECTION"===n.type||"REMOVE_CONNECTION"===n.type||"REMOVE_MODULE"===n.type||"MERGE_CONTAINER"===n.type?ur(e.modules,e.connections,n):{newModules:tr(e.modules,n),newConnections:e.connections}}var mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr,n=arguments.length>1?arguments[1]:void 0;if("RESTORE_FROM_STATE"===n.type){var t=n.state;return Object.assign(t,t.connections?{}:{connections:{}})}var a=dr(e,n),o=a.newModules,r=a.newConnections;return{modules:o,connections:r,baseContainerID:ar(e.baseContainerID,n)}};function fr(e,n){var t=lr();ta(n,t),e(N(t)),window.flashNotification(Ye,"created blank project"),window.saveFileHandle=void 0,window.reRenderFileMenu()}var pr=function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],r=n[1];window.openConfirmBlankProjectMenu=function(){r(!0)};var c=function(){r(!1)},u=Object(se.c)((function(e){return e})),l=Object(se.b)();return o.a.createElement(Fa,{isClosed:!t,onClose:c},o.a.createElement("div",{style:{fontSize:Xe.medium,textAlign:"center"}}," would you like to save the current project before closing? "),o.a.createElement(hn,null,o.a.createElement(un,{onClick:function(){fr(l,u.connections),c()}},"no"),o.a.createElement(un,{onClick:Object(ua.a)(ia.a.mark((function e(){return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.saveFileHandle){e.next=5;break}return e.next=3,sa(window.saveFileHandle,u);case 3:e.next=7;break;case 5:return e.next=7,pa(u);case 7:fr(l,u.connections),c();case 9:case"end":return e.stop()}}),e)})))},"yes")))};var vr=function(){return o.a.createElement(a.Fragment,null,o.a.createElement(Uo,null),o.a.createElement(Ka,null),o.a.createElement(po,null),o.a.createElement(bo,null),o.a.createElement(Ya,null),o.a.createElement(lo,null),o.a.createElement(Xa,null),o.a.createElement(io,null),o.a.createElement($a,null),o.a.createElement(ro,null),o.a.createElement(pr,null))};function br(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{isOpen:e,color:n,text:t}}var wr=Object(u.a)({Notification:{position:"absolute",top:"10vh",left:"50vw",transform:"translate(-50%, 0%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2vmin",borderRadius:"4vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",zIndex:1e3,fontSize:Xe.small}});var gr=function(){var e=Object(a.useState)(br(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.color,u=t.text,l=n[1],s=Object(a.useState)(!1),d=Object(i.a)(s,2),m=d[0],f=d[1],p=wr();window.flashNotification=function(e,n){l(br(!0,e,n)),f(!0),window.setTimeout((function(){f(!1)}),2500),window.setTimeout((function(){l(br(!1))}),3200)};var v=Object(Dn.b)({opacity:m?1:0});return o.a.createElement(a.Fragment,null,r?o.a.createElement(Dn.a.div,{className:p.Notification,style:Object.assign({backgroundColor:c},v)},u):null)};window.fillContainerID="project",window.audioModules={},ee(),ue(),le();var Or=function(){var e=f(),n=Object(a.useState)(ne(!1)),t=Object(i.a)(n,2),r=t[0],c=t[1];return window.openPointerLayer=function(e,n,t){c(ne(!0,e,n,t))},o.a.createElement("div",{className:e.Bounder},o.a.createElement("div",{className:e.ModuleViewBounder},o.a.createElement($t,null)),o.a.createElement(ka,null),o.a.createElement(Ra,null),r.isOpen?o.a.createElement(ae,{pointerLayerData:r,resetPointerLayerData:function(){c(ne(!1))}}):null,o.a.createElement(vr,null),o.a.createElement(gr,null),o.a.createElement(Hn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var hr=t(48),Cr=t(82),Dr=Object(hr.createStore)(mr,Object(Cr.composeWithDevTools)());c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(se.a,{store:Dr},o.a.createElement(Or,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,n,t){e.exports=t.p+"static/media/trash.9d2c8d42.svg"},79:function(e,n,t){e.exports=t.p+"static/media/settings.04e848f8.svg"},84:function(e,n,t){e.exports=t(130)},89:function(e,n,t){}},[[84,1,2]]]);
//# sourceMappingURL=main.0a96820c.chunk.js.map