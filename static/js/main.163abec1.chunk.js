(this["webpackJsonpspace-machine"]=this["webpackJsonpspace-machine"]||[]).push([[0],{22:function(e,t,n){e.exports=n(34)},27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(17),i=n.n(r),c=(n(27),n(7)),l="#282c34",u="black",d="#00347d",s="#001b40",m="black",p="black",f="#1b1e24",w="#37538a",g="white",h="#007ab3",b="white",v="black",O="#cc0000",I="#cc0000",y="red",D={width:"21vw",toggleWidth:"1.5vmin",item:"10vmin"},E={width:"20vw"},C={iconGrid:"12vmin",gutterGrid:"6vmin",icon:"9vmin"},j={large:"calc(25px + 2.8vmin)",medium:"calc(20px + 2.4vmin)",small:"calc(12px + 1.4vmin)",xsmall:"calc(8px + 1vmin)"},N={size:"3vmin",borderRadius:"1.5vmin"},x=Object(c.a)({Bounder:{backgroundColor:l,width:"100vw",height:"100vh",display:"flex",fontSize:"calc(20px + 2vmin)",color:"white",position:"absolute",top:"0px",left:"0px",userSelect:"none",zIndex:"-1",overflow:"hidden"},ModuleViewBounder:{minWidth:"60vw",height:"100vh",display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",zIndex:0,overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"0px"}}}),T=n(4),S=Object(c.a)({DrawerBounder:{backgroundColor:u,height:"100vh",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",color:"white",position:"absolute",top:"0px",userSelect:"none",zIndex:"10"},Drawer:{height:"100vh",width:D.width,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},DrawerHeader:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:D.width,overflowX:"scroll","&::-webkit-scrollbar":{height:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerHeaderItem:{fontSize:j.large,padding:"1vmin 1.5vmin",color:g,textDecoration:"none",whiteSpace:"nowrap","&:hover":{cursor:"pointer"}},ItemRouter:{display:"flex",flexFlow:"row wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start",width:D.width,height:"calc(100% - 60px)",overflowY:"scroll","&::-webkit-scrollbar":{width:"1px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerItem:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",borderRadius:"10px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",margin:"4vmin"},DrawerIcon:{backgroundColor:l,borderColor:l,borderStyle:"solid",width:D.item,height:D.item,borderRadius:"1.5vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",marginBottom:"1.5vmin","&:hover":{cursor:"pointer",borderColor:"white"}},DrawerItemText:{fontSize:j.small},Toggle:{backgroundColor:d,width:D.toggleWidth,height:"100%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"}},ToggleLine:{backgroundColor:s,borderRadius:"4px",width:"0.75vmin",height:"80px"}}),k=n(10);var M=function(e){var t=e.className,n=e.text,a=e.onClick,r={color:e.selectedRoute===n?h:g};return o.a.createElement("div",{className:t,onClick:a,style:r},n)},R=0;var A=function(e){var t=e.fullName,n=e.id,a=e.moduleType,r=S();return o.a.createElement("div",{className:r.DrawerItem},o.a.createElement("div",{className:r.DrawerIcon,draggable:!0,onDragStart:function(e){e.dataTransfer.setData("id","".concat(n," ").concat(R)),e.dataTransfer.setData("moduleType",a),e.dataTransfer.setData("name",n),window.setFillIsExpanded(!0),R+=1},onDragEnd:function(){window.setFillIsExpanded(!1)}}),o.a.createElement("div",{className:r.DrawerItemText},t))},F="VALUE";var P=function(){return o.a.createElement(a.Fragment,null,o.a.createElement(A,{fullName:"container",id:"cntnr",moduleType:"CONTAINER"}),o.a.createElement(A,{fullName:"file",id:"local",moduleType:"MEDIA_ELEMENT"}),o.a.createElement(A,{fullName:"stream",id:"stream",moduleType:"LINE_IN"}),o.a.createElement(A,{fullName:"gain",id:"gain",moduleType:"GAIN"}),o.a.createElement(A,{fullName:"output",id:"out",moduleType:"OUTPUT"}),o.a.createElement(A,{fullName:"oscillator",id:"osc",moduleType:"OSCILLATOR"}),o.a.createElement(A,{fullName:"auto filter",id:"filter",moduleType:"AUTOFILTER"}),o.a.createElement(A,{fullName:"kompressor",id:"komp",moduleType:"KOMPRESSOR"}),o.a.createElement(A,{fullName:"stereo panner",id:"pan",moduleType:"STEREO_PANNER"}),o.a.createElement(A,{fullName:"signal delay",id:"dly",moduleType:"SIGNAL_DELAY"}),o.a.createElement(A,{fullName:"constant",id:"const",moduleType:"CONSTANT"}))};var _=function(){var e=S(),t=Object(a.useState)(!0),n=Object(T.a)(t,2),r=n[0],i=n[1],c="-"+D.width,l=Object(k.b)({right:r?"0vw":c,config:{tension:220,clamp:!0}}),u=Object(a.useState)("base modules"),d=Object(T.a)(u,2),s=d[0],m=d[1];return o.a.createElement(k.a.div,{className:e.DrawerBounder,style:l},o.a.createElement("div",{className:e.Toggle,onClick:function(){i(!r)}},o.a.createElement("div",{className:e.ToggleLine,onClick:function(){i(!r)}})),o.a.createElement("div",{className:e.Drawer},o.a.createElement(pe,{className:e.DrawerHeader},o.a.createElement(M,{className:e.DrawerHeaderItem,text:"base modules",onClick:function(){m("base modules")},selectedRoute:s}),o.a.createElement(M,{className:e.DrawerHeaderItem,text:"higher order",onClick:function(){m("higher order")},selectedRoute:s}),o.a.createElement(M,{className:e.DrawerHeaderItem,text:"settings",onClick:function(){m("settings")},selectedRoute:s})),o.a.createElement("div",{className:e.ItemRouter},"base modules"===s?o.a.createElement(P,null):"higher order"===s||"settings"===s?o.a.createElement("div",null):null)))},L=Object(c.a)({LeftDrawer:{backgroundColor:m,height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",fontSize:"calc(20px + 2vmin)",color:"white",userSelect:"none",overflow:"hidden",whiteSpace:"nowrap",zIndex:"20"},TopItems:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%",maxHeight:"50%",overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},HeaderScrollBounder:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderColor:"white",borderStyle:"none none solid none","&::-webkit-scrollbar":{height:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerHeader:{width:"100%",height:"1em",whiteSpace:"nowrap",backgroundColor:"transparent",color:"white",fontSize:j.large,padding:"1vmin 0vmin",borderWidth:"1px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",justifyText:"center",resize:"none",overflow:"hidden","&:hover":{cursor:"pointer"}},MenuHeader:{fontSize:j.medium,borderStyle:"none none solid none",margin:"1vmin",width:"90%"},Connection:{fontSize:j.small,backgroundColor:f,margin:".5vmin 3vmin",borderRadius:"1vmin",borderColor:"transparent",borderStyle:"solid",minWidth:"30%",padding:"1vmin",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{cursor:"pointer",borderColor:O},boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},ControlBounder:{display:"flex",flexFlow:"row wrap",width:"100%",justifyContent:"space-around",alignItems:"center",padding:"1vmin",fontSize:j.small},ControlMenu:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},BottomItems:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%",maxHeight:"50%",overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}}}),U=n(5),H=Object(c.a)({ControlTypeSelect:{minWidth:"9vmin",maxWidth:"5em",margin:"1vmin",fontSize:j.small},ControlInput:{minWidth:"9vmin",maxWidth:"5em",margin:"1vmin",fontSize:j.small},ControlMenu:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"}});var B=function(e){var t=e.controlID,n=e.setFunc,a=H();return o.a.createElement("div",{className:a.ControlMenu},o.a.createElement("label",{style:{minWidth:"50%"},htmlFor:window.highlightedID+t},o.a.createElement(be,{style:{borderColor:O}},"choose file")),o.a.createElement("input",{style:{width:0,height:0,opacity:0},type:"file",id:window.highlightedID+t,onChange:function(e){var t=e.target.files[0];n(URL.createObjectURL(t)),window.audioTags[window.highlightedID].srcName=t.name,window.reRenderAudioTags(),window.reRenderLeftDrawer()}}),o.a.createElement("p",{style:{fontSize:j.xsmall,textAlign:"center",whiteSpace:"normal",justifyContent:"center",width:"100%",overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"}},window.audioTags[window.highlightedID].srcName))};var z=function(e){var t=e.setFunc,n=e.audioModule,r=e.value,i=e.selectedModule,c=H(),l=n.audioNode;return o.a.createElement(a.Fragment,null,o.a.createElement("label",{htmlFor:"type"},"choose type"),o.a.createElement("select",{className:c.ControlTypeSelect,name:"type",id:"type",onChange:function(e){t(e.target.value),window.reRenderLeftDrawer()},value:r||l.type},n.typeTypes.map((function(e){return o.a.createElement("option",{value:e,key:i.id+e},e)}))))};var W=function(e){var t=e.controlID,n=e.value,r=e.audioModule,i=e.range,c=e.paramID,l=e.setFunc,u=r.audioNode,d=H();return o.a.createElement(a.Fragment,null,o.a.createElement("div",null,t),o.a.createElement("input",{className:d.ControlInput,type:"number",value:"number"===typeof n?n:u[c].value,min:i?i[0]:void 0,max:i?i[1]:void 0,step:i&&i[2]?i[2]:void 0,onChange:function(e){l(e.target.value),window.reRenderLeftDrawer()}}))};var q=function(e){var t=e.setFunc,n=e.controlID;return o.a.createElement(be,{style:{borderColor:O,width:"50%"},onClick:function(){t("")}},n)};var G=function(e){var t=e.controlID,n=e.setFunc;return o.a.createElement(Le,{text:t,initState:!1,onSwitch:function(e){n(e?"true":"false")}})};function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;0===n.length?e.audioNode.connect(t.audioNode,a,o):t.audioNode[n]?e.audioNode.connect(t.audioNode[n],a):alert("param does not exist")}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;0===n.length?"number"===typeof a?e.audioNode.disconnect(t.audioNode,a):e.audioNode.disconnect(t.audioNode):t.audioNode[n]?"number"===typeof a?e.audioNode.disconnect(t.audioNode[n],a):e.audioNode.disconnect(t.audioNode[n]):alert("param does not exist")}var V=function(e,t,n,a,o,r,i,c){return{type:"ADD_MODULE",moduleType:n,id:e,name:t,row:o,col:r,parentID:a,connectionInputs:i,connectionOutputs:c}},Q=function(e,t,n){return{type:"MOVE_MODULE",id:e,newRow:t,newCol:n}},X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"ADD_CONNECTION",fromID:e,toID:t,param:n}},J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"REMOVE_CONNECTION",fromID:e,toID:t,param:n}};var $=function(e){var t=e.selectedModule,n=e.audioModule,a=window.audioModules,r=Object(U.b)();return o.a.createElement(be,{style:{borderColor:O,width:"50%",fontSize:j.small},onClick:function(){t.inputs.forEach((function(e){K(a[e[0]],n,e[1]),r(J(e[0],t.id,e[1]))})),t.outputs.forEach((function(e){K(n,a[e[0]],e[1]),r(J(t.id,e[0],e[1]))})),r({type:"REMOVE_MODULE",id:window.highlightedID}),window.setLeftDrawerOpen(!1),window.highlightedID=""}},"delete")};var Z=function(e){var t=e.selectedModule,n=e.modules,r=L(),i=Object(U.b)(),c=window.audioModules;return o.a.createElement(a.Fragment,null,t?0===t.inputs.length?null:o.a.createElement("div",{className:r.MenuHeader},"inputs"):null,t?t.inputs.map((function(e,a){var l=n[e[0]].name;return o.a.createElement("div",{className:r.Connection,key:e[0]+a,onClick:function(){i(J(e[0],t.id,e[1])),K(c[e[0]],c[t.id],e[1])}},0===e[1].length?l:"".concat(l," - ").concat(e[1]))})):null,t?0===t.outputs.length?null:o.a.createElement("div",{className:r.MenuHeader},"outputs"):null,t?t.outputs.map((function(e,a){var l=n[e[0]].name;return o.a.createElement("div",{className:r.Connection,key:e[0]+a,onClick:function(){i(J(t.id,e[0],e[1])),K(c[t.id],c[e[0]],e[1])}},0===e[1].length?l:"".concat(l," - ").concat(e[1]))})):null)},ee={fontSize:j.xsmall,padding:"1vmin"};var te=function(e){var t=e.baseContainerID,n=e.selectedModule,r=Object(U.b)();return n?o.a.createElement(a.Fragment,null,window.fillContainerID===t||0===n.connectionInputs.length?null:o.a.createElement(Le,{style:ee,key:n.id+"inputSwitch",text:"mark as container input",initState:n.isContainerInput,onSwitch:function(e){r(e?{type:"MARK_CONTAINER_INPUT",id:window.highlightedID}:function(e){return{type:"UNMARK_CONTAINER_INPUT",id:e}}(window.highlightedID))}}),window.fillContainerID===t||0===n.connectionOutputs.length?null:o.a.createElement(Le,{style:ee,key:n.id+"outputSwitch",text:"mark as container output",initState:n.isContainerOutput,onSwitch:function(e){r(e?{type:"MARK_CONTAINER_OUTPUT",id:window.highlightedID}:function(e){return{type:"UNMARK_CONTAINER_OUTPUT",id:e}}(window.highlightedID))}})):null};var ne=function(){var e=L(),t=Object(a.useState)(!1),n=Object(T.a)(t,2),r=n[0],i=n[1];window.setLeftDrawerOpen=i;var c=Object(k.b)({width:r?E.width:"0vw",config:{tension:300,velocity:10,clamp:!0}}),l=Object(a.useState)(!1),u=Object(T.a)(l,2),d=u[0],s=u[1],m=Object(U.c)((function(e){return[e.modules,e.baseContainerID]})),p=Object(T.a)(m,2),f=p[0],w=p[1],g=f[window.highlightedID],h=window.audioModules[window.highlightedID],b=Object(a.useState)(!1),v=Object(T.a)(b,2),O=v[0],I=v[1];return window.reRenderLeftDrawer=function(){I(!O)},o.a.createElement(a.Fragment,null,o.a.createElement(k.a.div,{className:e.LeftDrawer,style:c},o.a.createElement("div",{className:e.TopItems},o.a.createElement(pe,{className:e.HeaderScrollBounder},o.a.createElement("div",{className:e.DrawerHeader,onClick:function(){s(!0)}},g?g.name:null)),o.a.createElement(Z,{selectedModule:g,modules:f})),o.a.createElement("div",{className:e.ControlMenu},o.a.createElement("div",{className:e.MenuHeader},"controls"),h?Object.keys(h.controlData).map((function(t,n){var a=h.controlData[t],r=a.controlType,i=a.paramID,c=a.value,l=a.range,u=h.controlSetFuncs[t];return o.a.createElement("div",{className:e.ControlBounder,key:g.id+n},r===F?o.a.createElement(W,{controlID:t,value:c,audioModule:h,range:l,paramID:i,setFunc:u}):"BUTTON"===r?o.a.createElement(q,{setFunc:u,controlID:t}):"TYPE"===r?o.a.createElement(z,{setFunc:u,audioModule:h,value:c,selectedModule:g}):"FILE"===r?o.a.createElement(B,{controlID:t,setFunc:u}):"SWITCH"===r?o.a.createElement(G,{controlID:t,setFunc:u}):null)})):null),o.a.createElement("div",{className:e.BottomItems},o.a.createElement(te,{baseContainerID:w,selectedModule:g}),o.a.createElement($,{selectedModule:g,audioModule:h}))),d?o.a.createElement(ze,{setRMOpen:s}):null)},ae=Object(c.a)({FillBounder:{backgroundColor:f,display:"flex",flexDirection:"column",margin:"5vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderRadius:"2vmin"},FillHeaderBounder:{display:"flex"},FillHeader:{borderColor:"white",borderStyle:"none none solid none",padding:"1vmin",marginLeft:"2vmin","&:hover":{cursor:"pointer"}},Fill:{display:"grid",minWidth:C.iconGrid,minHeight:C.iconGrid,alignItems:"center",justifyItems:"center",padding:"2vmin",zIndex:1},ArcherContainer:{width:"100%",height:"100%",zIndex:0,display:"grid"},Icon:{backgroundColor:w,width:C.icon,height:C.icon,borderRadius:"1.5vmin",borderStyle:"none",borderColor:"white",whiteSpace:"wrap",fontSize:j.medium,padding:"1vmin",display:"flex",flexFlow:"column nowrap",alignItems:"flex-end",justifyContent:"space-between",overflow:"hidden",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)","&:hover":{cursor:"pointer",borderStyle:"solid"},zIndex:2},IconName:{fontSize:j.small},IconConnector:{backgroundColor:y,width:N.size,height:N.size,borderRadius:N.borderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"none",borderColor:"white","&:hover":{cursor:"pointer",borderStyle:"solid"}}});window.currSetHighlighted=function(){};var oe=function(e){var t=e.mod,n=e.gridCol,r=e.gridRow,i=ae(),c=Object(a.useState)(t.id===window.highlightedID),l=Object(T.a)(c,2),u=l[0],d=l[1];t.id===window.highlightedID&&(window.currSetHighlighted=d);var s={gridColumn:"".concat(n," / span 1"),gridRow:"".concat(r," / span 1"),borderStyle:u?"solid":"none"},m=Object(U.c)((function(e){return e.modules})),p=Object(U.b)(),f=Object(a.useState)({isOpen:!1,fromID:""}),w=Object(T.a)(f,2),g=w[0],h=w[1];return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:i.Icon,style:s,onDragOver:function(e){e.preventDefault()},onDrop:function(e){var n=e.dataTransfer.getData("id");if(n){if(m[n]){var a=e.dataTransfer.getData("fromRow"),o=e.dataTransfer.getData("fromCol");window.setFillIsExpanded(!1),p(Q(n,t.row,t.col)),p(Q(t.id,Number(a),Number(o))),window.setTimeout(window.refreshArcherContainer,500)}}else if(0===t.connectionInputs.length&&0===window.audioModules[t.id].connectingParamIDs.length)alert("mod cannot accept input");else{var r=e.dataTransfer.getData("fromID");r&&h({isOpen:!0,fromID:r})}d(!1)},draggable:!0,onDragStart:function(e){e.dataTransfer.setData("id",t.id),e.dataTransfer.setData("fromRow","".concat(t.row)),e.dataTransfer.setData("fromCol","".concat(t.col)),window.setFillIsExpanded(!0)},onDragEnd:function(){window.setFillIsExpanded(!1)},onClick:function(e){e.stopPropagation&&e.stopPropagation(),0===window.linkToOutputID.length?t.id===window.highlightedID?(window.setLeftDrawerOpen(!1),d(!1),window.highlightedID="",window.currSetHighlighted=function(e){}):(d(!0),window.highlightedID=t.id,window.setLeftDrawerOpen(!0),window.reRenderLeftDrawer(),window.currSetHighlighted(!1),window.currSetHighlighted=d):h({isOpen:!0,fromID:window.linkToOutputID})}},0===t.connectionOutputs.length?null:o.a.createElement("div",{className:i.IconConnector,draggable:!0,onDragStart:function(e){e.stopPropagation(),e.dataTransfer.setData("fromID",t.id)}}),o.a.createElement("div",{className:i.IconName},t.name)),g.isOpen?o.a.createElement(He,{fromID:g.fromID,toID:t.id,toType:t.moduleType,onClose:function(){h({isOpen:!1,fromID:""}),window.linkToOutputID=""}}):null)};function re(e,t){for(var n=[],a=e;a<t;a++)n.push(a);return n}var ie=Object(c.a)({DropSquare:{width:C.iconGrid,height:C.iconGrid,borderStyle:"none",borderColor:b,borderRadius:"10px",zIndex:1}});var ce=function(e){var t=e.row,n=e.col,r=ie(),i=Object(U.b)(),c=Object(U.c)((function(e){return{modules:e.modules}})).modules,l=Object(a.useState)(!1),u=Object(T.a)(l,2),d=u[0],s=u[1],m={gridColumn:"".concat(2*n+1," / span 1"),gridRow:"".concat(2*t+1," / span 1"),borderStyle:d?"solid":"none"};return o.a.createElement("div",{className:r.DropSquare,style:m,onDragOver:function(e){e.preventDefault()},onDragEnter:function(){s(!0)},onDragLeave:function(){s(!1)},onDrop:function(e){var a=e.dataTransfer.getData("id"),o=c[window.fillContainerID],r=o.childModules.concat(o.childModules),l=c[a],u=function(e,t,n,a){for(var o=0;o<n.length;o++){var r=a[n[o]];if(r.row===e&&r.col===t)return r.id}return!1}(t,n,r,c);if(l)if(u){var d=e.dataTransfer.getData("fromRow"),m=e.dataTransfer.getData("fromCol");s(!1),window.setFillIsExpanded(!1),i(Q(a,t,n)),i(Q(u,Number(d),Number(m))),window.setTimeout(window.refreshArcherContainer,1)}else s(!1),window.setFillIsExpanded(!1),i(Q(a,t,n)),window.setTimeout(window.refreshArcherContainer,1);else if(!u){var p=e.dataTransfer.getData("moduleType"),f=e.dataTransfer.getData("name");s(!1),window.addModule(a,f,window.fillContainerID,p,i,t,n),window.setFillIsExpanded(!1)}}})},le=n(16),ue=C.iconGrid,de=C.gutterGrid;var se=function(){var e=ae(),t=Object(a.useState)(!1),n=Object(T.a)(t,2),r=n[0],i=n[1];window.setFillIsExpanded=i;var c=Object(a.useState)(!1),l=Object(T.a)(c,2),u=l[0],d=l[1];window.reRenderFillContainer=function(){d(!u)};var s,m=Object(U.c)((function(e){return{modules:e.modules,baseContainerID:e.baseContainerID}})),p=m.modules,f=m.baseContainerID,w=p[window.fillContainerID],g=function(e,t){var n=0,a=0;return e.forEach((function(e){var o=t[e];o.row>n&&(n=o.row),o.col>a&&(a=o.col)})),{maxRow:n,maxCol:a}}(w.childModules,p),h=g.maxRow,b=g.maxCol,v=0===w.childModules.length;s=v?{gridTemplateRows:"repeat(".concat(1,", ",ue," ").concat(de,")"),gridTemplateColumns:"repeat(".concat(1,", ",ue," ").concat(de,")")}:{gridTemplateRows:"repeat(".concat(r?h+2:h+1,", ").concat(ue," ").concat(de,")"),gridTemplateColumns:"repeat(".concat(r?b+2:b+1,", ").concat(ue," ").concat(de,")")};var O=Object(a.useRef)(null);return window.refreshArcherContainer=function(){var e;null===(e=O.current)||void 0===e||e.refreshScreen()},o.a.createElement("div",{className:e.FillBounder},o.a.createElement("div",{className:e.FillHeaderBounder},o.a.createElement("div",{className:e.FillHeader,style:{width:"".concat(w.name.length/2,"em")},onClick:function(e){e.stopPropagation(),window.highlightedID=w.id,window.setLeftDrawerOpen(!0)}},w.name),w.id===f?null:o.a.createElement(be,{style:{height:".7em"},onClick:function(){window.fillContainerID=w.parentID,window.reRenderFillContainer(),window.highlightedID="",window.setLeftDrawerOpen(!1)}},o.a.createElement("div",null,"back"))),o.a.createElement("div",{className:e.Fill,style:s,onClick:function(){window.highlightedID="",window.currSetHighlighted(!1),window.currSetHighlighted=function(){},window.setLeftDrawerOpen(!1)}},r?v?o.a.createElement(ce,{row:0,col:0}):re(0,r?h+2:h+1).map((function(e){return re(0,r?b+2:b+1).map((function(t){return o.a.createElement(ce,{key:"".concat(e," ").concat(t),row:e,col:t})}))})).flat():null,w.childModules.map((function(e){var t=p[e];return o.a.createElement(oe,{key:t.id,mod:t,gridRow:2*t.row+1,gridCol:2*t.col+1})})),o.a.createElement(le.ArcherContainer,{className:e.ArcherContainer,style:{gridRow:"1 / span ".concat(2*h+2),gridColumn:"1 / span ".concat(2*b+2)},arrowLength:0,ref:O},o.a.createElement("div",{style:{display:"grid",gridTemplateRows:"repeat(".concat(h+1,", ").concat(ue," ").concat(de,")"),gridTemplateColumns:"repeat(".concat(b+1,", ").concat(ue," ").concat(de,")")}},w.childModules.map((function(e){var t=p[e];return o.a.createElement(a.Fragment,{key:t.id},o.a.createElement("div",{style:{gridColumn:"".concat(2*t.col+1," / span 1"),gridRow:"".concat(2*t.row+1," / span 1"),placeSelf:"start start",position:"relative",top:"10px",left:"5px"}},o.a.createElement(le.ArcherElement,{id:t.id+" input"},o.a.createElement("div",{style:{width:"10px",height:"10px"}}))),o.a.createElement("div",{style:{gridColumn:"".concat(2*t.col+1," / span 1"),gridRow:"".concat(2*t.row+1," / span 1"),placeSelf:"end start",position:"relative",bottom:"10px",left:"5px"}},o.a.createElement(le.ArcherElement,{id:t.id+" controls"},o.a.createElement("div",{style:{width:"10px",height:"10px"}}))),o.a.createElement("div",{style:{gridColumn:"".concat(2*t.col+1," / span 1"),gridRow:"".concat(2*t.row+1," / span 1"),placeSelf:"start end",position:"relative",top:"10px",right:"5px"}},o.a.createElement(le.ArcherElement,{id:t.id+" output",relations:t.outputs.map((function(e){return{targetId:""===e[1]?e[0]+" input":e[0]+" controls",targetAnchor:"left",sourceAnchor:"right",style:{strokeColor:""===e[1]?"red":"blue",strokeWidth:(e[1],1)}}}))},o.a.createElement("div",{style:{width:"10px",height:"10px"}}))))}))))))},me={overflowY:"hidden",overflowX:"scroll",display:"flex"};var pe=function(e){var t=e.children,n=e.className,r=e.style,i=Object(a.useRef)(null),c=Object.assign({},me);return o.a.createElement("div",{ref:i,className:n,style:Object.assign(c,r),onWheel:function(e){i&&i.current&&(i.current.scrollLeft+=e.deltaY)}},t)},fe=Object(c.a)({CenterMenuBounder:{backgroundColor:"rgba(0,0,0,0.7)",position:"absolute",top:0,left:0,width:"100vw",height:"100vh",zIndex:100},CenterMenu:{backgroundColor:p,position:"absolute",top:"50vh",left:"50vw",transform:"translate(-50%, calc(-50% - 50px))",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"2vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",minWidth:"15vw",padding:"1vmin 2vmin 2vmin 2vmin",border:"1px solid white",zIndex:101},Header:{padding:"1vmin 2vmin",margin:"0vmin 0vmin 2vmin 0vmin",borderColor:"white",borderStyle:"none none solid none",fontSize:j.large}});var we=function(e){var t=e.children,n=e.header,a=e.onClose,r=fe();return o.a.createElement("div",{className:r.CenterMenuBounder,onClick:function(e){e.stopPropagation(),a()}},o.a.createElement("div",{className:r.CenterMenu,onClick:function(e){e.stopPropagation()}},o.a.createElement("div",{className:r.Header},n),t))},ge=(Object(c.a)({TestingArea:{backgroundColor:"black",position:"absolute",top:"45vh",left:"25vw",width:"45vw",height:"50vh",display:"flex",flexDirection:"column",zIndex:150},ButtonDiv:{display:"flex",flexFlow:"row wrap"},Button:{margin:"2vmin",padding:"1vmin",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"}}}),new(0,window.AudioContext));var he=Object(c.a)({Button:{backgroundColor:v,borderColor:"transparent",borderRadius:"1vmin",borderStyle:"solid","&:active":{borderColor:"transparent"},"&:hover":{cursor:"pointer",borderColor:"white"},display:"flex",alignItems:"center",justifyContent:"center",padding:"1vmin",margin:"1vmin",textAlign:"center"}});var be=function(e){var t=e.onClick,n=e.children,a=e.style,r=he();return o.a.createElement("div",{className:r.Button,onClick:t,style:a},n)},ve=n(3),Oe=n(1),Ie=["sine","square","triangle","sawtooth"];var ye=function(){var e=ge.createOscillator(),t={"set type":{controlType:"TYPE",paramID:"type"},"set frequency":{controlType:F,paramID:"frequency",value:e.frequency.value,range:[0,2e4,1]},"set detune":{controlType:F,paramID:"detune"}},n={"set type":function(t){e.type=t},"set frequency":function(n){t["set frequency"].value=Number(n),e.frequency.value=Number(n)},"set detune":function(t){e.detune.value=Number(t)},kill:function(){e.stop()}};return e.start(),{audioNode:e,typeTypes:Ie,connectingParamIDs:["frequency","detune"],controlData:t,controlSetFuncs:n}};var De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=ge.createGain();t.gain.value=e;var n=["gain"],a={"set gain":{controlType:F,paramID:"gain",value:0,range:[-1e4,1e4,1]},"set fine gain":{controlType:F,paramID:"gain",value:0,range:[-1,1,.01]}};function o(){t.gain.value=a["set gain"].value+a["set fine gain"].value}var r={"set gain":function(e){a["set gain"].value=Number(e),o()},"set fine gain":function(e){a["set fine gain"].value=Number(e),o()}};return{audioNode:t,connectingParamIDs:n,controlData:a,controlSetFuncs:r}};var Ee=function(){ge.resume();var e=ge.createGain();e.connect(ge.destination);var t={"set master gain":function(t){e.gain.value=Number(t)},resume:function(e){ge.resume()},suspend:function(e){ge.suspend()}};return{audioNode:e,connectingParamIDs:[],controlData:{"set master gain":{controlType:F,paramID:"gain",value:1,range:[0,5,.1]},resume:{controlType:"BUTTON",paramID:"n/a"},suspend:{controlType:"BUTTON",paramID:"n/a"}},controlSetFuncs:t}},Ce=["lowpass","lowshelf","highpass","highshelf","allpass","bandpass","notch","peaking"];var je=function(){var e=ge.createBiquadFilter(),t={"set type":function(t){e.type=t},"set frequency":function(t){e.frequency.value=Number(t)},"set detune":function(t){e.detune.value=Number(t)},"set Q":function(t){e.Q.value=Number(t)},"set gain":function(t){e.gain.value=Number(t)}};return{audioNode:e,typeTypes:Ce,connectingParamIDs:["frequency","detune","Q","gain"],controlData:{"set type":{controlType:"TYPE",paramID:"type"},"set frequency":{controlType:F,paramID:"frequency"},"set detune":{controlType:F,paramID:"detune"},"set Q":{controlType:F,paramID:"Q"},"set gain":{controlType:F,paramID:"gain"}},controlSetFuncs:t}};var Ne=function(){var e=ge.createDynamicsCompressor(),t={"set threshold":function(t){e.threshold.value=Number(t)},"set knee":function(t){e.knee.value=Number(t)},"set ratio":function(t){e.ratio.value=Number(t)},"set attack":function(t){e.attack.value=Number(t)},"set release":function(t){e.release.value=Number(t)}};return{audioNode:e,connectingParamIDs:["threshold","knee","ratio","attack","release"],controlData:{"set threshold":{controlType:F,paramID:"threshold"},"set knee":{controlType:F,paramID:"knee"},"set ratio":{controlType:F,paramID:"ratio"},"set attack":{controlType:F,paramID:"attack"},"set release":{controlType:F,paramID:"release"}},controlSetFuncs:t}};var xe=function(){var e=ge.createStereoPanner(),t={"set pan":function(t){e.pan.value=Number(t)}};return{audioNode:e,connectingParamIDs:["pan"],controlData:{"set pan":{controlType:F,paramID:"pan"}},controlSetFuncs:t}};var Te=function(){var e=ge.createDelay(),t={"set delay time":{controlType:F,paramID:"delayTime",value:e.delayTime.value,range:[0,1,.01]}},n={"set delay time":function(n){t["set delay time"].value=Number(n),e.delayTime.value=Number(n)}};return{audioNode:e,connectingParamIDs:["delayTime"],controlData:t,controlSetFuncs:n}},Se=["no ramp","linear","exponential"];var ke=function(){var e=ge.createConstantSource();e.offset.value=0;var t={"set value":{controlType:F,paramID:"offset",value:0},"set ramp":{controlType:"TYPE",paramID:"n/a",value:"no ramp"},"set ramp length":{controlType:F,paramID:"n/a",value:1,range:[0,1e4,.01]},kill:{controlType:"BUTTON",paramID:"n/a"}},n={"no ramp":function(n){t["set value"].value=Number(n),e.offset.value=Number(n)},linear:function(n){t["set value"].value=Number(n),e.offset.linearRampToValueAtTime(Number(n),ge.currentTime+t["set ramp length"].value)},exponential:function(n){t["set value"].value=Number(n),e.offset.exponentialRampToValueAtTime(Number(n),ge.currentTime+t["set ramp length"].value)}},a={"set value":function(e){n[t["set ramp"].value](e)},"set ramp":function(e){t["set ramp"].value=e},"set ramp length":function(e){t["set ramp length"].value=Number(e)},kill:function(){e.stop()}};return e.start(),{audioNode:e,connectingParamIDs:["offset"],controlData:t,controlSetFuncs:a,typeTypes:Se}};var Me=function(e){if(e.current){var t={"set file":function(t){e.current.src=t}};return{audioNode:ge.createMediaElementSource(e.current),ref:e,connectingParamIDs:[],controlData:{"set file":{controlType:"FILE",paramID:"n/a"}},controlSetFuncs:t}}return null};var Re=function(e){navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1,latency:0}}).then((function(t){var n=ge.createMediaStreamSource(t),a=ge.createChannelSplitter(2);n.connect(a);var o={"number of channels: ":{controlType:"INFO",paramID:"n/a",value:0},mute:{controlType:"SWITCH",paramID:"n/a",value:!1}},r={"number of channels: ":function(e){o["number of channels: "].value=n.channelCount},mute:function(e){var n="true"===e;o.mute.value=n,t.getAudioTracks()[0].enabled=n}},i={audioNode:a,connectingParamIDs:[],controlData:o,controlSetFuncs:r};window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},e,i))}))};var Ae=function(e){return{connectingParamIDs:[],controlData:{open:{controlType:"BUTTON",paramID:"n/a"}},controlSetFuncs:{open:function(){window.fillContainerID=e,window.reRenderFillContainer(),window.highlightedID="",window.setLeftDrawerOpen(!1)}}}};var Fe=function(e){var t=e.id,n=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(!window.audioModules[t]){var e=Me(n);e&&(window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},t,e)))}})),o.a.createElement("audio",{ref:n,autoPlay:!0})};window.addAudioTag=function(e){window.audioTags[e]={id:e,srcName:""}},window.audioTags={};var Pe=function(){var e=Object(a.useState)(!1),t=Object(T.a)(e,2),n=t[0],r=t[1];window.reRenderAudioTags=function(){r(!n)};var i=Object.keys(window.audioTags);return o.a.createElement(a.Fragment,null,i.map((function(e){return o.a.createElement(Fe,{key:e,id:e})})))},_e=Object(c.a)({Bounder:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",borderRadius:"15px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",userSelect:"none",margin:"10px","&:hover":{cursor:"pointer"}},Switch:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",justifySelf:"flex-end",borderRadius:"15px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",userSelect:"none",margin:"10px"}});var Le=function(e){var t=e.text,n=e.onSwitch,r=e.initState,i=e.style,c=Object(a.useState)(r),u=Object(T.a)(c,2),d=u[0],s=u[1],m=_e(),p=Object(k.b)({cx:d?"65":"25",fill:d?"green":"red",config:{tension:250}});return o.a.createElement("div",{className:m.Bounder,style:i},t,o.a.createElement("svg",{onClick:function(){n(!d),s(!d)},width:"90",height:"30"},o.a.createElement("rect",{width:"50",height:"20",x:"20",y:"5",rx:"10",ry:"10",fill:l}),o.a.createElement(k.a.circle,{cx:p.cx,cy:"15",r:"15",fill:p.fill})))},Ue={};var He=function(e){var t=e.fromID,n=e.toID,r=(e.toType,e.onClose),i=window.audioModules,c=Object(a.useState)(0),l=Object(T.a)(c,2),u=l[0],d=l[1],s=Object(a.useState)(0),m=Object(T.a)(s,2),p=m[0],f=m[1],w=Object(U.b)(),g=Object(U.c)((function(e){return e.modules})),h=g[t],b=g[n],v=h.connectionOutputs.length>1?"CHOOSE_OUTPUT":b.connectionInputs.length>1?"CHOOSE_INPUT":"CONNECT_TO",O=Object(a.useState)(v),I=Object(T.a)(O,2),y=I[0],D=I[1],E="CONTAINER"===h.moduleType,C="CONTAINER"===b.moduleType;return o.a.createElement(a.Fragment,null,"CHOOSE_OUTPUT"===y?o.a.createElement(we,{header:"choose output",onClose:r},h.connectionOutputs.map((function(e,a){return o.a.createElement(be,{key:t+n+e,onClick:function(e){e.stopPropagation(),d(a),b.connectionInputs.length>1?D("CHOOSE_INPUT"):D("CONNECT_TO")}},E?g[e].name:e)}))):"CHOOSE_INPUT"===y?o.a.createElement(we,{header:"choose input",onClose:r},b.connectionInputs.map((function(e,a){return o.a.createElement(be,{key:t+n+e,onClick:function(e){e.stopPropagation(),f(a),D("CONNECT_TO")}},C?g[e].name:e)}))):"CONNECT_TO"===y?o.a.createElement(we,{header:"connect ".concat(E?h.name+" - "+g[h.connectionOutputs[u]].name:h.name," to ").concat(C?b.name+" - "+g[b.connectionInputs[p]].name:b.name),onClose:r},(C?0===g[b.connectionInputs[p]].connectionInputs.length:0===b.connectionInputs.length)?null:o.a.createElement(be,{style:Ue,onClick:function(){E?Y(i[h.connectionOutputs[u]],C?i[b.connectionInputs[p]]:i[b.id]):C?Y(i[h.id],i[b.connectionInputs[p]]):Y(i[h.id],i[b.id],"",u),w(X(t,n)),r()}},"module"),C?0===i[b.connectionInputs[p]].connectingParamIDs.length?null:o.a.createElement(be,{style:Ue,onClick:function(e){e.stopPropagation(),D("CHOOSE_PARAM")}},"params"):0===i[n].connectingParamIDs.length?null:o.a.createElement(be,{style:Ue,onClick:function(e){e.stopPropagation(),D("CHOOSE_PARAM")}},"params")):"CHOOSE_PARAM"===y?o.a.createElement(we,{header:"props",onClose:r},(C?i[b.connectionInputs[p]]:i[n]).connectingParamIDs.map((function(e,a){return o.a.createElement(be,{key:t+n+a,onClick:function(){E?Y(i[h.connectionOutputs[u]],C?i[b.connectionInputs[p]]:i[b.id],e):Y(i[h.id],C?i[b.connectionInputs[p]]:i[b.id],e,u),w(X(t,n,e)),r()}},e)}))):null)},Be=Object(c.a)({CMInputBounder:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},CenterMenuInput:{backgroundColor:l,color:"white",height:"2vmin",padding:"1vmin",margin:"1.5vmin .75vmin 1.5vmin 1.5vmin",borderStyle:"none",borderRadius:"1vmin",fontSize:j.small,width:"23vmin","&:hover":{cursor:"text"}},InputSubmit:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:l,height:"2vmin",padding:"1vmin",margin:"1.5vmin 1.5vmin 1.5vmin 0.75vmin",borderRadius:"1vmin","&:hover":{cursor:"pointer"},fontSize:j.small},Error:{backgroundColor:I,width:"90%",color:"white",fontSize:j.small,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"1vmin",padding:"1vmin 0vmin",marginBottom:"1vmin"}});var ze=function(e){var t=e.setRMOpen,n=Be(),r=Object(a.useRef)(null),i=Object(U.c)((function(e){return e.modules})),c=Object(U.b)(),l=Object(a.useState)(!1),u=Object(T.a)(l,2),d=u[0],s=u[1];function m(){if(r&&r.current){var e=r.current.value;0===e.length?s(!0):(c(function(e,t){return{type:"RENAME_MODULE",id:e,newName:t}}(window.highlightedID,e)),window.reRenderLeftDrawer(),t(!1))}}return o.a.createElement(we,{header:"rename",onClose:function(){t(!1)}},o.a.createElement("div",{className:n.CMInputBounder},o.a.createElement("input",{className:n.CenterMenuInput,placeholder:i[window.highlightedID].name,onKeyUp:function(e){13===e.keyCode?m():27===e.keyCode&&t(!1)},ref:r,autoFocus:!0}),o.a.createElement("div",{className:n.InputSubmit,onClick:function(){m()}},"enter")),d?o.a.createElement("div",{className:n.Error},"please enter a name"):null)};var We=function(){return function(e,t,n,a,o,r,i){switch(a){case"OSCILLATOR":window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},e,ye())),o(V(e,t,a,n,r,i,[],["0"]));break;case"GAIN":window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},e,De())),o(V(e,t,a,n,r,i,["0"],["0"]));break;case"OUTPUT":window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},e,Ee())),o(V(e,t,a,n,r,i,["0"],[]));break;case"AUTOFILTER":window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},e,je())),o(V(e,t,a,n,r,i,["0"],["0"]));break;case"KOMPRESSOR":window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},e,Ne())),o(V(e,t,a,n,r,i,["0"],["0"]));break;case"STEREO_PANNER":window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},e,xe())),o(V(e,t,a,n,r,i,["0"],["0"]));break;case"SIGNAL_DELAY":window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},e,Te())),o(V(e,t,a,n,r,i,["0"],["0"]));break;case"CONSTANT":window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},e,ke())),o(V(e,t,a,n,r,i,[],["0"]));break;case"MEDIA_ELEMENT":window.addAudioTag(e),window.reRenderAudioTags(),o(V(e,t,a,n,r,i,[],["0"]));break;case"LINE_IN":Re(e),o(V(e,t,a,n,r,i,[],["0 (L)","1 (R)"]));break;case"CONTAINER":window.audioModules=Object(Oe.a)(Object(Oe.a)({},window.audioModules),{},Object(ve.a)({},e,Ae(e))),o(V(e,t,a,n,r,i,[],[]))}}};window.highlightedID="project",window.fillContainerID="project",window.linkToOutputID="",window.audioModules={},window.addModule=We();var qe=function(){var e=x();return o.a.createElement("div",{className:e.Bounder},o.a.createElement(ne,null),o.a.createElement("div",{className:e.ModuleViewBounder},o.a.createElement(se,null)),o.a.createElement(_,null),o.a.createElement(Pe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=n(11),Ye=n(21),Ke=n(8),Ve=function(e,t){var n,a,o=t.id,r=t.name,i=t.moduleType,c=t.row,l=t.col,u=t.parentID,d=t.connectionInputs,s=t.connectionOutputs;switch(i){case"CONTAINER":return Object.assign({},e,(n={},Object(ve.a)(n,o,{id:o,name:r,row:c,col:l,parentID:u,moduleType:i,connectionInputs:d,connectionOutputs:s,inputs:[],outputs:[],childModules:[],isBaseContainer:!1,isContainerInput:!1,isContainerOutput:!1}),Object(ve.a)(n,u,Object(Oe.a)(Object(Oe.a)({},e[u]),{},{childModules:[].concat(Object(Ke.a)(e[u].childModules),[o])})),n));default:return Object.assign({},e,(a={},Object(ve.a)(a,o,{id:o,name:r,row:c,col:l,parentID:u,moduleType:i,connectionInputs:d,connectionOutputs:s,isContainerInput:!1,isContainerOutput:!1,inputs:[],outputs:[]}),Object(ve.a)(a,u,Object(Oe.a)(Object(Oe.a)({},e[u]),{},{childModules:[].concat(Object(Ke.a)(e[u].childModules),[o])})),a))}},Qe=function(e,t){var n=t.id,a=e[n].parentID,o=Object.fromEntries(Object.entries(e).filter((function(e){return e[0]!==n})));return Object.assign({},o,Object.fromEntries(Object.entries(o).map((function(e){return[e[0],Object(Oe.a)(Object(Oe.a)({},e[1]),{},{inputs:e[1].inputs.filter((function(e){return e[0]!==n})),outputs:e[1].outputs.filter((function(e){return e[0]!==n}))})]}))),Object(ve.a)({},a,Object(Oe.a)(Object(Oe.a)({},e[a]),{},{childModules:e[a].childModules.filter((function(e){return e!==n}))})))},Xe=function(e,t){var n=t.id,a=t.newRow,o=t.newCol;return Object.assign({},e,Object(ve.a)({},n,Object(Oe.a)(Object(Oe.a)({},e[n]),{},{row:a,col:o})))},Je=function(e,t){var n=t.id,a=t.newName;return Object.assign({},e,Object(ve.a)({},n,Object(Oe.a)(Object(Oe.a)({},e[n]),{},{name:a})))},$e=function(e,t){var n,a=t.fromID,o=t.toID,r=t.param;return Object.assign({},e,(n={},Object(ve.a)(n,o,Object(Oe.a)(Object(Oe.a)({},e[o]),{},{inputs:[].concat(Object(Ke.a)(e[o].inputs),[[a,r]])})),Object(ve.a)(n,a,Object(Oe.a)(Object(Oe.a)({},e[a]),{},{outputs:[].concat(Object(Ke.a)(e[a].outputs),[[o,r]])})),n))},Ze=function(e,t){var n,a=t.fromID,o=t.toID,r=t.param;return Object.assign({},e,(n={},Object(ve.a)(n,o,Object(Oe.a)(Object(Oe.a)({},e[o]),{},{inputs:e[o].inputs.filter((function(e){return e[0]!==a||e[1]!==r}))})),Object(ve.a)(n,a,Object(Oe.a)(Object(Oe.a)({},e[a]),{},{outputs:e[a].outputs.filter((function(e){return e[0]!==o||e[1]!==r}))})),n))},et=function(e,t){var n,a=t.id,o=e[a].parentID;return Object.assign({},e,(n={},Object(ve.a)(n,a,Object(Oe.a)(Object(Oe.a)({},e[a]),{},{isContainerInput:!0})),Object(ve.a)(n,o,Object(Oe.a)(Object(Oe.a)({},e[o]),{},{connectionInputs:[].concat(Object(Ke.a)(e[o].connectionInputs),[a])})),n))},tt=function(e,t){var n,a=t.id,o=e[a].parentID;return Object.assign({},e,(n={},Object(ve.a)(n,a,Object(Oe.a)(Object(Oe.a)({},e[a]),{},{isContainerInput:!1})),Object(ve.a)(n,o,Object(Oe.a)(Object(Oe.a)({},e[o]),{},{connectionInputs:e[o].connectionInputs.filter((function(e){return e!==a}))})),n))},nt=function(e,t){var n,a=t.id,o=e[a].parentID;return Object.assign({},e,(n={},Object(ve.a)(n,a,Object(Oe.a)(Object(Oe.a)({},e[a]),{},{isContainerOutput:!0})),Object(ve.a)(n,o,Object(Oe.a)(Object(Oe.a)({},e[o]),{},{connectionOutputs:[].concat(Object(Ke.a)(e[o].connectionOutputs),[a])})),n))},at=function(e,t){var n,a=t.id,o=e[a].parentID;return Object.assign({},e,(n={},Object(ve.a)(n,a,Object(Oe.a)(Object(Oe.a)({},e[a]),{},{isContainerInput:!1})),Object(ve.a)(n,o,Object(Oe.a)(Object(Oe.a)({},e[o]),{},{connectionOutputs:e[o].connectionOutputs.filter((function(e){return e!==a}))})),n))},ot={project:{id:"project",name:"project",row:0,col:0,moduleType:"CONTAINER",connectionInputs:[],connectionOutputs:[],inputs:[],outputs:[],parentID:null,childModules:[],isBaseContainer:!0,isContainerInput:!1,isContainerOutput:!1}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MODULE":return Ve(e,t);case"REMOVE_MODULE":return Qe(e,t);case"MOVE_MODULE":return Xe(e,t);case"RENAME_MODULE":return Je(e,t);case"ADD_CONNECTION":return $e(e,t);case"REMOVE_CONNECTION":return Ze(e,t);case"MARK_CONTAINER_INPUT":return et(e,t);case"UNMARK_CONTAINER_INPUT":return tt(e,t);case"MARK_CONTAINER_OUTPUT":return nt(e,t);case"UNMARK_CONTAINER_OUTPUT":return at(e,t);default:return e}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"project",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOWN_1_BASE":case"CHANGE_BASE":return t.newID;default:return e}},ct=Object(Ge.combineReducers)({modules:rt,baseContainerID:it}),lt=Object(Ge.createStore)(ct,Object(Ye.composeWithDevTools)());i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(U.a,{store:lt},o.a.createElement(qe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.163abec1.chunk.js.map