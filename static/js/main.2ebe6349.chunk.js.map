{"version":3,"sources":["icons/settings.svg","App/style.ts","theme/theme.ts","components/RightDrawer/style.ts","components/RightDrawer/HeaderItem.tsx","audioModules/moduleTypes.ts","components/RightDrawer/ModuleIcons/moduleData.ts","helpers/genFuncs.ts","theme/moduleColor.ts","components/RightDrawer/DrawerItem.tsx","components/RightDrawer/ModuleIcons/ModuleIcons.tsx","redux/modules/moduleActions.ts","redux/modules/moduleActionTypes.ts","redux/connections/connectionActions.ts","redux/connections/connectionActionTypes.ts","redux/root/rootActions.ts","redux/root/rootActionTypes.ts","audioCtx.ts","audioModules/modules/constant.ts","audioModules/modules/autoFilter.ts","audioModules/modules/output.ts","audioModules/modules/stereoPanner.ts","audioModules/modules/signalDelay.ts","audioModules/modules/kompressor.ts","audioModules/modules/gain.ts","audioModules/modules/oscillator.ts","audioModules/modules/lineInput.ts","audioModules/modules/container.ts","audioModules/restoreAudioModule.ts","audioModules/connection.ts","components/RightDrawer/SpaceDBMenu.tsx","redux/restoreFromState.ts","components/RightDrawer/FileMenu.tsx","components/RightDrawer/helpers.ts","components/RightDrawer/RightDrawer.tsx","components/ModuleView/style.ts","components/LargeIcon/style.ts","components/LargeIcon/controls/style.ts","components/LargeIcon/controls/File.tsx","components/LargeIcon/controls/Type.tsx","components/Knob/helpers.ts","components/LargeIcon/controls/Value.tsx","components/LargeIcon/controls/Button.tsx","components/LargeIcon/controls/Switch.tsx","components/LargeIcon/ControlMenu.tsx","components/LargeIcon/InputOutputView.tsx","components/LargeIcon/MarkContainerControls.tsx","components/LargeIcon/MarkContainerIO.tsx","components/LargeIcon/DeleteButton.tsx","components/LargeIcon/ContainerControlMenu.tsx","components/ModuleView/Icon.tsx","components/DropSquare/style.ts","components/DropSquare/DropSquare.tsx","components/ModuleView/helpers.ts","components/ModuleView/Fill.tsx","components/HorizontalScrollDiv/HorizontalScrollDiv.tsx","components/CenterMenu/style.ts","components/CenterMenu/CenterMenu.tsx","components/MrTesterr/style.ts","components/MrTesterr/MrTesterr.tsx","components/Button/style.ts","components/Button/Button.tsx","audioModules/modules/mediaElement.ts","components/AudioTags/AudioTag.tsx","components/AudioTags/AudioTags.tsx","components/Switch/style.ts","components/Switch/Switch.tsx","components/Knob/style.ts","components/Knob/StatelessKnob.tsx","components/Knob/Knob.tsx","components/PointerLayer/style.ts","components/PointerLayer/PointerLayer.tsx","components/CenterMenus/makeData.ts","components/CenterMenus/ConnectionMenu/style.ts","components/CenterMenus/ConnectionMenu/IORecursion.tsx","components/CenterMenus/ConnectionMenu/helpers.ts","components/CenterMenus/ConnectionMenu/ConnectionMenu.tsx","components/CenterMenus/RenameMenu/style.ts","components/CenterMenus/RenameMenu/RenameMenu.tsx","components/CenterMenus/RangeSetMenu/style.ts","components/CenterMenus/RangeSetMenu/RangeSetMenu.tsx","components/CenterMenus/SaveMenu/SaveMenu.tsx","components/CenterMenus/ConfirmDeleteMenu/ConfirmDeleteMenu.tsx","components/CenterMenus/CenterMenus.tsx","audioModules/makeAddModule.ts","components/PointerLayer/makeData.ts","App/App.tsx","serviceWorker.ts","redux/modules/reducers/addModule.ts","redux/modules/reducers/moveModule.ts","redux/modules/reducers/renameModule.ts","redux/modules/reducers/markContainerInput.ts","redux/modules/reducers/unmarkContainerInput.ts","redux/modules/reducers/markContainerOutput.ts","redux/modules/reducers/unmarkContainerOutput.ts","redux/modules/reducers/markContainerControl.ts","redux/modules/reducers/unmarkContainerControl.ts","redux/modules/reducers/updateControlValue.ts","redux/modules/reducers/updateControlRange.ts","redux/modules/moduleReducer.ts","redux/baseContainerID/bcidReducer.ts","redux/baseContainerID/bcidActionTypes.ts","redux/connections/reducers/addConnection.ts","redux/helpers.ts","redux/connections/reducers/removeConnection.ts","redux/connections/reducers/removeModule.ts","redux/connections/connectionReducer.ts","redux/rootReducer.ts","redux/store.ts","index.tsx"],"names":["module","exports","useJSS","createUseStyles","Bounder","backgroundImage","width","height","display","fontSize","color","position","top","left","userSelect","zIndex","overflow","ModuleViewBounder","minWidth","flexDirection","alignItems","justifyContent","overflowX","overflowY","colors","sizes","toggleWidth","item","iconGrid","gutterGrid","icon","bigIcon","bigIconWidth","bigIconHeight","large","medium","small","xsmall","xxsmall","size","borderRadius","markerWidth","markerHeight","rotRange","sensitivity","borderWidth","DrawerBounder","right","Drawer","backgroundColor","DrawerHeader","DrawerHeaderItem","padding","textDecoration","whiteSpace","cursor","ItemRouter","flexFlow","alignContent","DrawerItem","boxShadow","margin","DrawerIcon","borderColor","borderStyle","marginBottom","DrawerItemText","Toggle","ToggleLine","HeaderItem","className","text","onClick","linkStyle","selectedRoute","style","CONTAINER","VALUE","effectModuleData","sourceModuleData","utilityModuleData","stringIn","str","ar","i","length","range","start","stop","out","push","clamp","val","Math","min","max","inRange","getModuleColor","moduleType","numAdds","fullName","id","classes","draggable","onDragStart","event","dataTransfer","setData","window","setFillIsExpanded","onDragEnd","ModuleIcons","moduleData","map","modDat","index","key","addModule","name","controlData","parentID","row","col","connectionInputs","connectionOutputs","type","moveModule","newRow","newCol","markContainerControl","modID","controlID","actualModID","unmarkContainerControl","updateControlValue","newValue","addConnection","fromID","toID","param","outputIndex","inputIndex","containerOutputChildID","containerInputChildID","removeConnection","connectionID","restoreFromState","state","audioCtx","AudioContext","makeConstantSource","prevControlData","constantSource","createConstantSource","offset","value","controlSetFuncs","Number","audioNode","connectingParamIDs","filterTypes","makeAutoFilter","autoFilter","createBiquadFilter","frequency","detune","Q","gain","newType","newFrequency","newDetune","newQ","newGain","typeTypes","makeOutput","resume","masterGain","createGain","connect","destination","arg","suspend","makeStereoPanner","stereoPanner","createStereoPanner","pan","newPan","makeSignalDelay","signalDelay","createDelay","delayTime","newDelayTime","makeKompressor","kompressor","createDynamicsCompressor","threshold","knee","ratio","attack","release","newThreshold","newKnee","newRatio","newAttack","newRelease","makeGain","oscillatorTypes","makeOscillator","oscillator","createOscillator","makeLineInput","navigator","mediaDevices","getUserMedia","audio","echoCancellation","autoGainControl","noiseSuppression","latency","then","stream","lineInput","createMediaStreamSource","channelSplitter","createChannelSplitter","lineInputModule","getAudioTracks","enabled","audioModules","makeContainer","fillContainerID","highlightedID","currUnHighlight","reRenderFillContainer","restoreAudioModule","osc","output","filter","komp","panner","delay","constant","addAudioTag","reRenderAudioTags","container","fromMod","toMod","alert","disconnect","spaceDB","feathers","restClient","rest","configure","fetch","spaceDBSaveService","service","buttonStyle","SpaceDBMenu","useState","saveList","setSaveList","dispatch","useDispatch","useEffect","find","saveNames","saveName","get","savedState","restoreFromStateAction","modules","connections","Object","keys","forEach","console","log","actualOutputID","actualInputID","toType","fromType","setTimeout","openConfirmDeleteMenu","openSaveMenu","fs","require","FileMenu","useSelector","folderRef","useRef","initName","baseContainerID","setSaveName","current","webkitdirectory","htmlFor","opacity","onChange","e","file","target","files","path","readFile","err","data","JSON","parse","placeholder","ref","goodDir","badDir","slice","getFileDirectory","writeFile","stringify","drawerWidth","RightDrawer","open","setOpen","setWidth","drawerSpring","useSpring","transform","config","tension","setSR","drawerRef","toggleRef","drawerHeaderRef","itemRouterRef","vw","document","documentElement","clientWidth","innerWidth","adjusting","toReRender","addEventListener","div","onPointerDown","stopPropagation","shiftKey","setPointerCapture","pointerId","onPointerMove","clientX","onPointerUp","releasePointerCapture","onWheel","scrollLeft","deltaY","FillBounder","FillHeaderBounder","FillHeader","marginLeft","Fill","minHeight","rowGap","columnGap","ArcherContainer","Icon","IconControlContainer","maxHeight","justifySelf","ArcherElement","gridTemplateRows","gridTemplateColumns","IconName","IconConnector","alignSelf","MenuHeader","Connection","ControlBounder","ControlMenu","ControlTypeSelect","maxWidth","textAlign","ControlInput","File","setFunc","reRenderIcon","modName","URL","createObjectURL","audioTags","srcName","overflowWrap","wordWrap","hyphens","Type","audioModule","getRotation","makeValString","roundedNumString","floor","toString","ValueControl","displayModName","currRange","inputVal","setInputVal","initValue","onEveryChange","newVal","onSettingsClick","openRangeSetMenu","newRange","updateControlRange","ButtonControl","SwitchControl","initState","onSwitch","newState","selectedModule","controlType","Value","Button","Switch","InputOutputView","am","inputs","outputs","MarkContainerControls","marginTop","toContainerControls","isMarked","containerControls","switchStyle","MarkContainerIO","isContainerInput","unmarkContainerInput","isContainerOutput","unmarkContainerOutput","DeleteButton","inputData","outputData","ContainerControlMenu","ModuleViewIcon","mod","gridCol","gridRow","isHighlighted","setHighlighted","controlMenuOpen","setControlMenuOpen","reRender","iconStyle","gridColumn","archerElementStyle","iconSpring","onFrame","refreshArcherContainer","onRest","nameSpring","assign","onDragOver","preventDefault","onDrop","getData","fromRow","fromCol","openConnectionMenu","openRenameMenu","relations","targetId","targetAnchor","sourceAnchor","strokeColor","DropSquare","isHL","setHL","dsStyle","onDragEnter","types","onDragLeave","fc","currentChildren","childModules","concat","possiblyMod","possiblyOccupyingID","isOccupied","ModuleViewFill","isExpanded","setIsExpanded","gridStyle","containerModule","maxRow","maxCol","moduleID","getGridRange","isEmpty","archerContainerRef","refreshScreen","svgContainerStyle","strokeWidth","arrowLength","flat","HorizontalScrollDiv","CenterMenuBounder","CenterMenu","border","Header","children","header","onClose","TestingArea","ButtonDiv","MrTesterr","onKeyDown","makeMediaElement","audioRef","url","src","createMediaElementSource","AudioTag","possiblyMediaElement","autoPlay","AudioTags","ids","setState","spring","cx","fill","x","y","rx","ry","circle","cy","r","KnobContainer","placeItems","KnobSVG","KnobText","InteractionLayer","SettingsButton","placeSelf","StatelessKnob","svgRef","scale","tempVal","textRef","movementY","stroke","onBlur","keyCode","blur","title","focus","openPointerLayer","settingsSVG","alt","Knob","PointerLayer","pointerLayerData","resetPointerLayerData","pointerLayerRef","makeConnectionMenuData","isOpen","makeRangeSetMenuData","onChangeSubmit","makeSaveMenuData","makeConfirmDeleteMenuData","IORecursionBounder","IORecursionInnerBounder","IORecursion","isOutput","setConnection","isContainer","io","ioID","connectionExists","actualToID","newParam","ConnectionMenu","setOutputIndex","setInputIndex","actualFromID","setActualFromID","setActualToID","isFromContainer","isToContainer","initMenu","openMenu","setOpenMenu","outputID","actualIOID","ioIndex","inputID","undefined","paramID","CMInputBounder","CenterMenuInput","InputSubmit","Error","RenameMenu","toRenameID","renameInputRef","isTooShort","setSubmitState","submitNewName","newName","renameModule","onKeyUp","autoFocus","RangeSetMenu","maxRange","setMin","setMax","SaveMenu","message","confirmSaveData","setConfirmSaveData","inputRef","create","marginRight","update","ConfirmDeleteMenu","remove","CenterMenus","connectionMenuData","setConnectionMenuData","renameMenuData","setRenameMenuData","rangeSetMenuData","setRangeSetMenuData","saveMenuData","setSaveMenuData","confirmDeleteMenuData","setConfirmDeleteMenuData","makeAddModule","oscControlData","gainControlData","outputControlData","filterControlData","sampleRate","kompControlData","pannerControlData","delayControlData","constantControlData","mediaControlData","containerControlData","makePointerLayerData","App","setPointerLayerData","Boolean","location","hostname","match","isBaseContainer","moveModuleAction","renameContainer","markContainerInput","markContainerOutput","toContainerControlID","containerControl","moduleReducer","action","addModuleReducer","moveModuleReducer","renameModuleReducer","markContainerInputReducer","unmarkContainerInputReducer","markContainerOutputReducer","unmarkContainerOutputReducer","markContainerControlReducer","unmarkContainerControlReducer","updateControlValueReducer","updateControlRangeReducer","bcidReducer","newID","connectionNumber","newModules","newConnections","filterOutFromObj","obj","idsToFilterOut","fromEntries","entries","entry","removeModule","trimmedModules","childID","connectionReducer","combinedModuleConnectionReducer","rootReducer","store","createStore","composeWithDevTools","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.2ebe6349.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/settings.04e848f8.svg\";","import { createUseStyles } from 'react-jss'\n//import { colors } from '../theme/theme'\n\nconst useJSS = createUseStyles({\n  Bounder: {\n    //backgroundColor: colors.grey,\n    backgroundImage: 'url(https://media.wired.com/photos/5a593a7ff11e325008172bc2/master/pass/pulsar-831502910.jpg)',\n    width: '100vw',\n    height: '100vh',\n    display: 'flex',\n    fontSize: 'calc(20px + 2vmin)',\n    color: 'white',\n    position: 'absolute',\n    top: '0px',\n    left: '0px',\n    userSelect: 'none',\n    zIndex: '-1',\n    overflow: 'hidden',\n  },\n\n  ModuleViewBounder: {\n    minWidth: '60vw',\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    zIndex: 0,\n    overflowX: 'hidden',\n    overflowY: 'scroll',\n    '&::-webkit-scrollbar': {\n      width: '0px',\n    },\n  }\n})\n\nexport default useJSS","import { Colors, Sizes } from './types'\n\nconst grey = '#282c34' // grey\nconst secondary = '#281c34' //purple\nconst tertiary = '#182c54' // blue\n\nexport const colors: Colors = {\n  grey: grey,\n  secondary: secondary,\n  tertiary: tertiary,\n\n  rightDrawer: '#0000009e',\n  drawerToggle: '#00347d',\n  drawerToggleLine: '#001b40',\n\n  centerMenu: 'black',\n\n  fillModule: '#c0c0c038',\n  module: '#37538a',\n\n  text: 'white',\n  selectedText: '#007ab3',\n\n  dropSquareHL: 'white',\n\n  defaultButton: 'black',\n  deleteButton: '#cc00006e',\n  deleteButtonText: 'white',\n\n  errorBackground: '#cc0000',\n\n  outputConnector: 'red',\n\n  controlMenuButton: '#3b3b3b94',\n\n  //knob: '#ffffffa3',\n  knob: '#0000009e',\n  knobText: 'white',\n  knobBorder: '#cc00006e',\n  knobMarker: 'white',\n\n  // connection menu\n  connectableName: 'white',\n  expandableName: '#85adad',\n\n  // module colors\n\n  sourceModuleBG: '#028174',\n  //sourceModuleKnob\n\n  effectsModuleBG: '#7D1551',\n  //effectsModukeKnob\n\n  containerModuleBG: '#4C4141',\n  //container knob magic tricks\n\n  outputModuleBG: '#CA5F3C',\n\n  confirmButton: '#00802da6',\n  denyButton: '#cc00006e',\n}\n\nexport const sizes: Sizes = {\n  rightDrawer: {\n    width: '400px',\n    toggleWidth: '2vmin',\n    item: '9vmin',\n  },\n  moduleView: {\n    iconGrid: '12vmin',\n    gutterGrid: '6vmin',\n    icon: '10vmin',\n    bigIcon: '27vmin',\n    bigIconWidth: '30vmin',\n    bigIconHeight: '50vmin',\n  },\n  text: {\n    large: 'calc(25px + 2.8vmin)',\n    medium: 'calc(20px + 2.4vmin)',\n    small: 'calc(12px + 1.2vmin)',\n    xsmall: 'calc(8px + 1vmin)',\n    xxsmall: 'calc(7px + .8vmin)',\n  },\n  connector: {\n    size: '2.5vmin',\n    borderRadius: '1.5vmin'\n  },\n  knob: {\n    size: 9, // converted to vmin in knob\n    markerWidth: .5,\n    markerHeight: 1.3,\n    rotRange: [-150, 150], // in degrees\n    sensitivity: 1,\n    borderWidth: 8,\n  }\n}","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  DrawerBounder: {\n    //backgroundColor: colors.rightDrawer,\n    width: '0px',\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    color: 'white',\n    position: 'absolute',\n    top: '0px',\n    right: '0px',\n    userSelect: 'none',\n    zIndex: 10,\n  },\n\n  Drawer: {\n    backgroundColor: colors.rightDrawer,\n    height: '100vh',\n    width: sizes.rightDrawer.width,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-start',\n    position: 'absolute',\n    top: '0px',\n    right: '0px',\n    //overflow: 'hidden',\n  },\n\n  // header\n\n  DrawerHeader: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: 'inherit',\n    overflowX: 'scroll',\n    overflowY: 'hidden',\n    '&::-webkit-scrollbar': {\n      height: '3px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: 'white',\n    },\n  },\n\n  DrawerHeaderItem: {\n    fontSize: sizes.text.medium,\n    padding: '1vmin 1.5vmin',\n    color: colors.text,\n    textDecoration: 'none',\n    whiteSpace: 'nowrap',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  },\n\n  ItemRouter: {\n    width: sizes.rightDrawer.width,\n    display: 'flex',\n    flexFlow: 'row wrap',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    alignContent: 'flex-start',\n    height: 'calc(100% - 60px)',\n    overflowY: 'scroll',\n    '&::-webkit-scrollbar': {\n      width: '0px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: 'white',\n    },\n  },\n\n  // Drawer items\n\n  DrawerItem: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'space-evenly',\n    borderRadius: '10px',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    margin: '3vmin',\n  },\n\n  DrawerIcon: {\n    backgroundColor: colors.grey,\n    borderColor: colors.grey,\n    borderStyle: 'solid',\n    width: sizes.rightDrawer.item,\n    height: sizes.rightDrawer.item,\n    borderRadius: '1.5vmin',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    marginBottom: '1.5vmin',\n    '&:hover': {\n      cursor: 'pointer',\n      borderColor: 'white',\n    },\n  },\n\n  DrawerItemText: {\n    fontSize: sizes.text.small,\n  },\n\n  // toggle\n\n  Toggle: {\n    backgroundColor: colors.drawerToggle,\n    width: sizes.rightDrawer.toggleWidth,\n    zIndex: 10,\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n    position: 'absolute',\n    top: '0px',\n    right: sizes.rightDrawer.width,\n  },\n\n  ToggleLine: {\n    backgroundColor: colors.drawerToggleLine,\n    borderRadius: '4px',\n    width: '0.75vmin',\n    height: '80px',\n  },\n})\n\nexport default useJSS","import React from 'react'\nimport { colors } from '../../theme/theme'\n\ninterface Props {\n  className: string\n  text: string\n  onClick: () => void\n  selectedRoute: string\n}\n\nfunction HeaderItem({ className, text, onClick, selectedRoute }: Props) {\n  const linkStyle = {\n    color: (selectedRoute === text) ? colors.selectedText : colors.text,\n  }\n  return (\n    <div className={className} onClick={onClick} style={linkStyle}>\n      {text}\n    </div>\n  )\n}\n\nexport default HeaderItem","import { OscillatorModule } from './modules/oscillator'\nimport { GainModule } from './modules/gain'\nimport { OutputModule } from './modules/output'\nimport { AutoFilterModule } from './modules/autoFilter'\nimport { KompressorModule } from './modules/kompressor'\nimport { StereoPannerModule } from './modules/stereoPanner'\nimport { SignalDelayModule } from './modules/signalDelay'\nimport { ConstantModule } from './modules/constant'\nimport { MediaElementModule } from './modules/mediaElement'\nimport { LineInputModule } from './modules/lineInput'\nimport { ContainerModule } from './modules/container'\n\n// module types\n\nexport const GAIN = 'GAIN'\nexport const OSCILLATOR = 'OSCILLATOR'\nexport const OUTPUT = 'OUTPUT'\nexport const AUTOFILTER = 'AUTOFILTER'\nexport const KOMPRESSOR = 'KOMPRESSOR'\nexport const STEREO_PANNER = 'STEREO_PANNER'\nexport const SIGNAL_DELAY = 'SIGNAL_DELAY'\nexport const CONSTANT = 'CONSTANT'\nexport const MEDIA_ELEMENT = 'MEDIA_ELEMENT'\nexport const LINE_IN = 'LINE_IN'\nexport const CONTAINER = 'CONTAINER'\n\nexport type ModuleType = 'OSCILLATOR' | 'CONTAINER' | 'OUTPUT' | 'GAIN' | 'AUTOFILTER' | 'KOMPRESSOR' | 'STEREO_PANNER' | 'SIGNAL_DELAY' | 'CONSTANT' | 'MEDIA_ELEMENT' | 'LINE_IN'\n\nexport type AudioModuleWithTypes = OscillatorModule | AutoFilterModule\n\nexport type ConnectingAudioModule = OscillatorModule | GainModule | AutoFilterModule | KompressorModule | StereoPannerModule | SignalDelayModule | ConstantModule | MediaElementModule | LineInputModule | OutputModule\n\nexport type AudioModule = ConnectingAudioModule | ContainerModule\n\nexport interface AudioModules {\n  [index: string]: AudioModule\n}\n\n// control types\n\nexport const TYPE = 'TYPE'\nexport const VALUE = 'VALUE'\nexport const BUTTON = 'BUTTON'\nexport const FILE = 'FILE'\nexport const INFO = 'INFO'\nexport const SWITCH = 'SWITCH'\n\nexport type ControlType = 'TYPE' | 'VALUE' | 'BUTTON' | 'FILE' | 'INFO' | 'SWITCH'\nexport type Value = number | string | boolean\nexport type SetFunc = (arg: string) => void\nexport type Range = [number, number] // min / max\n\nexport interface ControlDataPacket {\n  controlType: ControlType\n  paramID: string\n  value?: Value // need either paramID or value\n  range?: Range\n  maxRange?: Range // the max the range can be set to be\n}\n\nexport interface ControlData {\n  [controlID: string]: ControlDataPacket\n}\n\nexport interface ControlSetFuncs {\n  [controlID: string]: SetFunc\n}\n\nexport interface BaseAM {\n  connectingParamIDs: string[]\n  controlSetFuncs: ControlSetFuncs\n}\n\n\n","import { GAIN, AUTOFILTER, KOMPRESSOR, SIGNAL_DELAY, STEREO_PANNER, MEDIA_ELEMENT, LINE_IN, OSCILLATOR, CONSTANT, CONTAINER, OUTPUT } from \"../../../audioModules/moduleTypes\";\n\nexport type DrawerModuleData = [string, string, string][]\n\nexport const effectModuleData: DrawerModuleData = [\n  ['gain', 'gain', GAIN], // fullname, id, moduleType\n  ['filter', 'filter', AUTOFILTER],\n  ['kompressor', 'komp', KOMPRESSOR],\n  ['signal delay', 'delay', SIGNAL_DELAY],\n  ['stereo panner', 'pan', STEREO_PANNER],\n]\n\nexport const sourceModuleData: DrawerModuleData = [\n  ['file', 'file', MEDIA_ELEMENT],\n  ['stream', 'stream', LINE_IN],\n  ['oscillator', 'osc', OSCILLATOR],\n  ['constant', 'const', CONSTANT],\n]\n\nexport const utilityModuleData: DrawerModuleData = [\n  ['container', 'cntnr', CONTAINER],\n  ['output', 'out', OUTPUT],\n]","export function stringIn(str: string, ar: any[]) {\n\t// returns true if string is an element of array\n\t// false otherwise\n\tfor (var i = 0; i < ar.length; i++) {\n\t\tif (ar[i] === str) {\n\t\t\treturn true\n\t\t}\n\t}\n\treturn false\n}\n\nexport function allStringsIn(strings: string[], ar: any[]) {\n\tfor (var i = 0; i < strings.length; i++) {\n\t\tif (!stringIn(strings[i], ar)) {\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n\nexport function bothStringsIn(str1: string, str2: string, ar: any[]) {\n\treturn (stringIn(str1, ar) && stringIn(str2, ar))\n}\n\nexport function switchVarIntoList(variable: any, list: any[], index: number) {\n\t// variable is set to list[index]\n\t// puts variable into list at index (replacing what's there)\n\t// ex. variable = GF.SwitchVarIntoList(variable, list, index);\n\tvar temp = list[index]\n\tlist[index] = variable\n\t\n\treturn temp\n}\n\nexport function wrap<T>(func: (...args: any[]) => T, ...args: any[]) {\n\tvar wrapped: () => T = function () {\n\t\treturn func(...args)\n\t}\n\t\n\treturn wrapped\n}\n\nexport function arrayEqual(arr1: any[], arr2: any[]) {\n\tif (arr1.length === arr2.length) {\n\t\tfor(var i = 0; i < arr1.length; i++) {\n\t\t\tif (arr1[i] !== arr2[i]) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\treturn true\n\t} else {\n\t\treturn false\n\t}\n}\n\nexport function range(start: number, stop: number) {\n\t// returns list of integers from start (inclusive) to stop (exclusive)\n\tvar out = []\n\tfor (var i = start; i < stop; i++) {\n\t\tout.push(i)\n\t}\n\treturn out\n}\n\nexport function clamp(val: number, range: [number, number]) {\n\treturn Math.min(range[1], Math.max(range[0], val))\n}\n\nexport function inRange(val: number, range: [number, number]) {\n\treturn val >= range[0] && val <= range[1] \n}","import { colors } from './theme'\nimport { LINE_IN, OSCILLATOR, MEDIA_ELEMENT, CONSTANT, AUTOFILTER, GAIN, KOMPRESSOR, SIGNAL_DELAY, STEREO_PANNER, CONTAINER, OUTPUT } from '../audioModules/moduleTypes'\n\nfunction getModuleColor(moduleType: string) {\n\n  switch (moduleType) {\n\n    // sources\n    case LINE_IN: return colors.sourceModuleBG \n    case OSCILLATOR: return colors.sourceModuleBG \n    case MEDIA_ELEMENT: return colors.sourceModuleBG \n    case CONSTANT: return colors.sourceModuleBG \n\n    // effects \n    case GAIN: return colors.effectsModuleBG\n    case AUTOFILTER: return colors.effectsModuleBG\n    case KOMPRESSOR: return colors.effectsModuleBG\n    case SIGNAL_DELAY: return colors.effectsModuleBG\n    case STEREO_PANNER: return colors.effectsModuleBG\n\n    // utility\n    case CONTAINER: return colors.containerModuleBG\n    case OUTPUT: return colors.outputModuleBG\n  }\n}\n\nexport default getModuleColor ","import React from 'react'\nimport useJSS from './style'\nimport getModuleColor from '../../theme/moduleColor'\n\n\ninterface Props {\n  fullName: string\n  id: string\n  moduleType: string\n}\n\nlet numAdds = 0\n\nfunction DrawerItem({ fullName, id, moduleType }: Props) {\n  const classes = useJSS()\n  return (\n    <div className={classes.DrawerItem}>\n      <div \n        className={classes.DrawerIcon}\n        style={{ backgroundColor: getModuleColor(moduleType) }}\n        draggable={true}\n        onDragStart={event => {\n          event.dataTransfer.setData('id', `${id} ${numAdds}`)\n          event.dataTransfer.setData('moduleType', moduleType)\n          event.dataTransfer.setData('name', id)\n          window.setFillIsExpanded(true)\n          numAdds+=1\n        }}\n        onDragEnd={() => {\n          window.setFillIsExpanded(false)\n        }}\n      />\n      <div className={classes.DrawerItemText}>\n        {fullName}\n      </div>\n    </div>\n  )\n}\n\nexport default DrawerItem","import React, { Fragment } from 'react'\nimport DrawerItem from '../DrawerItem'\nimport { DrawerModuleData } from './moduleData'\n\ninterface Props {\n  moduleData: DrawerModuleData\n}\n\nfunction ModuleIcons({ moduleData }: Props) {\n  return (\n    <Fragment>\n      {moduleData.map((modDat, index) => {\n        return (\n          <DrawerItem fullName={modDat[0]} id={modDat[1]} moduleType={ modDat[2]} key={index}/>\n        )\n      })}\n    </Fragment>\n  )\n}\n\nexport default ModuleIcons","import { \n  ADD_MODULE,\n  MOVE_MODULE, \n  RENAME_MODULE,\n  MARK_CONTAINER_INPUT,\n  UNMARK_CONTAINER_INPUT,\n  MARK_CONTAINER_OUTPUT,\n  UNMARK_CONTAINER_OUTPUT,\n  MARK_CONTAINER_CONTROL,\n  UNMARK_CONTAINER_CONTROL,\n  UPDATE_CONTROL_VALUE,\n  UPDATE_CONTROL_RANGE,\n} from './moduleActionTypes'\nimport { ModuleType, ControlData, Range, Value } from '../../audioModules/moduleTypes'\nimport { AddModuleAction, MoveModuleAction, RenameModuleAction, MarkContainerIOAction, MarkContainerControlAction, UpdateControlValueAction, UpdateControlRangeAction } from './moduleTSTypes'\n\nexport const addModule = (id: string, name: string, moduleType: ModuleType, controlData: ControlData, parentID: string, row: number, col: number, connectionInputs: string[], connectionOutputs: string[]): AddModuleAction => {\n  return {\n    type: ADD_MODULE,\n    moduleType,\n    id,\n    name,\n    controlData,\n    row,\n    col,\n    parentID,\n    connectionInputs,\n    connectionOutputs,\n  }\n}\n\nexport const moveModule = (id: string, newRow: number, newCol: number): MoveModuleAction => {\n  return {\n    type: MOVE_MODULE,\n    id,\n    newRow,\n    newCol,\n  }\n}\n\nexport const renameModule = (id: string, newName: string): RenameModuleAction => {\n  return {\n    type: RENAME_MODULE,\n    id,\n    newName,\n  }\n}\n\nexport const markContainerInput = (id: string): MarkContainerIOAction => {\n  return {\n    type: MARK_CONTAINER_INPUT,\n    id,\n  }\n}\n\nexport const unmarkContainerInput = (id: string): MarkContainerIOAction => {\n  return {\n    type: UNMARK_CONTAINER_INPUT,\n    id,\n  }\n}\nexport const markContainerOutput = (id: string): MarkContainerIOAction => {\n  return {\n    type: MARK_CONTAINER_OUTPUT,\n    id,\n  }\n}\n\nexport const unmarkContainerOutput = (id: string): MarkContainerIOAction => {\n  return {\n    type: UNMARK_CONTAINER_OUTPUT,\n    id,\n  }\n}\n\nexport const markContainerControl = (modID: string, controlID: string, actualModID: string): MarkContainerControlAction => {\n  return {\n    type: MARK_CONTAINER_CONTROL,\n    modID,\n    controlID,\n    actualModID,\n  }\n}\n\nexport const unmarkContainerControl = (modID: string, controlID: string, actualModID: string): MarkContainerControlAction => {\n  return {\n    type: UNMARK_CONTAINER_CONTROL,\n    modID,\n    controlID,\n    actualModID,\n  }\n}\n\nexport const updateControlValue = (modID: string, controlID: string, newValue: Value): UpdateControlValueAction => {\n  return {\n    type: UPDATE_CONTROL_VALUE,\n    modID,\n    controlID,\n    newValue,\n  }\n}\n\nexport const updateControlRange = (modID: string, controlID: string, newRange: Range): UpdateControlRangeAction => {\n  return {\n    type: UPDATE_CONTROL_RANGE,\n    modID,\n    controlID,\n    newRange,\n  }\n}","export const ADD_MODULE = 'ADD_MODULE'\nexport const MOVE_MODULE = 'MOVE_MODULE'\nexport const RENAME_MODULE = 'RENAME_MODULE'\nexport const MARK_CONTAINER_INPUT = 'MARK_CONTAINER_INPUT'\nexport const UNMARK_CONTAINER_INPUT = 'UNMARK_CONTAINER_INPUT'\nexport const MARK_CONTAINER_OUTPUT = 'MARK_CONTAINER_OUTPUT'\nexport const UNMARK_CONTAINER_OUTPUT = 'UNMARK_CONTAINER_OUTPUT'\nexport const MARK_CONTAINER_CONTROL = 'MARK_CONTAINER_CONTROL'\nexport const UNMARK_CONTAINER_CONTROL = 'UNMARK_CONTAINER_CONTROL'\nexport const UPDATE_CONTROL_VALUE = 'UPDATE_CONTROL_DATA'\nexport const UPDATE_CONTROL_RANGE = 'UPDATE_CONTROL_RANGE'","import { ADD_CONNECTION, REMOVE_CONNECTION, REMOVE_MODULE } from \"./connectionActionTypes\"\nimport { AddConnectionAction, RemoveConnectionAction, RemoveModuleAction } from \"./connectionTSTypes\"\n\nexport const addConnection = (fromID: string, toID: string, param: string, outputIndex: number, inputIndex: number, containerOutputChildID?: string, containerInputChildID?: string): AddConnectionAction => {\n  return {\n    type: ADD_CONNECTION,\n    fromID,\n    toID,\n    param,\n    outputIndex,\n    inputIndex,\n    containerOutputChildID,\n    containerInputChildID,\n  }\n}\n\nexport const removeConnection = (connectionID: string): RemoveConnectionAction => {\n  return {\n    type: REMOVE_CONNECTION,\n    connectionID,\n  }\n}\n\nexport const removeModule = (id: string): RemoveModuleAction => {\n  return {\n    type: REMOVE_MODULE,\n    id,\n  }\n}","export const ADD_CONNECTION = 'ADD_CONNECTION'\nexport const REMOVE_CONNECTION = 'REMOVE_CONNECTION'\nexport const REMOVE_MODULE = 'REMOVE_MODULE'\n","import { RESTORE_FROM_STATE } from \"./rootActionTypes\";\nimport { RootState } from \"../stateTSTypes\";\nimport { RestoreFromStateAction } from \"./rootActionTSTypes\";\n\nexport function restoreFromState(state: RootState): RestoreFromStateAction {\n  return {\n    type: RESTORE_FROM_STATE,\n    state,\n  }\n}","export const RESTORE_FROM_STATE = 'RESTORE_FROM_STATE'","const AudioContext = window.AudioContext\nconst audioCtx = new AudioContext()\nexport default audioCtx","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE, BUTTON } from '../moduleTypes'\n\nexport interface ConstantModule extends BaseAM {\n  audioNode: ConstantSourceNode\n}\n\nexport function makeConstantControlData(): ControlData {\n  return {\n    'value': {\n      controlType: VALUE,\n      paramID: 'offset',\n      value: 0,\n      range: [-100, 100],\n    },\n    'kill': {\n      controlType: BUTTON,\n      paramID: 'n/a',\n    }\n  }\n}\n\n\nfunction makeConstantSource(prevControlData?: ControlData): ConstantModule {\n  const constantSource = audioCtx.createConstantSource()\n  constantSource.offset.value = prevControlData ? prevControlData['value'].value as number : 0\n\n  const connectingParamIDs = ['offset']\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'value': (newValue: string) => { constantSource.offset.value = Number(newValue) },\n    'kill': (arg = '') => { constantSource.stop() }\n  }\n\n  constantSource.start()\n\n  return {\n    audioNode: constantSource,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n}\n\nexport default makeConstantSource","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE, TYPE } from '../moduleTypes'\n\nexport interface AutoFilterModule extends BaseAM {\n  audioNode: BiquadFilterNode\n  typeTypes: string[]\n}\n\nconst filterTypes = ['lowpass', 'lowshelf', 'highpass', 'highshelf', 'allpass', 'bandpass', 'notch', 'peaking']\nconst connectingParamIDs = ['frequency', 'detune', 'Q', 'gain']\n\nexport function makeFilterControlData(autoFilter: BiquadFilterNode): ControlData {\n  return {\n    'set type': {\n      controlType: TYPE,\n      paramID: 'type',\n      value: autoFilter.type\n    },\n    'frequency': {\n      controlType: VALUE,\n      paramID: 'frequency',\n      value: autoFilter.frequency.value,\n      range: [0, audioCtx.sampleRate / 2],\n      maxRange: [0, audioCtx.sampleRate / 2]\n    },\n    'detune': {\n      controlType: VALUE,\n      paramID: 'detune',\n      value: autoFilter.detune.value,\n      range: [-50, 50],\n      maxRange: [-153600, 153600]\n    },\n    'Q': {\n      controlType: VALUE,\n      paramID: 'Q',\n      value: autoFilter.Q.value,\n      range: [-30, 30]\n    },\n    'gain': {\n      controlType: VALUE,\n      paramID: 'gain',\n      value: autoFilter.gain.value,\n      range: [-20000, 1400],\n      maxRange: [-20000, 1400],\n    },\n  }\n}\n\nfunction makeAutoFilter (prevControlData?: ControlData): AutoFilterModule {\n  const autoFilter = audioCtx.createBiquadFilter()\n\n  if (prevControlData) {\n    autoFilter.type = prevControlData['set type'].value as BiquadFilterType\n    autoFilter.frequency.value = prevControlData['frequency'].value as number\n    autoFilter.detune.value = prevControlData['detune'].value as number\n    autoFilter.Q.value = prevControlData['Q'].value as number\n    autoFilter.gain.value = prevControlData['gain'].value as number\n  }\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'set type': (newType: string) => { autoFilter.type = newType as BiquadFilterType},\n    'frequency': (newFrequency: string) => { \n      autoFilter.frequency.value = Number(newFrequency) \n    },\n    'detune': (newDetune: string) => { \n      autoFilter.detune.value = Number(newDetune) \n    },\n    'Q': (newQ: string) => { \n      autoFilter.Q.value = Number(newQ) \n    },\n    'gain': (newGain: string) => {\n      autoFilter.gain.value = Number(newGain)\n    },\n  }\n\n  return {\n    audioNode: autoFilter,\n    typeTypes: filterTypes,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n    \n}\n\nexport default makeAutoFilter","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, BUTTON, VALUE } from '../moduleTypes'\n\nexport interface OutputModule extends BaseAM {\n  audioNode: GainNode\n}\n\nexport function makeOutputControlData(): ControlData {\n  return {\n    'master gain': {\n      controlType: VALUE,\n      paramID: 'gain',\n      value: 1,\n      range: [0, 1],\n      maxRange: [0, 20],\n    },\n    'resume': {\n      controlType: BUTTON,\n      paramID: 'n/a'\n    },\n    'suspend': {\n      controlType: BUTTON,\n      paramID: 'n/a'\n    }\n  }\n}\n\nfunction makeOutput(prevControlData?: ControlData): OutputModule {\n  audioCtx.resume()\n\n  const masterGain = audioCtx.createGain()\n  masterGain.connect(audioCtx.destination)\n\n  if (prevControlData) {\n    masterGain.gain.value = prevControlData['master gain'].value as number\n  } else {\n    masterGain.gain.value = 1\n  }\n\n  const controlSetFuncs = {\n    'master gain': (arg: string) => {\n      masterGain.gain.value = Number(arg)\n    },\n    'resume': (arg: string) => { audioCtx.resume() },\n    'suspend': (arg: string) => { audioCtx.suspend() }\n  }\n\n  return {\n    audioNode: masterGain,\n    connectingParamIDs: [],\n    controlSetFuncs,\n  }\n}\n\nexport default makeOutput","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE} from '../moduleTypes'\n\nexport interface StereoPannerModule extends BaseAM {\n  audioNode: StereoPannerNode\n}\n\nexport function makePannerControlData(): ControlData {\n  return {\n    'pan': {\n      controlType: VALUE,\n      paramID: 'pan',\n      value: 0,\n      range: [-1, 1],\n      maxRange: [-1, 1],\n    }\n  }\n}\n\nfunction makeStereoPanner(prevControlData?: ControlData): StereoPannerModule {\n  const stereoPanner = audioCtx.createStereoPanner()\n\n  const connectingParamIDs = ['pan']\n\n  if (prevControlData) {\n    stereoPanner.pan.value = prevControlData['pan'].value as number\n  }\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'pan': (newPan: string) => {\n      stereoPanner.pan.value = Number(newPan)\n    }\n  }\n\n  return {\n    audioNode: stereoPanner,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n\n}\n\nexport default makeStereoPanner","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE } from '../moduleTypes'\n\nexport interface SignalDelayModule extends BaseAM {\n  audioNode: DelayNode\n}\n\nexport function makeDelayControlData(): ControlData {\n  return {\n    'delay time': {\n      controlType: VALUE,\n      paramID: 'delayTime',\n      value: 0,\n      range: [0, 2],\n      maxRange: [0, 60],\n    }\n  }\n}\n\nfunction makeSignalDelay(prevControlData?: ControlData): SignalDelayModule {\n  const signalDelay = audioCtx.createDelay(60)\n\n  if (prevControlData) {\n    signalDelay.delayTime.value = prevControlData['delay time'].value as number\n  }\n\n  const connectingParamIDs = ['delayTime']\n\n  const controlSetFuncs: ControlSetFuncs = { \n    'delay time': (newDelayTime: string) => {\n      signalDelay.delayTime.value = Number(newDelayTime)\n    }\n  }\n\n  return {\n    audioNode: signalDelay,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n    \n}\n\nexport default makeSignalDelay","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE } from '../moduleTypes'\n\nexport interface KompressorModule extends BaseAM {\n  audioNode: DynamicsCompressorNode\n}\n\nexport function makeKompControlData(kompressor: DynamicsCompressorNode): ControlData {\n  return {\n    'threshold': {\n      controlType: VALUE,\n      paramID: 'threshold',\n      value: kompressor.threshold.value,\n      range: [-100, 0],\n      maxRange: [-100, 0],\n    },\n    'knee': {\n      controlType: VALUE,\n      paramID: 'knee',\n      value: kompressor.knee.value,\n      range: [0, 40],\n      maxRange: [0, 40],\n    },\n    'ratio': {\n      controlType: VALUE,\n      paramID: 'ratio',\n      value: kompressor.ratio.value,\n      range: [1, 20],\n      maxRange: [1, 20],\n    },\n    'attack': {\n      controlType: VALUE,\n      paramID: 'attack',\n      value: kompressor.attack.value,\n      range: [0, 1],\n      maxRange: [0, 1],\n    },\n    'release': {\n      controlType: VALUE,\n      paramID: 'release',\n      value: kompressor.release.value,\n      range: [0, 1],\n      maxRange: [0, 1],\n    }\n  }\n}\n\nfunction makeKompressor(prevControlData?: ControlData): KompressorModule {\n  const kompressor = audioCtx.createDynamicsCompressor()\n\n  const connectingParamIDs = ['threshold', 'knee', 'ratio', 'attack', 'release']\n\n  if (prevControlData) {\n    kompressor.threshold.value = prevControlData['threshold'].value as number\n    kompressor.knee.value = prevControlData['knee'].value as number\n    kompressor.ratio.value = prevControlData['ratio'].value as number\n    kompressor.attack.value = prevControlData['attack'].value as number\n    kompressor.release.value = prevControlData['release'].value as number\n  }\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'threshold': (newThreshold: string) => { \n      kompressor.threshold.value = Number(newThreshold) \n    },\n    'knee': (newKnee: string) => { \n      kompressor.knee.value = Number(newKnee) \n    },\n    'ratio': (newRatio: string) => { \n      kompressor.ratio.value = Number(newRatio) \n    },\n    'attack': (newAttack: string) => { \n      kompressor.attack.value = Number(newAttack)\n    },\n    'release': (newRelease: string) => { \n      kompressor.release.value = Number(newRelease) \n    },\n  }\n\n  return {\n    audioNode: kompressor,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n}\n\nexport default makeKompressor","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE } from '../moduleTypes'\n\nexport interface GainModule extends BaseAM {\n  audioNode: GainNode\n}\n\nexport function makeGainControlData(): ControlData {\n  return {\n    'gain': {\n      controlType: VALUE,\n      paramID: 'gain',\n      value: 0,\n      range: [-1, 1],\n    }\n  }\n}\n\nfunction makeGain(prevControlData?: ControlData): GainModule {\n  const gain = audioCtx.createGain()\n  gain.gain.value = prevControlData ? prevControlData['gain'].value as number : 0\n\n  const connectingParamIDs = ['gain']\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'gain': (newGain: string) => {\n      gain.gain.value = Number(newGain)\n    },\n  }\n  \n  return {\n    audioNode: gain,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n}\n\nexport default makeGain","import audioCtx from '../../audioCtx'\nimport { BaseAM, ControlData, ControlSetFuncs, VALUE, TYPE } from '../moduleTypes'\n\nexport interface OscillatorModule extends BaseAM {\n  audioNode: OscillatorNode\n  typeTypes: string[]\n}\n\nexport function makeOscControlData(oscillator: OscillatorNode): ControlData {\n  return {\n    'set type': {\n      controlType: TYPE,\n      paramID: 'type',\n      value: oscillator.type,\n    },\n    'frequency': {\n      controlType: VALUE,\n      paramID: 'frequency',\n      value: oscillator.frequency.value,\n      range: [0, 20000],\n    },\n    'detune': {\n      controlType: VALUE,\n      paramID: 'detune',\n      value: oscillator.detune.value,\n      range: [-50, 50],\n    }\n  }\n}\n\nconst oscillatorTypes = ['sine', 'square', 'triangle', 'sawtooth']\n\nfunction makeOscillator(prevControlData?: ControlData): OscillatorModule {\n  const oscillator = audioCtx.createOscillator()\n   \n  if (prevControlData) {\n    oscillator.type = prevControlData['set type'].value as OscillatorType\n    oscillator.frequency.value = prevControlData['frequency'].value as number\n    oscillator.detune.value = prevControlData['detune'].value as number \n  }\n\n  const connectingParamIDs = ['frequency', 'detune']\n\n  const controlSetFuncs: ControlSetFuncs = {\n    'set type': (newType: string) => { oscillator.type = newType as OscillatorType },\n    'frequency': (newFrequency: string) => {\n      oscillator.frequency.value = Number(newFrequency)\n    },\n    'detune': (newDetune: string) => { \n      oscillator.detune.value = Number(newDetune)\n    },\n    'kill': (arg = '') => { oscillator.stop() }\n  }\n\n  oscillator.start()\n  \n  return {\n    audioNode: oscillator,\n    typeTypes: oscillatorTypes,\n    connectingParamIDs,\n    controlSetFuncs,\n  }\n    \n}\n\nexport default makeOscillator","import audioCtx from '../../audioCtx'\nimport { BaseAM, SWITCH, ControlData, ControlSetFuncs } from '../moduleTypes'\n\nexport interface LineInputModule extends BaseAM {\n  audioNode: ChannelSplitterNode\n}\n\nexport function makeLineInControlData(): ControlData {\n  return {\n    'mute': {\n      controlType: SWITCH,\n      paramID: 'n/a',\n      value: false,\n    }\n  }\n}\n\nfunction makeLineInput(id: string) {\n  navigator.mediaDevices.getUserMedia({\n    audio: {\n      echoCancellation: false,\n      autoGainControl: false,\n      noiseSuppression: false,\n      latency: 0,\n    }\n  }).then(stream => {\n    const lineInput = audioCtx.createMediaStreamSource(stream)\n    const channelSplitter = audioCtx.createChannelSplitter(2)\n    lineInput.connect(channelSplitter)\n\n    \n\n    const controlSetFuncs: ControlSetFuncs = {\n      'mute': (arg: string) => {\n        stream.getAudioTracks()[0].enabled = arg === 'true'\n      }\n    }\n\n    const lineInputModule: LineInputModule = {\n      audioNode: channelSplitter,\n      connectingParamIDs: [],\n      controlSetFuncs,\n    }\n\n    window.audioModules = {\n      ...window.audioModules,\n      [id]: lineInputModule\n    }\n  })\n}\n\nexport default makeLineInput","import { BaseAM, ControlData, ControlSetFuncs, BUTTON } from \"../moduleTypes\"\n\nexport interface ContainerModule extends BaseAM {\n  inputModuleID?: string\n  outputModuleID?: string\n}\n\nexport function makeContainerControlData(): ControlData {\n  return {\n    'open': {\n      controlType: BUTTON,\n      paramID: 'n/a',\n    }\n  }\n}\n\nfunction makeContainer(id: string): ContainerModule {\n  const controlSetFuncs: ControlSetFuncs = {\n    'open': () => {\n      window.fillContainerID = id\n      window.highlightedID = ''\n      window.currUnHighlight = () => {}\n      window.reRenderFillContainer()\n    }\n  }\n  return {\n    connectingParamIDs: [],\n    controlSetFuncs,\n  }\n}\n\nexport default makeContainer","import {\n  ModuleType,\n  OSCILLATOR,\n  OUTPUT, GAIN,\n  AUTOFILTER,\n  KOMPRESSOR,\n  STEREO_PANNER,\n  SIGNAL_DELAY,\n  CONSTANT,\n  MEDIA_ELEMENT,\n  LINE_IN,\n  CONTAINER,\n  ControlData,\n} from './moduleTypes'\nimport makeConstantSource from './modules/constant'\nimport makeAutoFilter from './modules/autoFilter'\nimport makeOutput from './modules/output'\nimport makeStereoPanner from './modules/stereoPanner'\nimport makeSignalDelay from './modules/signalDelay'\nimport makeKompressor from './modules/kompressor'\nimport makeGain from './modules/gain'\nimport makeOscillator from './modules/oscillator'\nimport makeLineInput from './modules/lineInput'\nimport makeContainer from './modules/container'\n\n\nfunction restoreAudioModule(id: string, moduleType: ModuleType, prevControlData: ControlData) {\n  switch (moduleType) {\n    case OSCILLATOR:\n      const osc = makeOscillator(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: osc }\n      break\n    case GAIN:\n      const gain = makeGain(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: gain }\n      break\n    case OUTPUT:\n      const output = makeOutput(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: output }\n      break\n    case AUTOFILTER:\n      const filter = makeAutoFilter(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: filter }\n      break\n    case KOMPRESSOR:\n      const komp = makeKompressor(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: komp }\n      break\n    case STEREO_PANNER:\n      const panner = makeStereoPanner(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: panner }\n      break;\n    case SIGNAL_DELAY:\n      const delay = makeSignalDelay(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: delay }\n      break\n    case CONSTANT:\n      const constant = makeConstantSource(prevControlData)\n      window.audioModules = { ...window.audioModules, [id]: constant }\n      break\n    case MEDIA_ELEMENT:\n      window.addAudioTag(id); window.reRenderAudioTags();\n      break;\n    case LINE_IN:\n      makeLineInput(id)\n      break;\n    case CONTAINER:\n      const container = makeContainer(id)\n      window.audioModules = { ...window.audioModules, [id]: container };\n      break\n  }\n}\n\n\nexport default restoreAudioModule","import { ConnectingAudioModule } from \"./moduleTypes\";\n\nexport function connect(fromMod: ConnectingAudioModule, toMod: ConnectingAudioModule, param = '', outputIndex?: number, inputIndex?: number) {\n  if (param.length === 0) {\n    fromMod.audioNode.connect(toMod.audioNode, outputIndex, inputIndex)\n  } else {\n    if (toMod.audioNode[param]) {\n      fromMod.audioNode.connect(toMod.audioNode[param], outputIndex)\n    } else {\n      alert('param does not exist')\n    }\n  }\n}\n\nexport function disconnect(fromMod: ConnectingAudioModule, toMod: ConnectingAudioModule, param = '', outputIndex?: number) {\n  if (param.length === 0) {\n    if (typeof(outputIndex) === 'number') {\n      fromMod.audioNode.disconnect(toMod.audioNode, outputIndex)\n    } else {\n      fromMod.audioNode.disconnect(toMod.audioNode)\n    }\n  } else {\n    if (toMod.audioNode[param]) {\n      if (typeof (outputIndex) === 'number') {\n        fromMod.audioNode.disconnect(toMod.audioNode[param], outputIndex)\n      } else {\n        fromMod.audioNode.disconnect(toMod.audioNode[param])\n      }\n    } else {\n      alert('param does not exist')\n    }\n  }\n}","import React, { useState, useEffect } from 'react'\nimport { Button } from '../all'\nimport { RootState } from '../../redux/stateTSTypes'\nimport feathers from '@feathersjs/feathers'\nimport rest from '@feathersjs/rest-client'\nimport { useDispatch } from 'react-redux'\nimport { restoreFromState as restoreFromStateAction } from '../../redux/allActions'\nimport { restoreFromState } from '../../redux/restoreFromState'\nimport { colors } from '../../theme/theme'\n\ndeclare global {\n  interface Window {\n    spaceDBSaveService: any\n  }\n}\n\nexport interface Save {\n  id: string,\n  savedState: RootState,\n}\n\nconst spaceDB = feathers()\nconst restClient = rest('http://192.168.1.81:30300') // spaceDB\n// http://192.168.1.79:3030 - yoga\n// http://192.168.1.65:3030 - mac\n\nspaceDB.configure(restClient.fetch(window.fetch))\nwindow.spaceDBSaveService = spaceDB.service('spaceDB-save-service')\n\nconst buttonStyle = {\n  backgroundColor: 'transparent'\n}\n\nfunction SpaceDBMenu() {\n  const [ saveList, setSaveList ] = useState<string[]>([])\n  const dispatch = useDispatch()\n  useEffect(() => {\n    window.spaceDBSaveService.find().then((saveNames: string[]) => { setSaveList(saveNames) }) \n  }, [])\n  return (\n    <div>\n      <Button style={buttonStyle}\n        onClick={() => { \n          window.spaceDBSaveService.find().then((saveNames: string[]) => { setSaveList(saveNames) }) \n        }}\n      >\n        refresh saves\n      </Button>\n      <div>\n        {saveList.map(saveName => {\n          return (\n            <div style={{ display: 'flex', flexDirection: 'row' }} key={saveName}>\n              <Button style={buttonStyle}\n                onClick={() => {\n                  window.spaceDBSaveService.get(saveName).then((savedState: RootState) => {\n                    dispatch(restoreFromStateAction(savedState))\n                    restoreFromState(savedState)\n                  })\n                }}\n              >\n                {saveName}\n              </Button>\n              <Button style={{ backgroundColor: colors.deleteButton }}\n                onClick={() => {\n                  window.openConfirmDeleteMenu(saveName, () => {\n                    window.setTimeout(() => {\n                      window.spaceDBSaveService.find().then((saveNames: string[]) => { setSaveList(saveNames) })\n                    }, 1000)\n                  })\n                }}\n              >\n                delete\n              </Button>\n            </div>\n          )\n        })}\n      </div>\n      <Button style={buttonStyle}\n        onClick={() => {\n          window.openSaveMenu(saveList, () => {\n            window.setTimeout(() => {\n              window.spaceDBSaveService.find().then((saveNames: string[]) => { setSaveList(saveNames) })\n            }, 1000)\n          })\n        }}\n      >\n        save\n      </Button>\n    </div>\n  )\n}\n\nexport default SpaceDBMenu","import { RootState } from \"./stateTSTypes\"\nimport restoreAudioModule from \"../audioModules/restoreAudioModule\"\nimport { ModuleType, ConnectingAudioModule, MEDIA_ELEMENT, LINE_IN } from \"../audioModules/moduleTypes\"\nimport { connect } from \"../audioModules/connection\"\n\nexport function restoreFromState({ modules, connections }: RootState) {\n  Object.keys(modules).forEach(modID => {\n    const { moduleType, controlData } = modules[modID]\n    restoreAudioModule(modID, moduleType as ModuleType, controlData)\n    console.log(window.audioModules)\n  })\n  if (connections) {\n    Object.keys(connections).forEach(connectionID => {\n      const { fromID, toID, param, outputIndex, inputIndex, actualOutputID, actualInputID } = connections[connectionID]\n      const toType = modules[actualInputID ? actualInputID : toID].moduleType\n      const fromType = modules[actualOutputID ? actualOutputID : fromID].moduleType\n      const needsToWait = toType === MEDIA_ELEMENT || fromType === MEDIA_ELEMENT ||\n        toType === LINE_IN || fromType === LINE_IN\n      if (!needsToWait) {\n        connect(\n          window.audioModules[actualOutputID ? actualOutputID : fromID] as ConnectingAudioModule,\n          window.audioModules[actualInputID ? actualInputID : toID] as ConnectingAudioModule,\n          param,\n          outputIndex,\n          inputIndex,\n        )\n      } else {\n        window.setTimeout(() => {\n          connect(\n            window.audioModules[actualOutputID ? actualOutputID : fromID] as ConnectingAudioModule,\n            window.audioModules[actualInputID ? actualInputID : toID] as ConnectingAudioModule,\n            param,\n            outputIndex,\n            inputIndex,\n          )\n        }, 200)\n      }\n    })\n  }\n}","import React, { useRef, useEffect, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { RootState } from '../../redux/stateTSTypes'\nimport { Button } from '../all'\nimport { getFileDirectory } from './helpers'\nimport { sizes } from '../../theme/theme'\nimport { restoreFromState } from '../../redux/allActions'\nconst fs = window.require('fs')\n\nfunction FileMenu() {\n  const state = useSelector((state: RootState) => state)\n  const folderRef = useRef<HTMLInputElement>(null)\n  const initName = state.modules[state.baseContainerID].name\n  const [saveName, setSaveName] = useState(initName)\n  const dispatch = useDispatch()\n  useEffect(() => {\n    window.setTimeout(() => {\n      if (folderRef.current) {\n        (folderRef.current as any).webkitdirectory = true\n      }\n    }, 50)\n  }, [])\n  return (\n    <div>\n      <label htmlFor='chooseFile'>\n        <Button\n        >open file</Button>\n      </label>\n      <input style={{ width: 0, height: 0, opacity: 0 }}\n        id='chooseFile'\n        type='file'\n        onChange={e => {\n          const file = ((e.target as HTMLInputElement).files as FileList)[0]\n          if (file) {\n            const path = (file as any).path\n            fs.readFile(path, (err: any, data: string) => {\n              if (err) throw err;\n              const state = JSON.parse(data)\n              dispatch(restoreFromState(state))\n              restoreFromState(state)\n            })\n            console.log(path)\n          }\n        }}\n      />\n      <input style={{ fontSize: sizes.text.small }}\n        placeholder={initName}\n        value={saveName}\n        onChange={e => {\n          setSaveName(e.target.value)\n        }}\n      />\n      <label htmlFor='chooseFolder'>\n        <Button>save (select folder)</Button>\n      </label>\n      <input style={{ width: 0, height: 0, opacity: 0 }}\n        id='chooseFolder'\n        type='file'\n        ref={folderRef}\n        onChange={e => {\n          const goodDir = getFileDirectory((((e.target as HTMLInputElement).files as FileList)[0] as any).path)\n          if (saveName !== '') {\n            console.log(goodDir + saveName + '.sm')\n            fs.writeFile(goodDir + saveName + '.sm', JSON.stringify(state), (err: any) => {\n              console.log('saved maybe')\n              if (err) throw err\n            })\n          }\n        }}\n      />\n    </div>\n  )\n}\n\nexport default FileMenu","export function getFileDirectory(badDir: string) {\n  for (var i = badDir.length; i > 0; i--) {\n    if (badDir[i] === '/') {\n      return badDir.slice(0, i + 1)\n    }\n  }\n  return badDir\n}","import React, { useState, useRef, useEffect } from 'react'\nimport useJSS from './style'\nimport { animated, useSpring } from 'react-spring'\nimport { sizes } from '../../theme/theme'\nimport HeaderItem from './HeaderItem'\nimport { sourceModuleData, effectModuleData, utilityModuleData } from './ModuleIcons/moduleData'\nimport { clamp } from '../../helpers/genFuncs'\nimport ModuleIcons from './ModuleIcons/ModuleIcons'\nimport SpaceDBMenu from './SpaceDBMenu'\nimport FileMenu from './FileMenu'\n\nconst SOURCES = 'sources'\nconst EFFECTS = 'effects'\nconst UTILITY = 'utility'\nconst SPACEDB = 'spaceDB'\nconst FILE = 'file'\n\nlet drawerWidth = sizes.rightDrawer.width\n\nfunction RightDrawer() {\n  const classes = useJSS()\n  const [open, setOpen] = useState(true)\n  const [width, setWidth] = useState(drawerWidth)\n  const drawerSpring = useSpring({\n    transform: open ? 'translate(0px, 0px)' : `translate(${width}px, 0px)`,\n    config: {\n      tension: 220,\n      clamp: true,\n    }\n  })\n  const [selectedRoute, setSR] = useState(SOURCES)\n  const drawerRef = useRef<HTMLDivElement>(null)\n  const toggleRef = useRef<HTMLDivElement>(null)\n  const drawerHeaderRef = useRef<HTMLDivElement>(null)\n  const itemRouterRef = useRef<HTMLDivElement>(null)\n  const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n  let adjusting = false\n  const [, toReRender ] = useState({})\n  useEffect(() => {\n    window.addEventListener('resize', () => {\n      window.setTimeout(() => { toReRender({}) }, 500) \n    })\n  })\n  return (\n    <animated.div className={classes.DrawerBounder} style={drawerSpring} onPointerDown={e => e.stopPropagation()}>\n      <div className={classes.Toggle}\n        ref={toggleRef}\n        onPointerDown={e => {\n          if (open && e.shiftKey) {\n            adjusting = true\n            toggleRef.current?.setPointerCapture(e.pointerId)\n          } else {\n            setOpen(!open)\n          }\n        }}\n        onPointerMove={e => {\n          if (adjusting) {\n            drawerWidth = `${clamp(vw - e.clientX, [150, 700] )}px`\n            if (drawerRef.current) { drawerRef.current.style.width = drawerWidth }\n            if (drawerHeaderRef.current) { drawerHeaderRef.current.style.width = drawerWidth }\n            if (itemRouterRef.current) { itemRouterRef.current.style.width = drawerWidth }\n            if (toggleRef.current) { toggleRef.current.style.right = drawerWidth }\n          }\n        }}\n        onPointerUp={e => {\n          if (adjusting) {\n            adjusting = false\n            setWidth(drawerWidth)\n            toggleRef.current?.releasePointerCapture(e.pointerId)\n          }\n        }}\n      >\n        <div className={classes.ToggleLine} onClick={() => {setOpen(!open)}}/>\n      </div>\n      <div className={classes.Drawer} ref={drawerRef}>\n        <div className={classes.DrawerHeader} ref={drawerHeaderRef}\n          onWheel={e => {\n            if (drawerHeaderRef && drawerHeaderRef.current) {\n              drawerHeaderRef.current.scrollLeft += e.deltaY\n            }\n          }}\n        >\n          <HeaderItem\n            className={classes.DrawerHeaderItem} \n            text={SOURCES}\n            onClick={() => {setSR(SOURCES)}}\n            selectedRoute={selectedRoute}\n          />\n          <HeaderItem\n            className={classes.DrawerHeaderItem} \n            text={EFFECTS} \n            onClick={() => {setSR(EFFECTS)}}\n            selectedRoute={selectedRoute}\n          />\n          <HeaderItem \n            className={classes.DrawerHeaderItem} \n            text={UTILITY} \n            onClick={() => {setSR(UTILITY)}}\n            selectedRoute={selectedRoute}\n          />\n          <HeaderItem\n            className={classes.DrawerHeaderItem}\n            text={SPACEDB}\n            onClick={() => { setSR(SPACEDB) }}\n            selectedRoute={selectedRoute}\n          />\n          <HeaderItem\n            className={classes.DrawerHeaderItem}\n            text={FILE}\n            onClick={() => { setSR(FILE) }}\n            selectedRoute={selectedRoute}\n          />\n        </div>\n        <div className={classes.ItemRouter} ref={itemRouterRef}>\n          {\n            selectedRoute === SOURCES\n            ?\n            <ModuleIcons moduleData={sourceModuleData} />\n            :\n            selectedRoute === EFFECTS\n            ?\n            <ModuleIcons moduleData={effectModuleData} />\n            :\n            selectedRoute === UTILITY\n            ?\n            <ModuleIcons moduleData={utilityModuleData} />\n            :\n            selectedRoute === SPACEDB\n            ?\n            <SpaceDBMenu />\n            :\n            selectedRoute === FILE\n            ?\n            <FileMenu />\n            :\n            null\n          }\n        </div>\n      </div>\n    </animated.div>\n  )\n}\n\nexport default RightDrawer","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../theme/theme'\n//import sineSVG from '../../icons/oscIcons/sine2.svg'\n\nconst useJSS = createUseStyles({\n  FillBounder: {\n    backgroundColor: colors.fillModule,\n    display: 'flex',\n    flexDirection: 'column',\n    margin: '5vmin',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    borderRadius: '2vmin',\n  },\n\n  FillHeaderBounder: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n\n  FillHeader: {\n    borderColor: 'white',\n    borderStyle: 'none none none none',\n    padding: '1vmin',\n    marginLeft: '2vmin',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  },\n\n  Fill: {\n    display: 'grid',\n    minWidth: sizes.moduleView.iconGrid,\n    minHeight: sizes.moduleView.iconGrid,\n    //alignItems: 'center',\n    //justifyItems: 'center',\n    padding: '4vmin',\n    zIndex: 1,\n    rowGap: sizes.moduleView.gutterGrid,\n    columnGap: sizes.moduleView.gutterGrid,\n  },\n\n  ArcherContainer: {\n    width: '100%',\n    height: '100%',\n    zIndex: 0,\n    display: 'grid',\n  },\n\n  Icon: {\n    backgroundColor: colors.module,\n    //backgroundImage: `url(${sineSVG})`,\n    //backgroundSize: 'contain',\n    borderRadius: '1.5vmin',\n    borderStyle: 'none',\n    borderColor: 'white',\n    whiteSpace: 'wrap',\n    fontSize: sizes.text.medium,\n    padding: '1vmin',\n    display: 'flex',\n    flexFlow: 'column nowrap',\n    alignItems: 'flex-end',\n    justifyContent: 'space-between',\n    overflow: 'hidden',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    '&:hover': {\n      cursor: 'pointer',\n      borderStyle: 'solid',\n    },\n    zIndex: 2,\n  },\n\n  IconControlContainer: {\n    width: sizes.moduleView.bigIconWidth,\n    maxHeight: sizes.moduleView.bigIconHeight,\n    justifySelf: 'flex-end',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n  },\n\n  ArcherElement: {\n    zIndex: 1,\n    display: 'grid',\n    backgroundColor: 'transparent',\n    gridTemplateRows: '10px auto 10px',\n    gridTemplateColumns: '10px auto 10px',\n    padding: '1vmin'\n  },\n\n  IconName: {\n    fontSize: sizes.text.small,\n    '&:hover': {\n      cursor: 'pointer',\n    }\n  },\n\n  IconConnector: {\n    backgroundColor: colors.outputConnector,\n    width: sizes.connector.size,\n    height: sizes.connector.size,\n    borderRadius: sizes.connector.borderRadius,\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    borderStyle: 'solid',\n    borderColor: 'transparent',\n    '&:hover': {\n      cursor: 'pointer',\n      borderColor: 'white',\n    },\n    justifySelf: 'flex-start',\n    alignSelf: 'flex-end',\n  },\n})\n\nexport default useJSS","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  MenuHeader: {\n    fontSize: sizes.text.medium,\n    borderStyle: 'none none solid none',\n    margin: '1vmin',\n    width: '90%'\n  }, \n\n  Connection: {\n    fontSize: sizes.text.small,\n    backgroundColor: colors.fillModule,\n    margin: '.5vmin 3vmin',\n    borderRadius: '1vmin',\n    borderColor: 'transparent',\n    borderStyle: 'solid',\n    minWidth: '30%',\n    padding: '1vmin',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    '&:hover': {\n      cursor: 'pointer',\n      borderColor: colors.deleteButton,\n    },\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n  },\n\n  ControlBounder: {\n    display: 'flex',\n    flexFlow: 'row wrap',\n    //justifyContent: 'space-around',\n    alignItems: 'center',\n    fontSize: sizes.text.small,\n    margin: '0vmin 1vmin'\n  },\n\n  ControlMenu: {\n    display: 'flex',\n    flexFlow: 'row wrap',\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n})\n\nexport default useJSS","import { createUseStyles } from 'react-jss'\nimport { sizes, colors } from '../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  ControlTypeSelect: {\n    minWidth: '9vmin',\n    maxWidth: '5em',\n    margin: '1vmin',\n    fontSize: sizes.text.small,\n    backgroundColor: colors.knob,\n    color: colors.knobText,\n    textAlign: 'center',\n  },\n\n  ControlInput: {\n    minWidth: '9vmin',\n    maxWidth: '5em',\n    margin: '1vmin',\n    fontSize: sizes.text.small\n  },\n\n  ControlMenu: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    alignItems: 'center'\n  },\n})\n\nexport default useJSS","import React from 'react'\nimport useJSS from './style'\nimport { Button } from '../../all'\nimport { colors, sizes } from '../../../theme/theme'\nimport { SetFunc } from '../../../audioModules/moduleTypes'\n\ninterface Props {\n  controlID: string\n  setFunc: SetFunc\n  reRenderIcon: () => void\n  modName?: string\n}\n\nfunction File({ controlID, setFunc, reRenderIcon, modName }: Props) {\n  const classes = useJSS()\n  return (\n    <div className={classes.ControlMenu}>\n      <label style={{ minWidth: '50%', }}\n        htmlFor={window.highlightedID + controlID}\n      >\n        <Button style={{\n          //backgroundColor: colors.fillModule,\n          borderColor: colors.deleteButton,\n        }}\n        >{modName ? `${modName} - ${controlID}` : controlID}</Button>\n      </label>\n      <input style={{ width: 0, height: 0, opacity: 0 }}\n        type='file'\n        id={window.highlightedID + controlID}\n        onChange={(e) => {\n          const file = ((e.target as HTMLInputElement).files as FileList)[0]\n          setFunc(URL.createObjectURL(file))\n          window.audioTags[window.highlightedID].srcName = file.name\n          window.reRenderAudioTags()\n          reRenderIcon()\n        }}\n      />\n      <p style={{\n        fontSize: sizes.text.xsmall,\n        textAlign: 'center',\n        whiteSpace: 'normal',\n        justifyContent: 'center',\n        width: '100%',\n        overflowWrap: 'break-word',\n        wordWrap: 'break-word',\n        hyphens: 'auto',\n      }}>\n        {window.audioTags[window.highlightedID].srcName}\n      </p>\n    </div>\n  )\n}\n\nexport default File","import React, { Fragment } from 'react'\nimport useJSS from './style'\nimport { SetFunc, Value, AudioModuleWithTypes } from '../../../audioModules/moduleTypes'\nimport { useDispatch } from 'react-redux'\nimport { updateControlValue } from '../../../redux/allActions'\n\ninterface Props {\n  setFunc: SetFunc\n  audioModule: AudioModuleWithTypes\n  value: Value | undefined\n  modID: string\n  modName?: string\n  controlID: string\n}\n\nfunction Type({ setFunc, audioModule, controlID, value, modID, modName }: Props) {\n  const classes = useJSS()\n  const { audioNode } = audioModule\n  const dispatch = useDispatch()\n  return (\n    <Fragment>\n      <label htmlFor={'type'}>{modName ? `set type - ${modName}` : 'set type'}</label>\n      <select className={classes.ControlTypeSelect}\n        name='type' id='type'\n        onChange={(e) => {\n          setFunc(e.target.value)\n          dispatch(updateControlValue(modID, controlID, e.target.value))\n        }}\n        value={value as string ? value as string : audioNode.type as string}\n      >\n        {(audioModule as AudioModuleWithTypes).typeTypes.map(type => {\n          return (\n            <option value={type} key={modID + type}>{type}</option>\n          )\n        })}\n      </select>\n    </Fragment>\n  )\n}\n\nexport default Type","import { sizes } from '../../theme/theme'\n\nexport function getRotation(val: number, range: [number, number]) {\n  return ((val - range[0]) / (range[1] - range[0])) * (sizes.knob.rotRange[1] - sizes.knob.rotRange[0]) + sizes.knob.rotRange[0]\n}\n\nexport function makeValString(val: number) {\n  const roundedNumString = (Math.floor(val * 10) / 10).toString()\n\n  return roundedNumString.slice(roundedNumString.length - 2, roundedNumString.length - 1) === '.' ? roundedNumString : roundedNumString + '.0'\n}","import React, { useState } from 'react'\nimport { SetFunc } from '../../../audioModules/moduleTypes'\nimport { StatelessKnob } from '../../all'\nimport { clamp } from '../../../helpers/genFuncs'\nimport { makeValString } from '../../Knob/helpers'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { updateControlValue, updateControlRange } from '../../../redux/allActions'\n\ninterface Props {\n  controlID: string\n  setFunc: SetFunc\n  actualModID?: string\n  displayModName?: string\n}\n\nfunction ValueControl({ controlID, setFunc, actualModID, displayModName }: Props) {\n  const modID = actualModID ? actualModID : window.highlightedID\n  const [ val, currRange ] = useSelector((state: RootState) => {\n    return [\n      state.modules[modID].controlData[controlID].value as number,\n      state.modules[modID].controlData[controlID].range as [number, number],\n    ]\n  })\n  const [inputVal, setInputVal] = useState(makeValString(val))\n  const dispatch = useDispatch()\n  return (\n    <div style={{ \n      display: 'flex', \n      flexDirection: 'column',\n      alignItems: 'center',\n    }}>\n      <StatelessKnob\n        initValue={val}\n        range={currRange}\n        inputVal={inputVal}\n        setInputVal={setInputVal}\n        onEveryChange={newVal => {\n          setFunc(newVal.toString())\n        }}\n        onChange={newVal => {\n          setFunc(newVal.toString())\n          dispatch(updateControlValue(modID, controlID, newVal))\n        }}\n        onSettingsClick={() => {\n          window.openRangeSetMenu(modID, controlID, (newRange) => {\n            setFunc(clamp(val, newRange).toString())\n            setInputVal(makeValString(clamp(val, newRange)))\n            dispatch(updateControlRange(modID, controlID, newRange))\n          })\n        }}\n      />\n      <div>{displayModName ? `${displayModName} - ${controlID}` : controlID}</div>\n    </div>\n  )\n}\n\nexport default ValueControl","import React from 'react'\nimport { Button } from '../../all'\nimport { SetFunc } from '../../../audioModules/moduleTypes'\nimport { colors } from '../../../theme/theme'\n\ninterface Props {\n  setFunc: SetFunc\n  controlID: string\n  modName?: string\n}\n\nfunction ButtonControl({ setFunc, controlID, modName }: Props) {\n  return (\n    <Button style={{\n      //backgroundColor: colors.fillModule,\n      borderColor: colors.deleteButton,\n      width: '50%',\n    }}\n      onClick={() => {\n        setFunc('')\n      }}\n    >{modName ? `${modName} - ${controlID}` : controlID}</Button>\n  )\n}\n\nexport default ButtonControl","import React from 'react'\nimport { Switch } from '../../all'\nimport { SetFunc } from '../../../audioModules/moduleTypes'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\n\ninterface Props {\n  controlID: string\n  setFunc: SetFunc\n  actualModID: string\n  modName?: string\n}\n\nfunction SwitchControl({ controlID, setFunc, actualModID, modName }: Props) {\n  const initState = useSelector((state: RootState) => state.modules[actualModID].controlData[controlID].value as boolean)\n  return (\n    <Switch text={modName ? `${modName} - ${controlID}` : controlID} \n      initState={initState} \n      onSwitch={(newState) => {\n        setFunc(newState ? 'true' : 'false')\n      }}\n    />\n  )\n}\n\nexport default SwitchControl","import React from 'react'\nimport useJSS from './style'\nimport { AudioModule, AudioModuleWithTypes } from '../../audioModules/moduleTypes'\nimport { Module } from '../../redux/stateTSTypes'\nimport { TYPE, BUTTON, VALUE, FILE, SWITCH } from '../../audioModules/moduleTypes'\nimport { FileControl, TypeControl, ValueControl, ButtonControl, SwitchControl } from './controls/all'\n\ninterface Props {\n  audioModule: AudioModule\n  selectedModule: Module\n  reRenderIcon: () => void\n}\n\nfunction ControlMenu({ audioModule, selectedModule, reRenderIcon }: Props) {\n  const classes = useJSS()\n  return (\n    <div className={classes.ControlMenu}>\n      {Object.keys(selectedModule.controlData).map((controlID, index) => {\n        const { controlType, value } = selectedModule.controlData[controlID]\n        const setFunc = audioModule.controlSetFuncs[controlID]\n        return (\n          <div className={classes.ControlBounder} key={selectedModule.id + controlID + index}>\n            {controlType === VALUE\n            ?\n            <ValueControl controlID={controlID} setFunc={setFunc} />\n            :\n            controlType === BUTTON\n            ?\n            <ButtonControl setFunc={setFunc} controlID={controlID} />\n            :\n            controlType === TYPE\n            ?\n            <TypeControl setFunc={setFunc} audioModule={audioModule as AudioModuleWithTypes} controlID={controlID} value={value} modID={selectedModule.id} />\n            :\n            controlType === FILE\n            ?\n            <FileControl controlID={controlID} setFunc={setFunc} reRenderIcon={reRenderIcon} />\n            :\n            controlType === SWITCH\n            ?\n            <SwitchControl controlID={controlID} setFunc={setFunc} actualModID={selectedModule.id} />\n            :\n            null\n            }\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default ControlMenu","import React, { Fragment } from 'react'\nimport useJSS from './style'\nimport { Module, Modules, RootState } from '../../redux/stateTSTypes'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { removeConnection } from '../../redux/allActions'\nimport { disconnect } from '../../audioModules/connection'\nimport { ConnectingAudioModule } from '../../audioModules/moduleTypes'\n\ninterface Props {\n  selectedModule: Module\n  modules: Modules\n}\n\nfunction InputOutputView({ selectedModule, modules }: Props) {\n  const classes = useJSS()\n  const dispatch = useDispatch()\n  const am = window.audioModules\n  const connections = useSelector((state: RootState) => state.connections)\n  return (\n    <Fragment>\n\n      {!selectedModule ? null : selectedModule.inputs.length === 0 ? null :\n        <div className={classes.MenuHeader}>inputs</div>\n      }\n\n      {!selectedModule ? null : selectedModule.inputs.map((connectionID, index) => {\n        const { fromID, param, outputIndex, actualOutputID: containerOutputChildID, actualInputID: containerInputChildID } = connections[connectionID]\n        const name = modules[fromID].name\n        return (\n          <div className={classes.Connection}\n            key={fromID + param + 'inp' + index}\n            onClick={() => {\n              dispatch(removeConnection(connectionID))\n              disconnect(am[containerOutputChildID ? containerOutputChildID : fromID] as ConnectingAudioModule, am[containerInputChildID ? containerInputChildID : selectedModule.id] as ConnectingAudioModule, param, outputIndex)\n            }}\n          >\n            {`${name}${containerOutputChildID ? ` - ${modules[containerOutputChildID].name}` : ''}${param.length !== 0 ? ` - ${param}` : ''}`}\n          </div>\n        )\n      })}\n\n      {!selectedModule ? null : selectedModule.outputs.length === 0 ? null :\n        <div className={classes.MenuHeader}>outputs</div>\n      }\n\n      {!selectedModule ? null : selectedModule.outputs.map((connectionID, index) => {\n        const { toID, param, outputIndex, actualOutputID: containerOutputChildID, actualInputID: containerInputChildID } = connections[connectionID]\n        const name = modules[toID].name\n        return (\n          <div className={classes.Connection}\n            key={toID + param + 'out' + index}\n            onClick={() => {\n              dispatch(removeConnection(connectionID))\n              disconnect(am[containerOutputChildID ? containerOutputChildID : selectedModule.id] as ConnectingAudioModule, am[containerInputChildID ? containerInputChildID : toID] as ConnectingAudioModule, param, outputIndex)\n            }}\n          >\n            {`${name}${containerInputChildID ? ` - ${modules[containerInputChildID].name}` : ''}${param.length !== 0 ? ` - ${param}` : ''}`}\n          </div>\n        )\n      })}\n    </Fragment>\n  )\n}\n\nexport default InputOutputView","import React, { useState, Fragment } from 'react'\nimport { Button, Switch } from '../all'\nimport { sizes } from '../../theme/theme'\nimport { Module, ContainerModule, RootState } from '../../redux/stateTSTypes'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { markContainerControl, unmarkContainerControl } from '../../redux/allActions'\nimport { stringIn } from '../../helpers/genFuncs'\nimport { CONTAINER } from '../../audioModules/moduleTypes'\n\ninterface Props {\n  selectedModule: Module\n}\n\n\nfunction MarkContainerControls({ selectedModule }: Props) {\n  const [open, setOpen] = useState(false)\n  const dispatch = useDispatch()\n  const modules = useSelector((state: RootState) => state.modules)\n  return (\n    <Fragment>\n      <Button style={{ fontSize: sizes.text.xsmall, marginTop: '2vmin' }}\n        onClick={() => {\n          setOpen(!open)\n        }}\n      >mark container controls</Button>\n      <div>\n        {\n        !open ? null :\n        Object.keys(selectedModule.controlData).map((controlID, index) => {\n          return (\n            <Switch initState={stringIn(selectedModule.id + controlID, selectedModule.toContainerControls)} text={controlID}\n              style={{ fontSize: sizes.text.xsmall, padding: '1vmin' }}\n              key={controlID + index}\n              onSwitch={isMarked => {\n                if (isMarked) {\n                  dispatch(markContainerControl(selectedModule.id, controlID, selectedModule.id))\n                } else {\n                  dispatch(unmarkContainerControl(selectedModule.id, controlID, selectedModule.id))\n                }\n              }} \n            />\n          )\n        })\n        }\n        {\n        open && selectedModule.moduleType === CONTAINER ?\n          (selectedModule as ContainerModule).containerControls.map(({ modID, controlID, actualModID }, index) => {\n            const name = modules[modID].name\n            return (\n              <Switch initState={stringIn(actualModID + controlID, selectedModule.toContainerControls)} text={`${name} - ${controlID}`}\n                style={{ fontSize: sizes.text.xsmall, padding: '1vmin' }}\n                key={modID + index}\n                onSwitch={isMarked => {\n                  if (isMarked) {\n                    dispatch(markContainerControl(selectedModule.id, controlID, actualModID))\n                  } else {\n                    dispatch(unmarkContainerControl(selectedModule.id, controlID, actualModID))\n                  }\n                }}\n              />\n            )\n          }) : null\n        }\n\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MarkContainerControls","import React, { Fragment } from 'react'\nimport { Module } from '../../redux/stateTSTypes'\nimport { Switch } from '../all'\nimport { useDispatch } from 'react-redux'\nimport { markContainerInput, unmarkContainerInput, markContainerOutput, unmarkContainerOutput } from '../../redux/allActions'\nimport CSS from 'csstype'\nimport { sizes } from '../../theme/theme'\nimport MarkContainerControls from './MarkContainerControls'\n\ninterface Props {\n  baseContainerID: string\n  selectedModule: Module\n}\n\nconst switchStyle: CSS.Properties = {\n  fontSize: sizes.text.xsmall,\n  padding: '1vmin',\n}\n\nfunction MarkContainerIO({ baseContainerID, selectedModule }: Props) {\n  const dispatch = useDispatch()\n  return (\n    (selectedModule && window.fillContainerID !== baseContainerID) ?\n    <Fragment>\n      {\n      Object.keys(window.audioModules[selectedModule.id]).length === 0 ? null :\n      <MarkContainerControls selectedModule={selectedModule} />\n      }\n      {\n      selectedModule.connectionInputs.length === 0 ? null :\n      <Switch style={switchStyle}\n        key={selectedModule.id + 'inputSwitch'}\n        text={'mark as container input'} \n        initState={selectedModule.isContainerInput}\n        onSwitch={(newState) => {\n          if (newState) {\n            dispatch(markContainerInput(window.highlightedID))\n          } else {\n            dispatch(unmarkContainerInput(window.highlightedID))\n          }\n        }}\n      />\n      }\n      {\n      selectedModule.connectionOutputs.length === 0 ? null :\n      <Switch style={switchStyle}\n        key={selectedModule.id + 'outputSwitch'}\n        text={'mark as container output'}\n        initState={selectedModule.isContainerOutput}\n        onSwitch={(newState) => {\n          if (newState) {\n            dispatch(markContainerOutput(window.highlightedID))\n          } else {\n            dispatch(unmarkContainerOutput(window.highlightedID))\n          }\n        }}\n      />\n      }\n    </Fragment>\n    :\n    null\n  )\n}\n\nexport default MarkContainerIO","import React from 'react'\nimport { Button } from '../all'\nimport { colors, sizes } from '../../theme/theme'\nimport { ContainerModule, Module, RootState } from '../../redux/stateTSTypes'\nimport { disconnect } from '../../audioModules/connection'\nimport { ConnectingAudioModule } from '../../audioModules/moduleTypes'\nimport { useDispatch } from 'react-redux'\nimport { removeModule } from '../../redux/allActions'\nimport { useSelector } from 'react-redux'\n\ninterface Props {\n  selectedModule: Module | ContainerModule\n}\n\nfunction DeleteButton({ selectedModule }: Props) {\n  const am = window.audioModules\n  const dispatch = useDispatch()\n  const connections = useSelector((state: RootState) => state.connections)\n  return (\n    <Button style={{\n      backgroundColor: colors.deleteButton,\n      width: '50%',\n      fontSize: sizes.text.small\n    }}\n      onClick={() => {\n        selectedModule.inputs.forEach(inputData => {\n          const { fromID, toID, param, outputIndex, actualOutputID: containerOutputChildID, actualInputID: containerInputChildID } = connections[inputData]\n          disconnect(am[containerOutputChildID ? containerOutputChildID : fromID] as ConnectingAudioModule, am[containerInputChildID ? containerInputChildID : toID] as ConnectingAudioModule, param, outputIndex)\n        })\n        selectedModule.outputs.forEach(outputData => {\n          const { fromID, toID, param, outputIndex, actualOutputID: containerOutputChildID, actualInputID: containerInputChildID } = connections[outputData]\n          disconnect(am[containerOutputChildID ? containerOutputChildID : fromID] as ConnectingAudioModule, am[containerInputChildID ? containerInputChildID : toID] as ConnectingAudioModule, param, outputIndex)\n        })\n        dispatch(removeModule(window.highlightedID)) // should remove all connections\n        window.highlightedID = ''\n      }}\n    >delete</Button>\n  )\n}\n\nexport default DeleteButton","import React from 'react'\nimport useJSS from './style'\nimport { AudioModuleWithTypes } from '../../audioModules/moduleTypes'\nimport { ContainerModule, RootState } from '../../redux/stateTSTypes'\nimport { TYPE, BUTTON, VALUE, FILE, SWITCH } from '../../audioModules/moduleTypes'\nimport { FileControl, TypeControl, ValueControl, ButtonControl, SwitchControl } from './controls/all'\nimport { useSelector } from 'react-redux'\n\ninterface Props {\n  selectedModule: ContainerModule\n  reRenderIcon: () => void\n}\n\nfunction ContainerControlMenu({ selectedModule, reRenderIcon }: Props) {\n  const classes = useJSS()\n  const modules = useSelector((state: RootState) => state.modules)\n  return (\n    <div className={classes.ControlMenu}>\n      {selectedModule.containerControls.map(({ modID, controlID, actualModID }, index) => {\n        const audioModule = window.audioModules[actualModID]\n        const { controlType, value } = modules[modID].controlData[controlID]\n        const setFunc = audioModule.controlSetFuncs[controlID]\n        const name = modules[modID].name\n        return (\n          <div className={classes.ControlBounder} key={modID + controlID + index}>\n            {\n            controlType === VALUE\n            ?\n            <ValueControl controlID={controlID} setFunc={setFunc} actualModID={actualModID} displayModName={name}/>\n            :\n            controlType === BUTTON\n            ?\n            <ButtonControl setFunc={setFunc} controlID={controlID} modName={name} />\n            :\n            controlType === TYPE\n            ?\n            <TypeControl setFunc={setFunc} audioModule={audioModule as AudioModuleWithTypes} controlID={controlID} value={value} modID={selectedModule.id} modName={name}/>\n            :\n            controlType === FILE\n            ?\n            <FileControl controlID={controlID} setFunc={setFunc} reRenderIcon={reRenderIcon} modName={name}/>\n            :\n            controlType === SWITCH\n            ?\n            <SwitchControl controlID={controlID} setFunc={setFunc} actualModID={actualModID} modName={name} />\n            :\n            null\n            }\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default ContainerControlMenu","import React, { useState, Fragment } from 'react'\nimport { Module, RootState, ContainerModule } from '../../redux/stateTSTypes'\nimport useJSS from './style'\nimport CSS from 'csstype'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { moveModule } from '../../redux/allActions'\nimport { animated, useSpring } from 'react-spring'\nimport { sizes } from '../../theme/theme'\nimport { ArcherElement } from 'react-archer'\nimport ControlMenu from '../LargeIcon/ControlMenu'\nimport InputOutputView from '../LargeIcon/InputOutputView'\nimport MarkContainerIO from '../LargeIcon/MarkContainerIO'\nimport DeleteButton from '../LargeIcon/DeleteButton'\nimport { CONTAINER } from '../../audioModules/moduleTypes'\nimport ContainerControlMenu from '../LargeIcon/ContainerControlMenu'\nimport getModuleColor from '../../theme/moduleColor'\n\ndeclare global {\n  interface Window {\n    currUnHighlight: () => void\n  }\n}\n\nwindow.currUnHighlight = () => {}\n\ninterface Props {\n  mod: Module\n  gridCol: number\n  gridRow: number\n}\n\nfunction ModuleViewIcon({ mod, gridCol, gridRow }: Props) {\n  const classes = useJSS()\n  const [isHighlighted, setHighlighted] = useState(mod.id === window.highlightedID)\n  const [controlMenuOpen, setControlMenuOpen] = useState(false)\n  const [reRender, toReRender] = useState(false)\n  function reRenderIcon() {\n    toReRender(!reRender)\n  }\n\n  const iconStyle: CSS.Properties = {\n    gridColumn: `${gridCol} / span 1`,\n    gridRow: `${gridRow} / span 1`,\n    borderStyle: isHighlighted ? 'solid' : 'none',\n    backgroundColor: getModuleColor(mod.moduleType),\n  }\n  const archerElementStyle: CSS.Properties = {\n    gridColumn: `${gridCol} / span 1`,\n    gridRow: `${gridRow} / span 1`,\n  }\n  \n  const iconSpring = useSpring({\n    width: isHighlighted ? sizes.moduleView.bigIconWidth : sizes.moduleView.icon,\n    height: isHighlighted ? sizes.moduleView.bigIconHeight : sizes.moduleView.icon,\n    config: {\n      tension: 350,\n      clamp: true,\n    },\n    onFrame: window.refreshArcherContainer,\n    onRest: () => { setControlMenuOpen(isHighlighted) }\n  })\n\n  const nameSpring = useSpring({\n    fontSize: isHighlighted ? sizes.text.medium : sizes.text.small,\n    config: {\n      tension: 350,\n      clamp: true\n    }\n  })\n\n  const { modules, baseContainerID, connections } = useSelector((state: RootState) => state)\n  const dispatch = useDispatch()\n  return (\n    <Fragment>\n      <animated.div \n        className={classes.Icon} \n        style={Object.assign({}, iconSpring, iconStyle)}\n        onPointerDown={e => e.stopPropagation()}\n        onDragOver={event => {\n          event.preventDefault()\n        }}\n        onDrop={e => {\n          const id = e.dataTransfer.getData('id')\n          if (id) {\n            const possiblyMod = modules[id]\n            if (possiblyMod) {\n              const fromRow = e.dataTransfer.getData('fromRow')\n              const fromCol = e.dataTransfer.getData('fromCol')\n              window.setFillIsExpanded(false)\n              dispatch(moveModule(id, mod.row, mod.col))\n              dispatch(moveModule(mod.id, Number(fromRow), Number(fromCol)))\n              window.setTimeout(window.refreshArcherContainer, 100)\n            }\n          } else {\n            if (mod.connectionInputs.length === 0 && window.audioModules[mod.id].connectingParamIDs.length === 0) {\n              alert('mod cannot accept input')\n            } else {\n              const fromID = e.dataTransfer.getData('fromID')\n              if (fromID) {\n                window.openConnectionMenu(fromID, mod.id)\n              }\n            }\n          }\n          setHighlighted(false)\n        }}\n        draggable={!isHighlighted}\n        onDragStart={event => {\n          event.dataTransfer.setData('id', mod.id)\n          event.dataTransfer.setData('fromRow', `${mod.row}`)\n          event.dataTransfer.setData('fromCol', `${mod.col}`)\n          window.setFillIsExpanded(true)\n        }}\n        onDragEnd={() => {\n          window.setFillIsExpanded(false)\n        }}\n        onClick={e => {\n          if (e.stopPropagation) {\n            e.stopPropagation()\n          }\n          if (mod.id === window.highlightedID) {\n            window.currUnHighlight()\n            window.currUnHighlight = () => {}\n          } else {\n            window.currUnHighlight()\n            setHighlighted(true)\n            window.highlightedID = mod.id\n            window.currUnHighlight = () => {\n              window.highlightedID = ''\n              setControlMenuOpen(false)\n              setHighlighted(false)\n            }\n          }\n        }}\n      >\n        {\n        mod.connectionOutputs.length === 0 ? null\n        :\n        <div className={classes.IconConnector}\n          draggable={true}\n          onDragStart={(e) => {\n            e.stopPropagation()\n            e.dataTransfer.setData('fromID', mod.id)\n          }}\n        />\n        }\n        <animated.div className={classes.IconName} style={nameSpring} onClick={e => {\n          if (isHighlighted) {\n            e.stopPropagation()\n            window.openRenameMenu(mod.id)\n          }\n        }}>\n          {mod.name}\n        </animated.div>\n        {\n        !controlMenuOpen ? null :\n        <div className={classes.IconControlContainer} \n          onClick={e => e.stopPropagation()}\n        >\n          {mod.moduleType === CONTAINER ? <ContainerControlMenu selectedModule={mod as ContainerModule} reRenderIcon={reRenderIcon} /> : null}\n          <ControlMenu audioModule={window.audioModules[mod.id]} selectedModule={mod} reRenderIcon={reRenderIcon} />\n          <InputOutputView selectedModule={mod} modules={modules} />\n          <MarkContainerIO baseContainerID={baseContainerID} selectedModule={mod} />\n          <DeleteButton selectedModule={mod} />\n        </div>\n        }\n      </animated.div>\n      <animated.div className={classes.ArcherElement}\n        style={Object.assign({}, iconSpring, archerElementStyle)}\n      >\n        <div style={{\n          gridColumn: `${1} / span 1`,\n          gridRow: `${1} / span 1`,\n        }}>\n          <ArcherElement\n            id={mod.id + ' input'}\n          >\n            <div style={{\n              width: '10px',\n              height: '10px',\n              //backgroundColor: 'blue',\n            }}></div>\n          </ArcherElement>\n        </div>\n        <div style={{\n          gridColumn: `${1} / span 1`,\n          gridRow: `${3} / span 1`,\n        }}>\n          <ArcherElement\n            id={mod.id + ' controls'}\n          >\n            <div style={{\n              width: '10px',\n              height: '10px',\n              //backgroundColor: 'yellow',\n            }}></div>\n          </ArcherElement>\n        </div>\n        <div style={{\n          gridColumn: `${3} / span 1`,\n          gridRow: `${1} / span 1`,\n        }}>\n          <ArcherElement\n            id={mod.id + ' output'}\n            relations={mod.outputs.filter(connectionID => {\n              const { fromID, actualOutputID } = connections[connectionID]\n              return actualOutputID !== fromID\n            }).map(connectionID => {\n              const { toID, param } = connections[connectionID]\n              return {\n                targetId: param === '' ? toID + ' input' : toID + ' controls',\n                targetAnchor: 'left',\n                sourceAnchor: 'right',\n                style: {\n                  strokeColor: param === '' ? 'red' : 'blue',\n                }\n              }\n            })}\n          >\n            <div style={{\n              width: '10px',\n              height: '10px',\n            }} />\n          </ArcherElement>\n        </div>\n      </animated.div>\n    </Fragment>\n  )\n}\n\nexport default ModuleViewIcon","import { createUseStyles } from 'react-jss'\nimport { sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  DropSquare: {\n    width: sizes.moduleView.iconGrid,\n    height: sizes.moduleView.iconGrid,\n    borderStyle: 'solid',\n    borderRadius: '10px',\n    zIndex: 1,\n  },\n})\n\nexport default useJSS","import React, { useState } from 'react'\nimport CSS from 'csstype'\nimport useJSS from './style'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState, ContainerModule } from '../../redux/stateTSTypes'\nimport { moveModule } from '../../redux/modules/moduleActions'\nimport { isOccupied } from '../ModuleView/helpers'\nimport { ModuleType } from '../../audioModules/moduleTypes'\nimport { colors } from '../../theme/theme'\n\ninterface Props {\n  row: number\n  col: number\n}\n\n\n\nfunction DropSquare({ row, col }: Props) {\n  const classes = useJSS()\n  const dispatch = useDispatch()\n  const { modules } = useSelector((state: RootState) => {\n    return {\n      modules: state.modules\n    }\n  })\n  const [isHL, setHL] = useState(false) // to highlight on drag enter\n  const dsStyle: CSS.Properties = {\n    gridColumn: `${col + 1} / span 1`,\n    gridRow: `${row + 1} / span 1`,\n    borderColor: isHL ? colors.dropSquareHL : 'transparent',\n  }\n  return (\n    <div \n      className={classes.DropSquare} \n      style={dsStyle}\n      onDragOver={event => {\n        event.preventDefault()\n      }}\n      onDragEnter={e => {\n        if (e.dataTransfer.types.length === 3) {\n          setHL(true)\n        }\n      }}\n      onDragLeave={e => {\n        if (e.dataTransfer.types.length === 3) {\n          setHL(false)\n        }\n      }}\n      onDrop={event => {\n        const id = event.dataTransfer.getData('id')\n        const fc = modules[window.fillContainerID] as ContainerModule\n        const currentChildren = fc.childModules.concat(fc.childModules)\n        const possiblyMod = modules[id]\n        const possiblyOccupyingID = isOccupied(row, col, currentChildren, modules)\n        if (!possiblyMod) {\n          if (!possiblyOccupyingID) {\n            const moduleType = event.dataTransfer.getData('moduleType') as ModuleType\n            const name = event.dataTransfer.getData('name')\n            setHL(false)\n            window.addModule(id, name, window.fillContainerID, moduleType, dispatch, row, col)\n            window.setFillIsExpanded(false)\n          }\n        } else if (possiblyOccupyingID) {\n          const fromRow = event.dataTransfer.getData('fromRow')\n          const fromCol = event.dataTransfer.getData('fromCol')\n          setHL(false)\n          window.setFillIsExpanded(false)\n          dispatch(moveModule(id, row, col))\n          dispatch(moveModule(possiblyOccupyingID, Number(fromRow), Number(fromCol)))\n          window.setTimeout(window.refreshArcherContainer, 1)\n        } else {\n          setHL(false)\n          window.setFillIsExpanded(false)\n          dispatch(moveModule(id, row, col))\n          window.setTimeout(window.refreshArcherContainer, 1)\n        }\n      }}\n    />\n  )\n}\n\nexport default DropSquare","import { Modules } from \"../../redux/stateTSTypes\"\n\nexport function getGridRange(childModules: string[], modules: Modules) {\n  let maxRow = 0\n  let maxCol = 0 // min col is always 0\n  childModules.forEach(moduleID => {\n    const mod = modules[moduleID]\n    if (mod.row > maxRow) {\n      maxRow = mod.row\n    }\n    if (mod.col > maxCol) {\n      maxCol = mod.col\n    }\n  })\n  return { maxRow, maxCol }\n}\n\nexport function isOccupied(row: number, col: number, currentChildren: string[], modules: Modules) {\n  for (var i = 0; i < currentChildren.length; i++) {\n    const mod = modules[currentChildren[i]]\n    if (mod.row === row && mod.col === col) {\n      return mod.id\n    }\n  }\n  return false\n}","import React, { useState, useRef } from 'react'\nimport useJSS from './style'\nimport CSS from 'csstype'\nimport ModuleViewIcon from './Icon'\nimport { useSelector } from 'react-redux'\nimport { RootState, ContainerModule } from '../../redux/stateTSTypes'\nimport { getGridRange } from './helpers'\nimport { range } from '../../helpers/genFuncs'\nimport DropSquare from '../DropSquare/DropSquare'\nimport { ArcherContainer } from 'react-archer'\nimport { Button } from '../all'\n\ndeclare global {\n  interface Window { \n    setFillIsExpanded: (isExpanded: boolean) => void\n    refreshArcherContainer: () => void\n    reRenderFillContainer: () => void\n  }\n}\n\nfunction ModuleViewFill() {\n  const classes = useJSS()\n  const [isExpanded, setIsExpanded] = useState(false)\n  window.setFillIsExpanded = setIsExpanded\n  const [reRender, toReRender] = useState(false)\n  window.reRenderFillContainer = () => { toReRender(!reRender) }\n  const { modules, baseContainerID } = useSelector((state: RootState) => {\n    return {\n      modules: state.modules,\n      baseContainerID: state.baseContainerID\n    }\n  })\n  const containerModule = modules[window.fillContainerID] as ContainerModule\n  const { maxRow, maxCol } = getGridRange(containerModule.childModules, modules)\n  let gridStyle: CSS.Properties\n  const isEmpty = containerModule.childModules.length === 0\n  if (isEmpty) {\n    gridStyle = {\n      gridTemplateRows: `repeat(${1}, ${'auto'})`,\n      gridTemplateColumns: `repeat(${1}, ${'auto'})`,\n    }\n  } else {\n    gridStyle = {\n      gridTemplateRows: `repeat(${isExpanded ? maxRow + 2 : maxRow + 1}, ${'auto'})`,\n      gridTemplateColumns: `repeat(${isExpanded ? maxCol + 2 : maxCol + 1}, ${'auto'})`,\n    }\n  }\n  const archerContainerRef = useRef<ArcherContainer>(null)\n  window.refreshArcherContainer = () => {archerContainerRef.current?.refreshScreen()}\n  return (\n    <div className={classes.FillBounder}>\n      <div className={classes.FillHeaderBounder}>\n        <div className={classes.FillHeader}\n          style={{ width: `${containerModule.name.length / 2}em` }}\n          onClick={(e) => {\n            e.stopPropagation()\n            window.openRenameMenu(window.fillContainerID)\n          }}\n          onPointerDown={e => e.stopPropagation()}\n        >\n          {containerModule.name}\n        </div>\n        {containerModule.id === baseContainerID ? null :\n        <Button style={{ height: '.7em' }}\n          onPointerDown={() => {\n            window.fillContainerID = containerModule.parentID as string\n            window.currUnHighlight()\n            window.reRenderFillContainer()\n          }}\n        >\n          <div>back</div>\n        </Button>\n        }\n      </div>\n      <ArcherContainer ref={archerContainerRef}\n        svgContainerStyle={{ zIndex: -1 }}\n        strokeWidth={4}\n        arrowLength={0}\n      >\n        <div className={classes.Fill} style={gridStyle}>\n          {isEmpty ? <DropSquare row={0} col={0}/> :\n          range(0, isExpanded ? maxRow + 2 : maxRow + 1).map(row => {\n            return range(0, isExpanded ? maxCol + 2 : maxCol + 1).map(col => {\n              return (\n                <DropSquare\n                  key={`${row} ${col}`}\n                  row={row} \n                  col={col}\n                />\n              )\n            })\n          }).flat()}\n          {containerModule.childModules.map(moduleID => {\n            const mod = modules[moduleID]\n            return (\n              <ModuleViewIcon\n                key={mod.id}\n                mod={mod}\n                gridRow={mod.row + 1}\n                gridCol={mod.col + 1}\n              />\n            )\n          })}\n        </div>\n      </ArcherContainer>\n    </div>\n  )\n}\n\nexport default ModuleViewFill","import React, { ReactNode, WheelEvent, RefObject } from 'react'\nimport CSS from 'csstype'\n\ninterface Props {\n  children: ReactNode\n  className?: string\n  style?: CSS.Properties\n  ref: RefObject<HTMLDivElement>\n}\n\nconst baseStyle = {\n  overflowY: 'hidden',\n  overflowX: 'scroll',\n  display: 'flex',\n}\n\nfunction HorizontalScrollDiv({ children, className, style, ref }: Props) {\n  function onWheel(event: WheelEvent) {\n    if(ref && ref.current) {\n      ref.current.scrollLeft += event.deltaY\n    } \n  }\n  return (\n    <div ref={ref} className={className} style={Object.assign({}, baseStyle, style)} onWheel={onWheel}>\n      {children}\n    </div>\n  )\n}\n\nexport default HorizontalScrollDiv","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  CenterMenuBounder: {\n    backgroundColor: 'rgba(0,0,0,0.7)',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100vw',\n    height: '100vh',\n    zIndex: 100,\n  },\n\n  CenterMenu: {\n    backgroundColor: colors.centerMenu,\n    position: 'absolute',\n    top: '50vh',\n    left: '50vw',\n    transform: 'translate(-50%, calc(-50% - 50px))',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderRadius: '2vmin',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    minWidth: '15vw',\n    padding: '1vmin 2vmin 2vmin 2vmin',\n    border: '1px solid white',\n    zIndex: 101,\n  },\n\n  Header: {\n    padding: '1vmin 2vmin',\n    margin: '0vmin 0vmin 2vmin 0vmin',\n    borderColor: 'white',\n    borderStyle: 'none none solid none',\n    fontSize: sizes.text.large,\n  },\n})\n\nexport default useJSS","import React from 'react'\nimport useJSS from './style'\n\ninterface Props {\n  children: React.ReactNode\n  header: string\n  onClose: () => void\n}\n\nfunction CenterMenu({ children, header, onClose }: Props) {\n  const classes = useJSS()\n  return (\n    <div className={classes.CenterMenuBounder}\n      onPointerDown={e => {\n        e.stopPropagation()\n        onClose()\n      }}\n    >\n      <div className={classes.CenterMenu}\n        onPointerDown={(e) => {e.stopPropagation()}} \n      >\n        <div className={classes.Header}>\n          {header}\n        </div>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default CenterMenu","import { createUseStyles } from 'react-jss'\n//import { colors } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  TestingArea: {\n    backgroundColor: 'black',\n    position: 'absolute',\n    top: '45vh',\n    left: '25vw',\n    width: '45vw',\n    height: '50vh',\n    display: 'flex',\n    flexDirection: 'column',\n    zIndex: 150,\n  },\n\n  ButtonDiv: {\n    display: 'flex',\n    flexFlow: 'row wrap',\n  },\n\n  Button: {\n    margin: '2vmin',\n    padding: '1vmin',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  }\n})\n\nexport default useJSS","import React from 'react'\nimport useJSS from './style'\nimport audioCtx from '../../audioCtx'\n\n/*\nvar splitter = audioCtx.createChannelSplitter(2)\n\nvar lpf = audioCtx.createBiquadFilter()\n  lpf.type = \"lowpass\"\n  lpf.frequency.value = 440\n  lpf.Q.value = 10\n\n\nnavigator.mediaDevices.getUserMedia({\n  audio: {\n    echoCancellation: false,\n    autoGainControl: false,\n    noiseSuppression: false,\n    latency: 0,\n    channelCount: 3,\n  }\n}).then(stream => {\n  const src = audioCtx.createMediaStreamSource(stream)\n  const splitter = audioCtx.createChannelSplitter(3)\n  const gain0 = audioCtx.createGain()\n  const gain1 = audioCtx.createGain()\n  const gain2 = audioCtx.createGain()\n  //const merger = audioCtx.createChannelMerger(3)\n  //const dly = audioCtx.createDelay(); dly.delayTime.value = .18\n  //const dlyFdbk = audioCtx.createGain(); dlyFdbk.gain.value = .6\n  //dly.connect(dlyFdbk); dlyFdbk.connect(dly)\n  const master = audioCtx.createGain(); master.gain.value = 1\n\n  console.log(stream.getAudioTracks()[0].getCapabilities())\n\n  master.gain.value = 1\n\n  src.connect(splitter)\n  splitter.connect(gain0, 0)\n  splitter.connect(gain1, 1)\n  splitter.connect(gain2, 2)\n  gain0.connect(master)\n  gain1.connect(master)\n  gain2.connect(master)\n  //merger.connect(master)\n  master.connect(audioCtx.destination)\n})\n*/\n\nfunction MrTesterr() {\n  const classes = useJSS()\n  return (\n    <div className={classes.TestingArea}>\n      {'mr testerrr'}\n      <div className={classes.ButtonDiv}>\n        <div className={classes.Button}\n          style={{ backgroundColor: 'green' }}\n          onClick={() => {\n            audioCtx.resume()\n          }}\n        >start ctx</div>\n      </div>\n      <div className={classes.ButtonDiv}>\n        <div className={classes.Button}\n          style={{ backgroundColor: 'red' }}\n          onClick={() => {\n            audioCtx.suspend()\n          }}\n        >stop ctx</div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default MrTesterr","import { createUseStyles } from 'react-jss'\nimport { colors } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  Button: {\n    backgroundColor: colors.defaultButton,\n    borderColor: 'transparent',\n    borderRadius: '1vmin',\n    borderStyle: 'solid',\n    '&:active': {\n      borderColor: 'transparent',\n    },\n    '&:hover': {\n      cursor: 'pointer',\n      borderColor: 'white',\n    },\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: '1vmin',\n    margin: '1vmin',\n    textAlign: 'center',\n  },\n})\n\nexport default useJSS","import React, { RefObject, KeyboardEvent } from 'react'\nimport useJSS from './style'\nimport CSS from 'csstype'\n\ninterface Props {\n  children?: React.ReactNode\n  onClick?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\n  style?: CSS.Properties\n  onPointerDown?: (e: React.PointerEvent<HTMLDivElement>) => void\n  ref?: RefObject<HTMLDivElement>\n  onKeyDown?: (e: KeyboardEvent<HTMLDivElement>) => void\n}\n\nfunction Button({ onClick, children, style, onPointerDown, ref, onKeyDown }: Props) {\n  const classes = useJSS()\n  return (\n    <div className={classes.Button}\n      onClick={onClick}\n      onPointerDown={onPointerDown}\n      style={style}\n      ref={ref}\n      onKeyDown={onKeyDown}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Button","import audioCtx from \"../../audioCtx\"\nimport { RefObject } from 'react'\nimport { BaseAM, ControlSetFuncs } from \"../moduleTypes\"\n\nexport interface MediaElementModule extends BaseAM {\n  audioNode: MediaElementAudioSourceNode\n  ref: RefObject<HTMLAudioElement>\n}\n\nfunction makeMediaElement(audioRef: RefObject<HTMLAudioElement>): MediaElementModule | null {\n  if (audioRef.current) {\n    const mediaElement = audioCtx.createMediaElementSource(audioRef.current)\n\n    // control data is in makeAddModules\n\n    const controlSetFuncs: ControlSetFuncs = {\n      'choose file': (url: string) => {\n        (audioRef.current as HTMLAudioElement).src = url\n      }\n    }\n\n    return {\n      audioNode: mediaElement,\n      ref: audioRef,\n      connectingParamIDs: [],\n      controlSetFuncs,\n    }\n  } else {\n    return null\n  }\n}\n\nexport default makeMediaElement","import React, { useRef, useEffect } from 'react'\nimport makeMediaElement from '../../audioModules/modules/mediaElement'\n\ninterface Props {\n  id: string\n}\n\nfunction AudioTag({ id }: Props) {\n  const audioRef = useRef<HTMLAudioElement>(null)\n  useEffect(() => {\n    if (!window.audioModules[id]) {\n      const possiblyMediaElement = makeMediaElement(audioRef)\n      if (possiblyMediaElement) {\n        window.audioModules = { ...window.audioModules, [id]: possiblyMediaElement }\n      }\n    }\n  })\n  return (\n    <audio\n      ref={audioRef}\n      autoPlay\n    />\n  )\n}\n\nexport default AudioTag","import React, { Fragment, useState } from 'react'\nimport AudioTag from './AudioTag'\n\ninterface AudioTag {\n  id: string\n  srcName: string\n  ref?: React.RefObject<HTMLAudioElement>\n}\n\ninterface AudioTags {\n  [id: string]: AudioTag\n}\n\ndeclare global {\n  interface Window {\n    audioTags: AudioTags\n    addAudioTag: (id: string) => void\n    reRenderAudioTags: () => void\n  }\n}\n\nwindow.addAudioTag = (id: string) => {\n  window.audioTags[id] = {\n    id: id,\n    srcName: ''\n  }\n}\n\nwindow.audioTags = {}\n\nfunction AudioTags() {\n  const [reRender, toReRender] = useState(false)\n  window.reRenderAudioTags = () => { toReRender(!reRender) }\n  const ids = Object.keys(window.audioTags)\n  return (\n    <Fragment>\n      {ids.map((id) => {\n        return (\n          <AudioTag\n            key={id}\n            id={id}\n          />\n        )\n      })}\n    </Fragment>\n  )\n}\n\nexport default AudioTags","import {createUseStyles} from 'react-jss'\n\nconst useJSS = createUseStyles({\n  Bounder: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    borderRadius: '15px',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    userSelect: 'none',\n    margin: '10px',\n    '&:hover': {\n      cursor: 'pointer'\n    },\n  },\n\n  Switch: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    justifySelf: 'flex-end',\n    borderRadius: '15px',\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\n    userSelect: 'none',\n    margin: '10px',\n  },\n})\n\nexport default useJSS;","import React, { useState } from 'react'\nimport useJSS from './style'\nimport { useSpring, animated } from 'react-spring'\nimport { colors } from '../../theme/theme'\n\n\ninterface Props {\n  text: string,\n  onSwitch: (newState: boolean) => void,\n  initState: boolean,\n  style?: object,\n}\n\nfunction Switch({ text, onSwitch, initState, style }: Props) {\n  const [state, setState] = useState(initState)\n  const classes = useJSS()\n  const spring = useSpring({\n    cx: state ? '65' : '25',\n    fill: state ? 'green' : 'red',\n    config: {\n      tension: 250,\n    },\n  })\n  return (\n    <div className={classes.Bounder} style={style}>\n      <div\n        onClick={() => { onSwitch(!state); setState(!state) }}\n      >\n        {text}\n      </div>\n      <svg onClick={() => { onSwitch(!state); setState(!state) }} width={'90'} height={'30'}>\n        <rect width='50' height='20' x='20' y='5' rx='10' ry='10' fill={colors.grey}/>\n        <animated.circle cx={spring.cx} cy={'15'} r={'15'} fill={spring.fill}/>\n      </svg>\n    </div>\n  )\n}\n\nexport default Switch","import { createUseStyles } from 'react-jss'\nimport { sizes, colors } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  KnobContainer: {\n    display: 'grid',\n    gridTemplateRows: 'auto',\n    gridTemplateColumns: 'auto',\n    placeItems: 'center',\n    margin: '1vmin',\n  },\n\n  KnobSVG: {\n    gridRow: '1',\n    gridColumn: '1',\n    width: `${sizes.knob.size + 1}vmin`,\n    height: `${sizes.knob.size + 1}vmin`,\n    zIndex: 9,\n    //boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)'\n  },\n\n  KnobText: {\n    gridRow: '1',\n    gridColumn: '1',\n    //display: 'flex',\n    //alignItems: 'center',\n    //justifyContent: 'center',\n    fontSize: sizes.text.xxsmall,\n    textAlign: 'center',\n    color: colors.knobText,\n    zIndex: 10,\n    width: '4em',\n    borderStyle: 'none',\n    backgroundColor: 'transparent',\n    '&::-webkit-outer-spin-button': {\n      '-webkit-appearance': 'none',\n      margin: 0,\n    },\n    '&::-webkit-inner-spin-button': {\n      '-webkit-appearance': 'none',\n      margin: 0,\n    }\n  },\n\n  InteractionLayer: {\n    gridRow: '1',\n    gridColumn: '1',\n    zIndex: 11,\n    width: `${sizes.knob.size}vmin`,\n    height: `${sizes.knob.size}vmin`,\n  },\n\n  SettingsButton: {\n    width: `${sizes.knob.size / 6}vmin`,\n    height: `${sizes.knob.size / 6}vmin`,\n    gridRow: '1',\n    gridColumn: '1',\n    placeSelf: 'end',\n    zIndex: 12,\n  }\n})\n\nexport default useJSS","import React, { useRef } from 'react'\nimport CSS from 'csstype'\nimport { sizes, colors } from '../../theme/theme'\nimport useJSS from './style'\nimport { clamp } from '../../helpers/genFuncs'\nimport { PointerEventCallback } from '../PointerLayer/PointerLayer'\nimport { getRotation, makeValString } from './helpers'\nimport settingsSVG from '../../icons/settings.svg'\n\ninterface Props {\n  initValue: number\n  range: [number, number]\n  svgStyle?: CSS.Properties\n  circleStyle?: CSS.Properties\n  onChange?: (newVal: number) => void\n  onEveryChange?: (newVal: number) => void\n  onSettingsClick?: () => void\n  inputVal: string\n  setInputVal: (newValString: string) => void\n}\n\nfunction StatelessKnob({ initValue, range, onChange, onEveryChange, onSettingsClick, inputVal, setInputVal }: Props) {\n  const classes = useJSS()\n  const svgRef = useRef<SVGSVGElement>(null)\n  const scale = (range[1] - range[0]) * sizes.knob.sensitivity / 200\n  let tempVal = clamp(initValue, range)\n  const textRef = useRef<HTMLInputElement>(null)\n  const onPointerMove: PointerEventCallback = e => {\n    tempVal = clamp(tempVal - e.movementY * scale, range)\n    if (svgRef.current) { svgRef.current.style.transform = `rotate(${getRotation(tempVal, range)}deg)` }\n    if (textRef.current) { textRef.current.value = `${makeValString(tempVal)}` }\n    if (onEveryChange) { onEveryChange(tempVal) }\n  }\n  const onPointerUp: PointerEventCallback = () => {\n    if (onChange) { onChange(tempVal) }\n    setInputVal(makeValString(tempVal))\n  }\n  return (\n    <div className={classes.KnobContainer}>\n      <svg className={classes.KnobSVG} width={`${sizes.knob.size + 1}vmin`} height={`${sizes.knob.size + 1}vmin`} ref={svgRef}\n        style={{ transform: `rotate(${getRotation(initValue, range)}deg)` }}\n      >\n        <circle cx={`${(sizes.knob.size + 1) / 2}vmin`} cy={`${(sizes.knob.size + 1) / 2}vmin`} r={`${sizes.knob.size / 2}vmin`} \n        stroke={colors.knobBorder} strokeWidth={sizes.knob.borderWidth} fill={colors.knob} />\n        <rect width={`${sizes.knob.markerWidth}vmin`} height={`${sizes.knob.markerHeight}vmin`} \n          x={`${(sizes.knob.size + 1) / 2 - sizes.knob.markerWidth / 2}vmin`} y='.5vmin' fill={colors.knobMarker}/>\n      </svg>\n      <input className={classes.KnobText}\n        ref={textRef}\n        onChange={e => {\n          setInputVal(e.target.value)\n          if (onEveryChange) { onEveryChange(clamp(Number(e.target.value), range)) }\n        }}\n        onBlur={e => {\n          const newVal = clamp(Number(e.target.value), range)\n          if (onChange) {\n            onChange(newVal)\n          }\n          setInputVal(makeValString(newVal))\n        }}\n        onKeyDown={e => {\n          if (e.keyCode === 13) {\n            textRef.current?.blur()\n          }\n        }}\n        type='number'\n        value={inputVal}\n      />\n      <div className={classes.InteractionLayer}\n        title={`${initValue}`}\n        onClick={e => e.stopPropagation()}\n        onDragStart={e => e.stopPropagation()}\n        onPointerDown={e => {\n          e.stopPropagation()\n          e.preventDefault()\n          if (e.shiftKey) {\n            if (textRef.current) {\n              textRef.current.placeholder = textRef.current.value\n              textRef.current.value = ''\n              textRef.current.focus()\n            }\n          } else {\n            window.openPointerLayer(e.pointerId, onPointerMove, onPointerUp)\n          }\n        }}\n      />\n      {!onSettingsClick ? null\n      :\n      <img className={classes.SettingsButton}\n        src={settingsSVG}\n        alt='settings'\n        onClick={onSettingsClick}\n      />\n      }\n    </div>\n  )\n}\n\nexport default StatelessKnob","import React, { useState } from 'react'\nimport StatelessKnob from './StatelessKnob'\nimport { clamp } from '../../helpers/genFuncs'\nimport { makeValString } from './helpers'\n\ninterface Props {\n  initValue: number\n  onChange?: (newVal: number) => void\n  onEveryChange: (newVal: number) => void\n  range: [number, number]\n  onSettingsClick?: () => void\n}\n\nfunction Knob({ initValue, range, onChange, onEveryChange, onSettingsClick }: Props) {\n  const [val, setVal] = useState(clamp(initValue, range))\n  const [inputVal, setInputVal] = useState(makeValString(val))\n  return (\n    <StatelessKnob\n      initValue={val}\n      range={range}\n      onChange={newVal => {\n        if (onChange) { onChange(newVal) }\n        setVal(newVal)\n      }}\n      onEveryChange={onEveryChange}\n      onSettingsClick={onSettingsClick}\n      inputVal={inputVal}\n      setInputVal={setInputVal}\n    />\n  )\n}\n\nexport default Knob","import { createUseStyles } from 'react-jss'\n//import { colors, sizes } from '../../theme/theme'\n\nconst useJSS = createUseStyles({\n  PointerLayer: {\n    width: '100vw',\n    height: '100vh',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    zIndex: 300,\n  },\n})\n\nexport default useJSS","import React, { PointerEvent, useRef, useEffect } from 'react'\nimport useJSS from './style'\n\nexport type PointerEventCallback = (e: PointerEvent<HTMLDivElement>) => void\n\nexport interface PointerLayerData {\n  isOpen: boolean\n  pointerId: number\n  onPointerMove: PointerEventCallback\n  onPointerUp: PointerEventCallback\n}\n\ninterface Props {\n  pointerLayerData: PointerLayerData\n  resetPointerLayerData: () => void\n}\n\nfunction PointerLayer({ pointerLayerData, resetPointerLayerData }: Props) {\n  const classes = useJSS()\n  const { pointerId, onPointerMove, onPointerUp } = pointerLayerData\n  const pointerLayerRef = useRef<HTMLDivElement>(null)\n  useEffect(() => {\n    //pointerLayerRef.current?.setPointerCapture(pointerId)\n  })\n  return (\n    <div className={classes.PointerLayer}\n      ref={pointerLayerRef}\n      onPointerMove={(e) => {\n        if (e.pointerId === pointerId) {\n          onPointerMove(e)\n        }\n      }}\n      onPointerUp={(e) => {\n        if (e.pointerId === pointerId) {\n          onPointerUp(e)\n          //pointerLayerRef.current?.releasePointerCapture(pointerId)\n          resetPointerLayerData()\n        }\n      }}\n    />   \n  )\n}\n\nexport default PointerLayer","import { Range } from \"../../audioModules/moduleTypes\"\n\nexport function makeConnectionMenuData(isOpen: boolean, fromID = '', toID = '') {\n  return {\n    isOpen,\n    fromID,\n    toID,\n  }\n}\n\nexport function makeRangeSetMenuData(isOpen: boolean, modID = '', controlID = '', onChangeSubmit: (newRange: Range) => void = () => {}) {\n  return {\n    isOpen,\n    modID,\n    controlID,\n    onChangeSubmit,\n  }\n}\n\nexport function makeSaveMenuData(isOpen: boolean, saveList: string[] = [], onClose = () => {}) {\n  return {\n    isOpen,\n    saveList,\n    onClose,\n  }\n}\n\nexport function makeConfirmDeleteMenuData(isOpen: boolean, saveName = '', onClose = () => {}) {\n  return {\n    isOpen,\n    saveName,\n    onClose\n  }\n}","import { createUseStyles } from 'react-jss'\n\nconst indent = '2vmin'\n\nconst useJSS = createUseStyles({\n  IORecursionBounder: {\n    display: 'flex',\n    alignSelf: 'flex-start',\n    marginLeft: '5vmin',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    height: '60vmin',\n    width: '90%',\n    overflowY: 'scroll',\n    overflowX: 'visible',\n    '&::-webkit-scrollbar': {\n      width: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: 'white',\n      borderRadius: '2px'\n    },\n  },\n  IORecursionInnerBounder: {\n    display: 'flex',\n    alignSelf: 'flex-start',\n    marginLeft: indent,\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n  },\n})\n\nexport default useJSS","import React, { useState, Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { CONTAINER } from '../../../audioModules/moduleTypes'\nimport Button from '../../Button/Button'\nimport useJSS from './style'\nimport { colors } from '../../../theme/theme'\n\ninterface Props {\n  id: string\n  isOutput: boolean\n  setConnection: (actualIOID: string, ioIndex: number) => void \n}\n\nfunction IORecursion({ id, isOutput, setConnection }: Props) {\n  const [ isContainer, name, io ] = useSelector((state: RootState) => {\n    return [\n      state.modules[id].moduleType === CONTAINER,\n      state.modules[id].name,\n      isOutput ? state.modules[id].connectionOutputs : state.modules[id].connectionInputs\n    ]\n  })\n  const [open, setOpen] = useState(false)\n  const classes = useJSS()\n  if (isContainer) {\n    return (\n      <Fragment>\n        <Button style={{ color: colors.expandableName }}\n          onClick={() => { setOpen(!open) }}\n        >{name}</Button>\n        {!open ? null\n        :\n        <div className={classes.IORecursionInnerBounder}>\n          {io.map(ioID => {\n            return (\n              <IORecursion key={ioID} id={ioID} isOutput={isOutput} setConnection={setConnection}/>\n            )\n          })}\n        </div>\n        }\n      </Fragment>\n    )\n  } else { // base case\n    if (io.length > 1) {\n      return (\n        <Fragment>\n          <Button style={{ color: colors.expandableName }}\n            onClick={() => { setOpen(!open) }}\n          >{name}</Button>\n          {!open ? null\n          :\n          <div className={classes.IORecursionInnerBounder}>\n            {io.map((ioID, index) => {\n              return (\n                <Button style={{ color: colors.connectableName }}\n                  onClick={() => { setConnection(id, index) }}\n                >{ioID}</Button>\n              )\n            })}\n          </div>\n          }\n        </Fragment>\n      )\n    } else {\n      return (\n        <Button\n          onClick={() => { setConnection(id, 0) }}\n        >{name}</Button>\n      )\n    }\n  }\n}\n\nexport default IORecursion","import { Module, Connections } from \"../../../redux/stateTSTypes\";\n\nexport function connectionExists(connections: Connections, fromMod: Module, actualToID: string, newParam = '') {\n  for(var i = 0; i < fromMod.outputs.length; i++) {\n    const { actualInputID, param } = connections[fromMod.outputs[i]]\n    if (actualInputID === actualToID && newParam === param) {\n      return true\n    }\n  }\n  return false\n}","import React, { Fragment, useState } from 'react'\nimport { CenterMenu, Button } from '../../all'\nimport { connect } from '../../../audioModules/connection'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ConnectingAudioModule, CONTAINER } from '../../../audioModules/moduleTypes'\nimport { addConnection } from '../../../redux/allActions'\nimport CSS from 'csstype'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport IORecursion from './IORecursion'\nimport useJSS from './style'\nimport { connectionExists } from './helpers'\n\ninterface Props {\n  fromID: string\n  toID: string\n  onClose: () => void\n}\n\nexport const CHOOSE_OUTPUT = 'CHOOSE_OUTPUT'\nexport const CONNECT_TO = 'CONNECT_TO'\nexport const CHOOSE_PARAM = 'CHOOSE_PARAM'\nexport const CHOOSE_INPUT = 'CHOOSE_INPUT'\n\nconst buttonStyle: CSS.Properties = {\n  \n}\n\nfunction ConnectionMenu({ fromID, toID, onClose }: Props) {\n  const classes = useJSS()\n  const am = window.audioModules\n  const [ modules, connections ] = useSelector((state: RootState) => [ state.modules, state.connections ])\n  const fromMod = modules[fromID]\n  const toMod = modules[toID]\n  const [outputIndex, setOutputIndex] = useState(0)\n  const [inputIndex, setInputIndex] = useState(0)\n  const [actualFromID, setActualFromID] = useState(fromID)\n  const [actualToID, setActualToID] = useState(toID)\n  const dispatch = useDispatch()\n  const isFromContainer = fromMod.moduleType === CONTAINER\n  const isToContainer = toMod.moduleType === CONTAINER\n  const initMenu = fromMod.connectionOutputs.length > 1 || isFromContainer ? CHOOSE_OUTPUT :\n    toMod.connectionInputs.length > 1 || isToContainer ? CHOOSE_INPUT : CONNECT_TO\n  const [openMenu, setOpenMenu] = useState(initMenu)\n  return (\n    <Fragment>\n      {openMenu === CHOOSE_OUTPUT\n      ?\n      <CenterMenu header={'choose output'} onClose={onClose}>\n        <div className={classes.IORecursionBounder}>\n          {fromMod.connectionOutputs.map(outputID => {\n            return (\n              <IORecursion key={outputID + 'output'} id={isFromContainer ? outputID : fromID} isOutput={true} \n                setConnection={(actualIOID, ioIndex) => {\n                  setActualFromID(actualIOID)\n                  setOutputIndex(ioIndex)\n                  if (toMod.connectionInputs.length > 1 || toMod.moduleType === CONTAINER) {\n                    setOpenMenu(CHOOSE_INPUT)\n                  } else {\n                    setOpenMenu(CONNECT_TO)\n                  }\n                }}\n              />\n            )\n          })}\n        </div>\n      </CenterMenu>\n      :\n      openMenu === CHOOSE_INPUT\n      ?\n      <CenterMenu header={'choose input'} onClose={onClose}>\n        <div className={classes.IORecursionBounder}>\n          {toMod.connectionInputs.map(inputID => {\n            return (\n              <IORecursion key={inputID + 'input'} id={isToContainer ? inputID : toID} isOutput={false}\n                setConnection={(actualIOID, ioIndex) => {\n                  setActualToID(actualIOID)\n                  setInputIndex(ioIndex)\n                  setOpenMenu(CONNECT_TO)\n                }}\n              />\n            )\n          })}\n        </div>\n      </CenterMenu>\n      :\n      openMenu === CONNECT_TO\n      ?\n      <CenterMenu header={`connect ${isFromContainer ? fromMod.name + ' - ' + modules[actualFromID].name : fromMod.name} to ${isToContainer ? toMod.name + ' - ' + modules[actualToID].name : toMod.name}`} onClose={onClose}>\n        {(isToContainer ? modules[toMod.connectionInputs[inputIndex]].connectionInputs.length === 0 : toMod.connectionInputs.length === 0) ? null :\n        <Button style={buttonStyle}\n          onClick={() => {\n            if (!connectionExists(connections, fromMod, actualToID)) {\n              connect(\n                am[actualFromID] as ConnectingAudioModule,\n                am[actualToID] as ConnectingAudioModule,\n                '',\n                outputIndex,\n                inputIndex,\n              )\n              dispatch(addConnection(\n                fromID,\n                toID,\n                '',\n                outputIndex,\n                inputIndex,\n                isFromContainer ? actualFromID : undefined,\n                isToContainer ? actualToID : undefined,\n              ))\n            } else {\n              alert('modules already connected')\n            }\n            onClose()\n          }}\n        >module</Button>}\n        {\n        am[actualToID].connectingParamIDs.length === 0 ? null\n        :\n        <Button style={buttonStyle}\n          onClick={(e) => {\n            e.stopPropagation()\n            setOpenMenu(CHOOSE_PARAM)\n          }}\n        >params</Button>\n        }\n      </CenterMenu>\n      :\n      openMenu === CHOOSE_PARAM\n      ?\n      <CenterMenu header={'props'} onClose={onClose}>\n        {am[actualToID].connectingParamIDs.map((paramID, key) => {\n          return (\n            <Button style={buttonStyle}\n              key={fromID + toID + key}\n              onClick={() => {\n                if (!connectionExists(connections, fromMod, actualToID, paramID)) {\n                  connect(\n                    am[actualFromID] as ConnectingAudioModule,\n                    am[actualToID] as ConnectingAudioModule,\n                    paramID,\n                    outputIndex,\n                    inputIndex,\n                  )\n                  dispatch(addConnection(\n                    fromID,\n                    toID,\n                    paramID,\n                    outputIndex,\n                    inputIndex,\n                    isFromContainer ? actualFromID : undefined,\n                    isToContainer ? actualToID : undefined,\n                  ))\n                } else {\n                  alert('modules already connected')\n                }\n                onClose()\n              }}\n            >{paramID}</Button>\n          )\n        })}\n      </CenterMenu>\n      :\n      null\n      }\n    </Fragment>\n  )\n}\n\nexport default ConnectionMenu","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  CMInputBounder: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n\n  },\n\n  CenterMenuInput: {\n    backgroundColor: colors.grey,\n    color: 'white',\n    height: '2vmin',\n    padding: '1vmin',\n    margin: '1.5vmin .75vmin 1.5vmin 1.5vmin',\n    borderStyle: 'none',\n    borderRadius: '1vmin',\n    fontSize: sizes.text.small,\n    width: '23vmin',\n    '&:hover': {\n      cursor: 'text',\n    },\n  },\n\n  InputSubmit: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: colors.grey,\n    height: '2vmin',\n    padding: '1vmin',\n    margin: '1.5vmin 1.5vmin 1.5vmin 0.75vmin',\n    borderRadius: '1vmin',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n    fontSize: sizes.text.small,\n  },\n\n  Error: {\n    backgroundColor: colors.errorBackground,\n    width: '90%',\n    color: 'white',\n    fontSize: sizes.text.small,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: '1vmin',\n    padding: '1vmin 0vmin',\n    marginBottom: '1vmin',\n  },\n})\n\nexport default useJSS","import React, { useRef, useState } from 'react'\nimport { CenterMenu } from '../../all'\nimport useJSS from './style'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { renameModule } from '../../../redux/allActions'\n\n\ninterface Props {\n  onClose: () => void\n  toRenameID: string\n}\n\nfunction RenameMenu({ toRenameID, onClose }: Props) {\n  const classes = useJSS()\n  const renameInputRef = useRef<HTMLInputElement>(null)\n  const modules = useSelector((state: RootState) => state.modules)\n  const dispatch = useDispatch()\n  const [ isTooShort, setSubmitState] = useState(false)\n  function submitNewName() {\n    if (renameInputRef && renameInputRef.current) {\n      const newName = renameInputRef.current.value\n      if (newName.length === 0) {\n        setSubmitState(true)\n      } else {\n        dispatch(renameModule(toRenameID, newName))\n        onClose()\n      } \n    }\n  }\n  return (\n    <CenterMenu header='rename' onClose={onClose}>\n        <div className={classes.CMInputBounder}>\n          <input className={classes.CenterMenuInput}\n            placeholder={modules[toRenameID]?.name}\n            onKeyUp={event => {\n              if (event.keyCode === 13) {\n                submitNewName()\n              } else if (event.keyCode === 27) {\n                onClose()\n              }\n            }}\n            ref={renameInputRef}\n            autoFocus\n          />\n          <div className={classes.InputSubmit}\n            onClick={() => {submitNewName()}}\n          >enter</div>\n        </div>\n        {!isTooShort ? null :\n        <div className={classes.Error}>\n          please enter a name\n        </div>}\n      </CenterMenu>\n  )\n}\n\nexport default RenameMenu","import { createUseStyles } from 'react-jss'\nimport { colors, sizes } from '../../../theme/theme'\n\nconst useJSS = createUseStyles({\n  CMInputBounder: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n\n  CenterMenuInput: {\n    backgroundColor: colors.grey,\n    color: 'white',\n    height: '2vmin',\n    padding: '1vmin',\n    margin: '1.5vmin .75vmin 1.5vmin 1.5vmin',\n    borderStyle: 'none',\n    borderRadius: '1vmin',\n    fontSize: sizes.text.small,\n    width: '15vmin',\n    '&:hover': {\n      cursor: 'text',\n    },\n  },\n})\n\nexport default useJSS","import React, { useState } from 'react'\nimport { CenterMenu, Button } from '../../all'\nimport useJSS from './style'\nimport { Range } from '../../../audioModules/moduleTypes'\nimport { inRange } from '../../../helpers/genFuncs'\nimport { sizes } from '../../../theme/theme'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\n\ninterface Props {\n  onClose: () => void\n  onChangeSubmit: (newRange: Range) => void\n  modID: string\n  controlID: string\n}\n\nfunction RangeSetMenu({ onClose, modID, controlID, onChangeSubmit }: Props) {\n  const { maxRange, range } = useSelector((state: RootState) => state.modules[modID].controlData[controlID])\n  const [min, setMin] = useState((range as [number, number])[0])\n  const [max, setMax] = useState((range as [number, number])[1])\n  const classes = useJSS()\n  return (\n    <CenterMenu header={`set ${controlID} range`} onClose={onClose}>\n      <div style={{ fontSize: sizes.text.small }}>\n        {!maxRange ? null \n        :\n        `max range from ${maxRange[0]} to ${maxRange[1]}`\n        }\n      </div>\n      <div className={classes.CMInputBounder}\n        onKeyDown={e => {\n          if (e.keyCode === 27) {\n            onClose()\n          } else if (e.keyCode === 13) {\n            onChangeSubmit([min, max])\n            onClose()\n          }\n        }}\n      >\n        <input className={classes.CenterMenuInput} \n          onChange={e => {\n            setMin(Number(e.target.value))\n          }}\n          value={min}\n          type='number'\n        />\n        <input className={classes.CenterMenuInput}\n          onChange={e => { \n            setMax(Number(e.target.value)) \n          }}\n          value={max}\n          type='number'\n        />\n      </div>\n      <Button onClick={() => {\n        if (maxRange) {\n          if (inRange(min, maxRange) && inRange(max, maxRange)) {\n            if (max > min) {\n              onChangeSubmit([min, max])\n              onClose()\n            } else {\n              alert('min must be less than max')\n            }\n          } else {\n            alert('a value is not within maximum range bounds')\n          }\n        } else {\n          if (max > min) {\n            onChangeSubmit([min, max])\n            onClose()\n          } else {\n            alert('min must be less than max')\n          }\n        }\n      }}>\n        confirm\n      </Button>\n    </CenterMenu>\n  )\n}\n\nexport default RangeSetMenu","import React, { useState, useRef } from 'react'\nimport CenterMenu from '../../CenterMenu/CenterMenu'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../../redux/stateTSTypes'\nimport { Button } from '../../all'\nimport { stringIn } from '../../../helpers/genFuncs'\nimport { sizes, colors } from '../../../theme/theme'\n\ninterface Props {\n  saveList: string[]\n  onClose: () => void\n}\n\nfunction SaveMenu({ saveList, onClose }: Props) {\n  const [ baseContainerID, modules ] = useSelector((state: RootState) => [ state.baseContainerID, state.modules ])\n  const [saveName, setSaveName] = useState(modules[baseContainerID].name)\n  const [confirmSaveData, setConfirmSaveData] = useState({ isOpen: false, message: '' })\n  const state = useSelector(state => state)\n  const inputRef = useRef<HTMLInputElement>(null)\n  return (\n    <CenterMenu header='save project' \n      onClose={onClose}\n    >\n      <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n        <input style={{ fontSize: sizes.text.small }}\n          value={saveName}\n          placeholder={modules[baseContainerID].name}\n          onChange={e => {\n            setSaveName(e.target.value)\n          }}\n          onKeyDown={e => {\n            switch (e.keyCode) {\n              case 13:\n                if (stringIn(saveName, saveList)) {\n                  setConfirmSaveData({ isOpen: true, message: 'would you like to overwrite this save?' })\n                } else {\n                  window.spaceDBSaveService.create({\n                    saveName,\n                    state\n                  })\n                  onClose()\n                }\n                break\n              case 27:\n                onClose()\n                break\n            }\n          }}\n          ref={inputRef}\n          autoFocus\n        />\n        <Button\n          onPointerDown={e => e.preventDefault()}\n          onClick={e => {\n            e.preventDefault()\n            if (stringIn(saveName, saveList)) {\n              setConfirmSaveData({ isOpen: true, message: 'would you like to overwrite this save?' })\n            } else {\n              window.spaceDBSaveService.create({\n                saveName,\n                state\n              })\n              onClose()\n            } \n          }}\n        >\n          save to spaceDB\n        </Button>\n      </div>\n      {!confirmSaveData.isOpen ? null\n        :\n        <div>\n          <div>save already exists. do you want to replace it?</div>\n          <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'center' }}>\n            <Button style={{ backgroundColor: colors.denyButton, marginRight: '3vmin' }}\n              onClick={() => {\n                inputRef.current?.focus()\n                setConfirmSaveData({ isOpen: false, message: '' })\n              }}\n            >no</Button>\n            <Button style={{ backgroundColor: colors.confirmButton }}\n              onClick={() => {\n                window.spaceDBSaveService.update(saveName, state)\n                onClose()\n              }}\n            >yes</Button>\n          </div>\n        </div>\n      }\n    </CenterMenu>\n  )\n}\n\nexport default SaveMenu","import React from 'react'\nimport { CenterMenu, Button } from '../../all'\nimport { colors } from '../../../theme/theme'\n\ninterface Props {\n  saveName: string\n  onClose: () => void\n}\n\nfunction ConfirmDeleteMenu({ saveName, onClose }: Props) {\n  return (\n    <CenterMenu header={`are you sure you want to delete ${saveName}?`}\n      onClose={onClose}\n    >\n      <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'center' }}>\n        <Button style={{ backgroundColor: colors.denyButton, marginRight: '3vmin' }}\n          onClick={() => {\n            onClose()\n          }}\n        >no</Button>\n        <Button style={{ backgroundColor: colors.confirmButton }}\n          onClick={() => {\n            window.spaceDBSaveService.remove(saveName)\n            onClose()\n          }}\n        >yes</Button>\n      </div>\n    </CenterMenu>\n  )\n}\n\nexport default ConfirmDeleteMenu","import React, { useState, Fragment } from 'react'\nimport { makeConnectionMenuData, makeRangeSetMenuData, makeSaveMenuData, makeConfirmDeleteMenuData } from './makeData'\nimport ConnectionMenu from './ConnectionMenu/ConnectionMenu'\nimport RenameMenu from './RenameMenu/RenameMenu'\nimport RangeSetMenu from './RangeSetMenu/RangeSetMenu'\nimport { Range } from '../../audioModules/moduleTypes'\nimport SaveMenu from './SaveMenu/SaveMenu'\nimport ConfirmDeleteMenu from './ConfirmDeleteMenu/ConfirmDeleteMenu'\n\ndeclare global {\n  interface Window {\n    openConnectionMenu: (fromID: string, toID: string) => void\n    openRenameMenu: (toRenameID: string) => void\n    openRangeSetMenu: (modID: string, controlID: string, onChangeSubmit: (newRange: Range) => void) => void\n    openSaveMenu: (saveList: string[], onClose: () => void) => void\n    openConfirmDeleteMenu: (saveName: string, onClose: () => void) => void\n  }\n}\n\nfunction CenterMenus() {\n  const [connectionMenuData, setConnectionMenuData] = useState(makeConnectionMenuData(false))\n  window.openConnectionMenu = (fromID, toID) => { setConnectionMenuData(makeConnectionMenuData(true, fromID, toID)) }\n  const [renameMenuData, setRenameMenuData] = useState({ isOpen: false, toRenameID: '' })\n  window.openRenameMenu = toRenameID => { setRenameMenuData({ isOpen: true, toRenameID }) }\n  const [rangeSetMenuData, setRangeSetMenuData] = useState(makeRangeSetMenuData(false))\n  window.openRangeSetMenu = (modID, controlID, onChangeSubmit) => { setRangeSetMenuData(makeRangeSetMenuData(true, modID, controlID, onChangeSubmit)) }\n  const [saveMenuData, setSaveMenuData] = useState(makeSaveMenuData(false))\n  window.openSaveMenu = (saveList, onClose) => { setSaveMenuData({ isOpen: true, saveList, onClose }) }\n  const [confirmDeleteMenuData, setConfirmDeleteMenuData] = useState(makeConfirmDeleteMenuData(false))\n  window.openConfirmDeleteMenu = (saveName, onClose) => { setConfirmDeleteMenuData(makeConfirmDeleteMenuData(true, saveName, onClose)) }\n  return (\n    <Fragment>\n      {\n        !connectionMenuData.isOpen ? null :\n        <ConnectionMenu fromID={connectionMenuData.fromID} toID={connectionMenuData.toID}\n          onClose={() => {\n            setConnectionMenuData(makeConnectionMenuData(false))\n          }}\n        />\n      }\n      {\n        !renameMenuData.isOpen ? null :\n        <RenameMenu toRenameID={renameMenuData.toRenameID} onClose={() => { setRenameMenuData({ isOpen: false, toRenameID: '' }) }} />\n      }\n      {\n        !rangeSetMenuData.isOpen ? null :\n        <RangeSetMenu modID={rangeSetMenuData.modID} \n          controlID={rangeSetMenuData.controlID}\n          onClose={() => {\n            setRangeSetMenuData(makeRangeSetMenuData(false))\n          }}\n          onChangeSubmit={newRange => {\n            rangeSetMenuData.onChangeSubmit(newRange)\n          }}\n        />\n      }\n      {\n        !saveMenuData.isOpen ? null :\n        <SaveMenu saveList={saveMenuData.saveList} \n          onClose={() => {\n            saveMenuData.onClose()\n            setSaveMenuData(makeSaveMenuData(false)) \n          }}\n        />\n      }\n      {\n        !confirmDeleteMenuData.isOpen ? null :\n        <ConfirmDeleteMenu saveName={confirmDeleteMenuData.saveName}\n          onClose={() => {\n            confirmDeleteMenuData.onClose()\n            setConfirmDeleteMenuData(makeConfirmDeleteMenuData(false))\n          }}\n        />\n      }\n    </Fragment>\n  )\n}\n\nexport default CenterMenus","import { \n  ModuleType, \n  OSCILLATOR, \n  OUTPUT, GAIN, \n  AUTOFILTER, \n  KOMPRESSOR, \n  STEREO_PANNER, \n  SIGNAL_DELAY, \n  CONSTANT, \n  MEDIA_ELEMENT, \n  LINE_IN,\n  CONTAINER,\n  ControlData,\n  ControlType,\n  FILE,\n} from './moduleTypes'\nimport { Dispatch } from 'redux'\nimport { addModule } from '../redux/allActions'\nimport makeConstantSource, { makeConstantControlData } from './modules/constant'\nimport makeAutoFilter, { makeFilterControlData } from './modules/autoFilter'\nimport makeOutput, { makeOutputControlData } from './modules/output'\nimport makeStereoPanner, { makePannerControlData } from './modules/stereoPanner'\nimport makeSignalDelay, { makeDelayControlData } from './modules/signalDelay'\nimport makeKompressor, { makeKompControlData } from './modules/kompressor'\nimport makeGain, { makeGainControlData } from './modules/gain'\nimport makeOscillator, { makeOscControlData } from './modules/oscillator'\nimport makeLineInput, { makeLineInControlData } from './modules/lineInput'\nimport makeContainer, { makeContainerControlData } from './modules/container'\n\nfunction makeAddModule() {\n  return function(id: string, name: string, parentID: string, moduleType: ModuleType, dispatch: Dispatch, row: number, col: number) {\n    switch(moduleType) {\n      case OSCILLATOR:\n        const osc = makeOscillator()\n        const oscControlData = makeOscControlData(osc.audioNode)\n        window.audioModules = { ...window.audioModules, [id]: osc };\n        dispatch(addModule(id, name, moduleType, oscControlData, parentID, row, col, [], ['0']));\n        break;\n      case GAIN:\n        const gain = makeGain()\n        const gainControlData = makeGainControlData()\n        window.audioModules = { ...window.audioModules, [id]: gain }; \n        dispatch(addModule(id, name, moduleType, gainControlData, parentID, row, col, ['0'], ['0'])); \n        break;\n      case OUTPUT:\n        const output = makeOutput()\n        const outputControlData = makeOutputControlData()\n        window.audioModules = { ...window.audioModules, [id]: output }\n        dispatch(addModule(id, name, moduleType, outputControlData, parentID, row, col, ['0'], []))\n        break\n      case AUTOFILTER: \n        const filter = makeAutoFilter()\n        const filterControlData = makeFilterControlData(filter.audioNode)\n        window.audioModules = { ...window.audioModules, [id]: filter }\n        dispatch(addModule(id, name, moduleType, filterControlData, parentID, row, col, ['0'], ['0']))\n        break\n      case KOMPRESSOR:\n        const komp = makeKompressor()\n        const kompControlData = makeKompControlData(komp.audioNode)\n        window.audioModules = { ...window.audioModules, [id]: komp }; \n        dispatch(addModule(id, name, moduleType, kompControlData, parentID, row, col, ['0'], ['0'])); \n        break;\n      case STEREO_PANNER:\n        const panner = makeStereoPanner()\n        const pannerControlData = makePannerControlData()\n        window.audioModules = { ...window.audioModules, [id]: panner }; \n        dispatch(addModule(id, name, moduleType, pannerControlData, parentID, row, col, ['0'], ['0'])); \n        break;\n      case SIGNAL_DELAY:\n        const delay = makeSignalDelay()\n        const delayControlData = makeDelayControlData()\n        window.audioModules = { ...window.audioModules, [id]: delay }; \n        dispatch(addModule(id, name, moduleType, delayControlData, parentID, row, col, ['0'], ['0'])); \n        break;\n      case CONSTANT:\n        const constant = makeConstantSource()\n        const constantControlData = makeConstantControlData()\n        window.audioModules = { ...window.audioModules, [id]: constant }; \n        dispatch(addModule(id, name, moduleType, constantControlData, parentID, row, col, [], ['0'])); \n        break;\n      case MEDIA_ELEMENT:\n        const mediaControlData: ControlData = {\n          'choose file': {\n            controlType: FILE as ControlType,\n            paramID: 'n/a'\n          }\n        }\n        window.addAudioTag(id); window.reRenderAudioTags(); \n        dispatch(addModule(id, name, moduleType, mediaControlData, parentID, row, col, [], ['0'])); \n        break;\n      case LINE_IN: \n        makeLineInput(id)\n        const lineInControlData = makeLineInControlData()\n        dispatch(addModule(id, name, moduleType, lineInControlData, parentID, row, col, [], ['0 (L)', '1 (R)'])); \n        break;\n      case CONTAINER: \n        const container = makeContainer(id)\n        const containerControlData = makeContainerControlData()\n        window.audioModules = { ...window.audioModules, [id]: container }; \n        dispatch(addModule(id, name, moduleType, containerControlData, parentID, row, col, [], [])); \n        break;\n    }\n  }\n}\n\nexport default makeAddModule","import { PointerLayerData, PointerEventCallback } from '../PointerLayer/PointerLayer'\n\nexport function makePointerLayerData(isOpen: boolean, pointerId: number = -1, onPointerMove: PointerEventCallback = () => { }, onPointerUp: PointerEventCallback = () => { }): PointerLayerData {\n  return {\n    isOpen,\n    pointerId,\n    onPointerMove,\n    onPointerUp,\n  }\n}","import React, { useState } from 'react'\nimport useJSS from './style'\nimport { RightDrawer, ModuleViewFill, AudioTags, CenterMenus, PointerLayer } from '../components/all'\nimport { AudioModules, ModuleType } from '../audioModules/moduleTypes'\nimport makeAddModule from '../audioModules/makeAddModule'\nimport { Dispatch } from 'redux'\nimport { makePointerLayerData } from '../components/PointerLayer/makeData'\nimport { PointerEventCallback } from '../components/PointerLayer/PointerLayer'\n\ndeclare global {\n  interface Window { \n    highlightedID: string\n    fillContainerID: string\n    audioModules: AudioModules\n    addModule: (id: string, name: string, parentID: string, moduleType: ModuleType, dispatch: Dispatch, row: number, col: number) => void\n    openPointerLayer: (pointerId: number, onPointerMove: PointerEventCallback, onPointerUp: PointerEventCallback) => void\n  }\n\n  interface AudioNode {\n    [index: string]: AudioParam\n  }\n}\n\nwindow.highlightedID = 'project' // make this '', for dev\nwindow.fillContainerID = 'project'\n\nwindow.audioModules = {}\nwindow.addModule = makeAddModule()\n\nfunction App() {\n  const classes = useJSS()\n  const [ pointerLayerData, setPointerLayerData ] = useState(makePointerLayerData(false))\n  window.openPointerLayer = (pointerId, onPointerMove, onPointerUp) => { setPointerLayerData(makePointerLayerData(true, pointerId, onPointerMove, onPointerUp)) }\n  const resetPointerLayerData = () => { setPointerLayerData(makePointerLayerData(false)) }\n  return (\n    <div className={classes.Bounder} onPointerDown={() => {\n      window.currUnHighlight()\n      window.currUnHighlight = () => { }\n    }}>\n      <div className={classes.ModuleViewBounder}>\n        <ModuleViewFill />\n      </div>\n      <RightDrawer />\n      <AudioTags />\n      {\n        !pointerLayerData.isOpen ? null :\n        <PointerLayer pointerLayerData={ pointerLayerData } resetPointerLayerData={resetPointerLayerData}/>\n      }\n      <CenterMenus />\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { Modules, ContainerModule } from '../../stateTSTypes'\nimport { AddModuleAction } from '../moduleTSTypes'\nimport { CONTAINER } from '../../../audioModules/moduleTypes'\n\nconst addModule = (state: Modules, { id, name, moduleType, controlData, row, col, parentID, connectionInputs, connectionOutputs }: AddModuleAction): Modules => {\n  switch(moduleType) {\n    case CONTAINER: return Object.assign({}, state, {\n      [id]: {\n        id,\n        name,\n        row,\n        col,\n        parentID,\n        moduleType,\n        controlData,\n        connectionInputs,\n        connectionOutputs,\n        inputs: [],\n        outputs: [],\n        containerControls: [],\n        toContainerControls: [],\n        childModules: [],\n        isBaseContainer: false,\n        isContainerInput: false,\n        isContainerOutput: false,\n      },\n      [parentID]: {\n        ...state[parentID],\n        childModules: [\n          ...(state[parentID] as ContainerModule).childModules,\n          id\n        ]\n      }\n    })\n    default: return Object.assign({}, state, {\n      [id]: {\n        id,\n        name,\n        row,\n        col,\n        parentID,\n        moduleType,\n        controlData,\n        connectionInputs,\n        connectionOutputs,\n        toContainerControls: [],\n        isContainerInput: false,\n        isContainerOutput: false,\n        inputs: [],\n        outputs: [],\n      },\n      [parentID]: {\n        ...state[parentID],\n        childModules: [\n          ...(state[parentID] as ContainerModule).childModules,\n          id\n        ]\n      }\n    })\n  }\n}\n\nexport default addModule","import { Modules } from \"../../stateTSTypes\";\nimport { MoveModuleAction } from \"../moduleTSTypes\";\n\nconst moveModuleAction = (state: Modules, { id, newRow, newCol }: MoveModuleAction) => {\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      row: newRow,\n      col: newCol,\n    }\n  })\n}\n\nexport default moveModuleAction","import { Modules } from \"../../stateTSTypes\"\nimport { RenameModuleAction } from \"../moduleTSTypes\"\n\nconst renameContainer = (state: Modules, { id, newName }: RenameModuleAction) => {\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      name: newName\n    },\n  })\n}\n\nexport default renameContainer","import { Modules } from \"../../stateTSTypes\";\nimport { MarkContainerIOAction } from \"../moduleTSTypes\";\n\nconst markContainerInput = (state: Modules, { id }: MarkContainerIOAction): Modules => {\n  const parentID = state[id].parentID as string\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      isContainerInput: true,\n    },\n    [parentID]: {\n      ...state[parentID],\n      connectionInputs: [ ...state[parentID].connectionInputs, id ],\n    }\n  })\n}\n\nexport default markContainerInput","import { Modules } from \"../../stateTSTypes\";\nimport { MarkContainerIOAction } from \"../moduleTSTypes\";\n\nconst unmarkContainerInput = (state: Modules, { id }: MarkContainerIOAction): Modules => {\n  const parentID = state[id].parentID as string\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      isContainerInput: false,\n    },\n    [parentID]: {\n      ...state[parentID],\n      connectionInputs: state[parentID].connectionInputs.filter( inputID => inputID !== id ),\n    }\n  })\n}\n\nexport default unmarkContainerInput","import { Modules } from \"../../stateTSTypes\";\nimport { MarkContainerIOAction } from \"../moduleTSTypes\";\n\nconst markContainerOutput = (state: Modules, { id }: MarkContainerIOAction): Modules => {\n  const parentID = state[id].parentID as string\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      isContainerOutput: true,\n    },\n    [parentID]: {\n      ...state[parentID],\n      connectionOutputs: [ ...state[parentID].connectionOutputs, id ],\n    }\n  })\n}\n\nexport default markContainerOutput","import { Modules } from \"../../stateTSTypes\";\nimport { MarkContainerIOAction } from \"../moduleTSTypes\";\n\nconst unmarkContainerOutput = (state: Modules, { id }: MarkContainerIOAction): Modules => {\n  const parentID = state[id].parentID as string\n  return Object.assign({}, state, {\n    [id]: {\n      ...state[id],\n      isContainerInput: false,\n    },\n    [parentID]: {\n      ...state[parentID],\n      connectionOutputs: state[parentID].connectionOutputs.filter(outputID => outputID !== id),\n    }\n  })\n}\n\nexport default unmarkContainerOutput","import { Modules, ContainerModule } from \"../../stateTSTypes\";\nimport { MarkContainerControlAction } from \"../moduleTSTypes\";\n\nconst markContainerControl = (state: Modules, { modID, controlID, actualModID }: MarkContainerControlAction): Modules => {\n  const parentID = state[modID].parentID as string\n  return Object.assign({}, state, {\n    [modID]: {\n      ...state[modID],\n      toContainerControls: [ ...state[modID].toContainerControls, actualModID+controlID ]\n    },\n    [parentID]: {\n      ...state[parentID],\n      containerControls: [...(state[parentID] as ContainerModule).containerControls, { modID, controlID, actualModID }],\n    }\n  })\n}\n\nexport default markContainerControl","import { Modules, ContainerModule } from \"../../stateTSTypes\";\nimport { MarkContainerControlAction } from \"../moduleTSTypes\";\n\nconst unmarkContainerControl = (state: Modules, { modID, controlID, actualModID }: MarkContainerControlAction): Modules => {\n  const parentID = state[modID].parentID as string\n  return Object.assign({}, state, {\n    [modID]: {\n      ...state[modID],\n      toContainerControls: state[modID].toContainerControls.filter(toContainerControlID => toContainerControlID !== actualModID+controlID)\n    },\n    [parentID]: {\n      ...state[parentID],\n      containerControls: (state[parentID] as ContainerModule).containerControls.filter(containerControl => {\n        return containerControl.modID !== modID || \n          containerControl.controlID !== controlID || \n          containerControl.actualModID !== actualModID\n      }),\n    }\n  })\n}\n\nexport default unmarkContainerControl","import { Modules } from \"../../stateTSTypes\";\nimport { UpdateControlValueAction } from \"../moduleTSTypes\";\n\nconst updateControlValue = (state: Modules, { modID, controlID, newValue }: UpdateControlValueAction) => {\n  return Object.assign({}, state, {\n    [modID]: {\n      ...state[modID],\n      controlData: {\n        ...state[modID].controlData,\n        [controlID]: {\n          ...state[modID].controlData[controlID],\n          value: newValue\n        }\n      }\n    }\n  })\n}\n\nexport default updateControlValue","import { Modules } from \"../../stateTSTypes\"\nimport { UpdateControlRangeAction } from \"../moduleTSTypes\"\nimport { clamp } from \"../../../helpers/genFuncs\"\n\nconst updateControlRange = (state: Modules, { modID, controlID, newRange }: UpdateControlRangeAction): Modules => {\n  return Object.assign({}, state, {\n    [modID]: {\n      ...state[modID],\n      controlData: {\n        ...state[modID].controlData,\n        [controlID]: {\n          ...state[modID].controlData[controlID],\n          range: newRange,\n          value: clamp(state[modID].controlData[controlID].value as number, newRange),\n        }        \n      }\n    }\n  })\n}\n\nexport default updateControlRange","import { ContainerModule, Modules } from \"../stateTSTypes\"\nimport { \n  ADD_MODULE,\n  MOVE_MODULE, \n  RENAME_MODULE, \n  MARK_CONTAINER_INPUT,\n  UNMARK_CONTAINER_INPUT,\n  MARK_CONTAINER_OUTPUT,\n  UNMARK_CONTAINER_OUTPUT,\n  MARK_CONTAINER_CONTROL,\n  UNMARK_CONTAINER_CONTROL,\n  UPDATE_CONTROL_VALUE,\n  UPDATE_CONTROL_RANGE,\n} from './moduleActionTypes'\nimport { \n  ModuleAction, \n  AddModuleAction, \n  MoveModuleAction, \n  RenameModuleAction, \n  MarkContainerIOAction,\n  MarkContainerControlAction,\n  UpdateControlValueAction,\n  UpdateControlRangeAction,\n} from './moduleTSTypes'\nimport { \n  addModuleReducer, \n  moveModuleReducer, \n  renameModuleReducer, \n  markContainerInputReducer,\n  unmarkContainerInputReducer,\n  markContainerOutputReducer,\n  unmarkContainerOutputReducer,\n  markContainerControlReducer,\n  unmarkContainerControlReducer,\n  updateControlValueReducer,\n  updateControlRangeReducer,\n} from \"./reducers/allModuleReducers\"\nimport { CONTAINER, BUTTON } from \"../../audioModules/moduleTypes\"\n\nconst initBaseCM: ContainerModule = {\n  id: 'project',\n  name: 'project',\n  row: 0,\n  col: 0,\n  moduleType: CONTAINER,\n  controlData: {\n    'open': {\n      controlType: BUTTON,\n      paramID: 'n/a',\n    }\n  },\n  connectionInputs: [],\n  connectionOutputs: [],\n  toContainerControls: [],\n  inputs: [],\n  outputs: [],\n  parentID: null,\n  childModules: [],\n  isBaseContainer: true,\n  isContainerInput: false,\n  isContainerOutput: false,\n  containerControls: [],\n}\n\nconst initState: Modules = {\n  'project': initBaseCM\n}\n\nconst moduleReducer = (state = initState, action?: ModuleAction) => {\n  if (action) {\n    switch (action.type) {\n      case ADD_MODULE: return addModuleReducer(state, action as AddModuleAction)\n      case MOVE_MODULE: return moveModuleReducer(state, action as MoveModuleAction)\n      case RENAME_MODULE: return renameModuleReducer(state, action as RenameModuleAction)\n      case MARK_CONTAINER_INPUT: return markContainerInputReducer(state, action as MarkContainerIOAction)\n      case UNMARK_CONTAINER_INPUT: return unmarkContainerInputReducer(state, action as MarkContainerIOAction)\n      case MARK_CONTAINER_OUTPUT: return markContainerOutputReducer(state, action as MarkContainerIOAction)\n      case UNMARK_CONTAINER_OUTPUT: return unmarkContainerOutputReducer(state, action as MarkContainerIOAction)\n      case MARK_CONTAINER_CONTROL: return markContainerControlReducer(state, action as MarkContainerControlAction)\n      case UNMARK_CONTAINER_CONTROL: return unmarkContainerControlReducer(state, action as MarkContainerControlAction)\n      case UPDATE_CONTROL_VALUE: return updateControlValueReducer(state, action as UpdateControlValueAction)\n      case UPDATE_CONTROL_RANGE: return updateControlRangeReducer(state, action as UpdateControlRangeAction)\n      default: return state\n    }\n  } else {\n    return state\n  }\n}\n\nexport default moduleReducer","import { BCIDAction } from \"./bcidTSTypes\"\nimport { DOWN_1_BASE, CHANGE_BASE } from \"./bcidActionTypes\"\n\nconst bcidReducer = (state = 'project', action?: BCIDAction) => {\n  if (action) {\n    switch (action.type) {\n      case DOWN_1_BASE: return action.newID\n      case CHANGE_BASE: return action.newID\n      default: return state\n    }\n  } else {\n    return state\n  }\n}\n\nexport default bcidReducer","export const DOWN_1_BASE = 'DOWN_1_BASE'\nexport const CHANGE_BASE = 'CHANGE_BASE'","import { Modules, Connections } from \"../../stateTSTypes\"\nimport { AddConnectionAction, ConnectionReducerReturn } from \"../connectionTSTypes\"\n\nlet connectionNumber = 0\n\nconst addConnection = (modules: Modules, connections: Connections, { fromID, toID, param, outputIndex, inputIndex, containerOutputChildID, containerInputChildID }: AddConnectionAction): ConnectionReducerReturn => {\n  const connectionID = `${fromID} ${toID} ${connectionNumber}`\n  connectionNumber++\n  return {\n    newModules: Object.assign({}, modules, {\n      [fromID]: {\n        ...modules[fromID],\n        outputs: [\n          ...modules[fromID].outputs,\n          connectionID\n        ]\n      },\n      [toID]: {\n        ...modules[toID],\n        inputs: [\n          ...modules[toID].inputs,\n          connectionID\n        ]\n      }\n    }, !containerOutputChildID ? {} : {\n      [containerOutputChildID]: {\n        ...modules[containerOutputChildID],\n        outputs: [\n          ...modules[containerOutputChildID].outputs,\n          connectionID,\n        ]\n      }\n    }, !containerInputChildID ? {} : {\n      [containerInputChildID]: {\n        ...modules[containerInputChildID],\n        inputs: [\n          ...modules[containerInputChildID].inputs,\n          connectionID,\n        ]\n      }\n    },),\n    newConnections: {\n      ...connections,\n      [connectionID]: {\n        connectionID,\n        fromID,\n        toID,\n        param,\n        outputIndex,\n        inputIndex,\n        actualOutputID: containerOutputChildID,\n        actualInputID: containerInputChildID,\n      },\n    },\n  }\n}\n\nexport default addConnection","export function filterOutFromObj<ObjType>(obj: ObjType, idsToFilterOut: string[]) {\n  return Object.fromEntries(Object.entries(obj).filter(entry => {\n    for (var i = 0; i < idsToFilterOut.length; i++) {\n      if (entry[0] === idsToFilterOut[i]) {\n        return false\n      }\n    }\n    return true\n  }))\n}\n\nexport function keepOnlyIdsInObj<ObjType>(obj: ObjType, idsToKeep: string[]) {\n  return Object.fromEntries(Object.entries(obj).filter(entry => {\n    for (var i = 0; i < idsToKeep.length; i++) {\n      if (entry[0] === idsToKeep[i]) {\n        return true\n      }\n    }\n    return false\n  }))\n}\n\nexport function ObjFrom2Arrays(arr1: string[], arr2: any[]) {\n  if (arr1.length === arr2.length) {\n    return Object.fromEntries(arr1.map((id, index) => {\n      return [id, arr2[index]]\n    }))\n  }\n  return false\n}","import { RemoveConnectionAction } from \"../connectionTSTypes\"\nimport { Modules, Connections } from \"../../stateTSTypes\"\nimport { filterOutFromObj } from \"../../helpers\"\n\nconst removeConnection = (modules: Modules, connections: Connections, { connectionID }: RemoveConnectionAction) => {\n  const { fromID, toID, actualOutputID: containerOutputChildID, actualInputID: containerInputChildID } = connections[connectionID]\n  return {\n    newModules: Object.assign({}, modules, {\n      [fromID]: {\n        ...modules[fromID],\n        outputs: modules[fromID].outputs.filter(id => id !== connectionID)\n      },\n      [toID]: {\n        ...modules[toID],\n        inputs: modules[toID].inputs.filter(id => id !== connectionID)\n      }\n    }, !containerOutputChildID ? {} : {\n      [containerOutputChildID]: {\n        ...modules[containerOutputChildID],\n        outputs: modules[containerOutputChildID].outputs.filter(id => id !== connectionID)\n      }\n    }, !containerInputChildID ? {} : {\n      [containerInputChildID]: {\n        ...modules[containerInputChildID],\n        inputs: modules[fromID].outputs.filter(id => id !== connectionID)\n      }\n    }),\n    newConnections: filterOutFromObj(connections, [ connectionID ])\n  }\n}\n\nexport default removeConnection","import { Modules, ContainerModule, Connections } from \"../../stateTSTypes\"\nimport { filterOutFromObj } from \"../../helpers\"\nimport { stringIn } from \"../../../helpers/genFuncs\"\nimport { RemoveModuleAction } from \"../connectionTSTypes\"\n\nconst removeModule = (modules: Modules, connections: Connections, { id }: RemoveModuleAction) => {\n  const parentID = modules[id].parentID as string\n  const trimmedModules = filterOutFromObj(modules, [ id ]) as Modules\n  return {\n    newModules: Object.assign({}, Object.fromEntries(Object.entries(trimmedModules).map(entry => {\n      return [entry[0], {\n        ...entry[1],\n        inputs: entry[1].inputs.filter(inputData => !stringIn(inputData, [...modules[id].inputs, ...modules[id].outputs])),\n        outputs: entry[1].outputs.filter(outputData => !stringIn(outputData, [...modules[id].inputs, ...modules[id].outputs]))\n      }]\n    })), {\n      [parentID]: {\n        ...modules[parentID],\n        childModules: (modules[parentID] as ContainerModule).childModules.filter(childID => childID !== id),\n        connectionInputs: (modules[parentID]).connectionInputs.filter(inputID => inputID !== id),\n        connectionOutputs: (modules[parentID]).connectionOutputs.filter(outputID => outputID !== id),\n        containerControls: (modules[parentID] as ContainerModule).containerControls.filter(({ modID }) => modID !== id),\n      }\n    }, ),\n    newConnections: filterOutFromObj(connections, [...modules[id].inputs, ...modules[id].outputs]),\n  }\n}\n\nexport default removeModule","import { Modules, Connections } from \"../stateTSTypes\"\nimport { ConnectionAction, ConnectionReducerReturn, RemoveConnectionAction, AddConnectionAction, RemoveModuleAction } from \"./connectionTSTypes\"\nimport { ADD_CONNECTION, REMOVE_CONNECTION, REMOVE_MODULE } from \"./connectionActionTypes\"\nimport addConnection from \"./reducers/addConnection\"\nimport removeConnection from \"./reducers/removeConnection\"\nimport removeModule from './reducers/removeModule'\n\nconst connectionReducer = (modules: Modules, connections: Connections, action?: ConnectionAction): ConnectionReducerReturn => {\n  if (action) {\n    switch (action.type) {\n      case ADD_CONNECTION: return addConnection(modules, connections, action as AddConnectionAction)\n      case REMOVE_CONNECTION: return removeConnection(modules, connections, action as RemoveConnectionAction)\n      case REMOVE_MODULE: return removeModule(modules, connections, action as RemoveModuleAction)\n      default: return { newModules: modules, newConnections: connections }\n    }\n  } else {\n    return { newModules: modules, newConnections: connections }\n  }\n}\n\nexport default connectionReducer","import moduleReducer from './modules/moduleReducer'\nimport bcidReducer from './baseContainerID/bcidReducer'\nimport connectionReducer from './connections/connectionReducer'\nimport { RootState } from './stateTSTypes'\nimport { ModuleAction } from './modules/moduleTSTypes'\nimport { BCIDAction } from './baseContainerID/bcidTSTypes'\nimport { ConnectionAction } from './connections/connectionTSTypes'\nimport { ADD_CONNECTION, REMOVE_CONNECTION, REMOVE_MODULE } from './connections/connectionActionTypes'\nimport { RESTORE_FROM_STATE } from './root/rootActionTypes'\nimport { RootAction } from './root/rootActionTSTypes'\n\nconst initState = {\n  modules: moduleReducer(),\n  connections: {},\n  baseContainerID: bcidReducer(),\n}\n\nfunction combinedModuleConnectionReducer(state: RootState, action: ModuleAction | ConnectionAction) {\n  if (action.type === ADD_CONNECTION || action.type === REMOVE_CONNECTION || action.type === REMOVE_MODULE) {\n    return connectionReducer(state.modules, state.connections, action as ConnectionAction)\n  } else {\n    return {\n      newModules: moduleReducer(state.modules, action as ModuleAction),\n      newConnections: state.connections,\n    }\n  }\n}\n\nconst rootReducer = (state = initState, action: ModuleAction | BCIDAction | ConnectionAction | RootAction): RootState => {\n  if (action.type === RESTORE_FROM_STATE) {\n    const newState = (action as RootAction).state\n    return Object.assign(newState, newState.connections ? {} : {\n      connections: {}\n    })\n  } else {\n    const { newModules, newConnections } = combinedModuleConnectionReducer(state, action as ModuleAction | ConnectionAction)\n    return {\n      modules: newModules,\n      connections: newConnections,\n      baseContainerID: bcidReducer(state.baseContainerID, action as BCIDAction),\n    }\n  }\n}\n\nexport default rootReducer\n","import { createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from './rootReducer'\n\nconst store = createStore(rootReducer, composeWithDevTools())\n\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App/App'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}