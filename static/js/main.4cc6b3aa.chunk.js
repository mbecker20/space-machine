(this["webpackJsonpspace-machine"]=this["webpackJsonpspace-machine"]||[]).push([[0],{130:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(51),c=t.n(r),i=(t(89),t(10)),u=t(16),l=-1,s=100,d=50,m=0,f=Object(u.a)({Bounder:{backgroundImage:"url(https://i.imgur.com/mSjoh6M.jpg)",backgroundPosition:"center",width:"100vw",height:"100vh",display:"flex",fontSize:"calc(20px + 2vmin)",color:"white",position:"absolute",top:"0px",left:"0px",userSelect:"none",zIndex:l,overflow:"hidden"},ModuleViewBounder:{minWidth:"60vw",height:"100vh",display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",zIndex:m,overflow:"scroll","&::-webkit-scrollbar":{width:"0px"}}}),p=t(8),v=t(6),b="CONTAINER",w="VALUE",g=function(e,n,t,a,o,r,c,i,u){return{type:"ADD_MODULE",moduleType:t,id:e,name:n,controlData:a,row:r,col:c,parentID:o,connectionInputs:i,connectionOutputs:u}},O=function(e,n,t){return{type:"MOVE_MODULE",id:e,newRow:n,newCol:t}},h=function(e,n,t,a){return{type:"MARK_CONTAINER_CONTROL",modID:e,controlID:n,actualModID:t,name:a}},C=function(e,n,t){return{type:"UNMARK_CONTAINER_CONTROL",modID:e,controlID:n,actualModID:t}},D=function(e,n,t){return{type:"UPDATE_CONTROL_DATA",modID:e,controlID:n,newValue:t}},I=function(e,n,t){return{type:"UPDATE_CONTROL_RANGE",modID:e,controlID:n,newRange:t}},j=function(e,n,t,a,o,r,c){return{type:"ADD_CONNECTION",fromID:e,toID:n,param:t,outputIndex:a,inputIndex:o,containerOutputChildID:r,containerInputChildID:c}},E=function(e){return{type:"REMOVE_CONNECTION",connectionID:e}},y=function(e,n,t,a,o,r){return{type:"MERGE_CONTAINER",containerID:e,newModules:n,newConnections:t,parentID:a,row:o,col:r}};function N(e){return{type:"RESTORE_FROM_STATE",state:e}}var x=new(window.AudioContext||window.webkitAudioContext);var S=function(e){var n=x.createConstantSource();n.offset.value=e?e.value.value:0;var t={value:function(e){n.offset.value=Number(e)},kill:function(){n.stop()}};return n.start(),{audioNode:n,connectingParamIDs:["offset"],controlSetFuncs:t}},M=["lowpass","lowshelf","highpass","highshelf","allpass","bandpass","notch","peaking"],k=["frequency","detune","Q","gain"];var T=function(e){var n=x.createBiquadFilter();e&&(n.type=e["set type"].value,n.frequency.value=e.frequency.value,n.detune.value=e.detune.value,n.Q.value=e.Q.value,n.gain.value=e.gain.value);var t={"set type":function(e){n.type=e},frequency:function(e){n.frequency.value=Number(e)},detune:function(e){n.detune.value=Number(e)},Q:function(e){n.Q.value=Number(e)},gain:function(e){n.gain.value=Number(e)}};return{audioNode:n,typeTypes:M,connectingParamIDs:k,controlSetFuncs:t}};var R=function(e){x.resume();var n=x.createGain();n.connect(x.destination),n.gain.value=e?e["master gain"].value:1;var t={"master gain":function(e){n.gain.value=Number(e)},resume:function(e){x.resume()},suspend:function(e){x.suspend()}};return{audioNode:n,connectingParamIDs:[],controlSetFuncs:t}};var A=function(e){var n=x.createStereoPanner();e&&(n.pan.value=e.pan.value);var t={pan:function(e){n.pan.value=Number(e)}};return{audioNode:n,connectingParamIDs:["pan"],controlSetFuncs:t}};var F=function(e){var n=x.createDelay(60);e&&(n.delayTime.value=e["delay time"].value);var t={"delay time":function(e){n.delayTime.value=Number(e)}};return{audioNode:n,connectingParamIDs:["delayTime"],controlSetFuncs:t}};var B=function(e){var n=x.createDynamicsCompressor();e&&(n.threshold.value=e.threshold.value,n.knee.value=e.knee.value,n.ratio.value=e.ratio.value,n.attack.value=e.attack.value,n.release.value=e.release.value);var t={threshold:function(e){n.threshold.value=Number(e)},knee:function(e){n.knee.value=Number(e)},ratio:function(e){n.ratio.value=Number(e)},attack:function(e){n.attack.value=Number(e)},release:function(e){n.release.value=Number(e)}};return{audioNode:n,connectingParamIDs:["threshold","knee","ratio","attack","release"],controlSetFuncs:t}};var P=function(e){var n=x.createGain();n.gain.value=e?e.gain.value:0;var t={gain:function(e){n.gain.value=Number(e)}};return{audioNode:n,connectingParamIDs:["gain"],controlSetFuncs:t}};var L=["sine","square","triangle","sawtooth"];var z=function(e){var n=x.createOscillator();e&&(n.type=e["set type"].value,n.frequency.value=e.frequency.value,n.detune.value=e.detune.value);var t={"set type":function(e){n.type=e},frequency:function(e){n.frequency.value=Number(e)},detune:function(e){n.detune.value=Number(e)},kill:function(){n.stop()}};return n.start(),{audioNode:n,typeTypes:L,connectingParamIDs:["frequency","detune"],controlSetFuncs:t}};var _=function(e){navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1,latency:0}}).then((function(n){var t=x.createMediaStreamSource(n),a=x.createChannelSplitter(2);t.connect(a);var o={audioNode:a,connectingParamIDs:[],controlSetFuncs:{mute:function(e){n.getAudioTracks()[0].enabled="true"===e}}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,o))}))};var G=function(e){return{connectingParamIDs:[],controlSetFuncs:{}}};var U=function(e){if(e.current){var n={"choose file":function(n){e.current.src=n},pause:function(){e.current.pause()},play:function(){e.current.play()}};return{audioNode:x.createMediaElementSource(e.current),ref:e,connectingParamIDs:[],controlSetFuncs:n}}return null};function W(e){for(var n,t="number"===typeof e?e:50,a=new Float32Array(44100),o=Math.PI/180,r=0;r<44100;++r)n=2*r/44100-1,a[r]=(3+t)*n*20*o/(Math.PI+t*Math.abs(n));return a}var H=function(e){var n=x.createWaveShaper();n.curve=W(e?e.amount.value:0);var t={amount:function(e){n.curve=W(Number(e))},oversample:function(e){var t=Math.floor(Number(e));n.oversample=t<2?"none":t<4?"2x":"4x"}};return{audioNode:n,connectingParamIDs:[],controlSetFuncs:t}};var K=function(e){var n=x.createAnalyser();n.fftSize=1024;var t=n.frequencyBinCount;return{audioNode:n,controlSetFuncs:{"time graph":function(){}},connectingParamIDs:[],timeArray:new Float32Array(t),bufferLength:t}};var V=function(e){var n=x.createConstantSource();n.offset.value=0;var t=.1,a=.2,o=1,r=.1;e&&(t=e.attack.value,a=e.decay.value,o=e.sustain.value,r=e.release.value);var c={trigger:function(e){var c=x.currentTime;"on"===e?(n.offset.linearRampToValueAtTime(1,c+t),n.offset.setTargetAtTime(o,c+t,a)):(n.offset.cancelAndHoldAtTime(c),n.offset.setTargetAtTime(0,c,r))},attack:function(e){t=Number(e)},decay:function(e){a=Number(e)},sustain:function(e){o=Number(e)},release:function(e){r=Number(e)}};return n.start(),{audioNode:n,connectingParamIDs:[],controlSetFuncs:c}};var q=10*x.sampleRate;var Y=function(e){for(var n=x.createBuffer(1,q,x.sampleRate),t=n.getChannelData(0),a=0;a<q;a++)t[a]=2*Math.random()-1;var o=x.createBufferSource();return o.buffer=n,o.loop=!0,o.start(),{audioNode:o,connectingParamIDs:[],controlSetFuncs:{}}},Q=t(17),J=t(133);function X(e,n,t){var a=!1;return e.map((function(o,r){return a?0:t*r<n?e[t*r]:(a=!0,0)}))}function Z(e,n){return e*x.sampleRate/(2*n)}var $=function(e){var n=x.createAnalyser();n.fftSize=Math.pow(2,15),n.smoothingTimeConstant=0;var t=n.frequencyBinCount,a=new Float32Array(t),o={tuner:function(){n.getFloatFrequencyData(a);for(var e=0,o=0,r=function(e,n,t){for(var a=Math.min.apply(Math,Object(Q.a)(e)),o=Object(Q.a)(e.map((function(e){return e-a}))),r=Object(Q.a)(o),c=2;c<=t;c++)o=Object(J.a)(o,X(r,n,c));return o}(a,t,5),c=0;c<t;c++)r[c]>o&&(o=r[c],e=c);return[Z(e,t),a[e]]}};return{audioNode:n,controlSetFuncs:o,connectingParamIDs:[],bufferLength:t,freqArray:a}};var ee=function(){window.addModule=function(e,n,t,a,o,r,c){switch(a){case"OSCILLATOR":var i=z(),u={"set type":{controlType:"TYPE",paramID:"type",value:(re=i.audioNode).type},frequency:{controlType:w,paramID:"frequency",value:re.frequency.value,range:[0,440]},detune:{controlType:w,paramID:"detune",value:re.detune.value,range:[-50,50]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,i)),o(g(e,n,a,u,t,r,c,[],["0"]));break;case"GAIN":var l=P(),s={gain:{controlType:w,paramID:"gain",value:0,range:[0,1]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,l)),o(g(e,n,a,s,t,r,c,["0"],["0"]));break;case"OUTPUT":var d=R(),m={"master gain":{controlType:w,paramID:"gain",value:1,range:[0,1],maxRange:[0,20]},resume:{controlType:"BUTTON",paramID:"n/a"},suspend:{controlType:"BUTTON",paramID:"n/a"}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,d)),o(g(e,n,a,m,t,r,c,["0"],[]));break;case"AUTOFILTER":var f=T(),O={"set type":{controlType:"TYPE",paramID:"type",value:(oe=f.audioNode).type},frequency:{controlType:w,paramID:"frequency",value:oe.frequency.value,range:[0,x.sampleRate/2],maxRange:[0,x.sampleRate/2]},detune:{controlType:w,paramID:"detune",value:oe.detune.value,range:[-50,50],maxRange:[-153600,153600]},Q:{controlType:w,paramID:"Q",value:oe.Q.value,range:[1e-4,1e3],maxRange:[1e-4,1e3]},gain:{controlType:w,paramID:"gain",value:oe.gain.value,range:[-40,40],maxRange:[-40,40]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,f)),o(g(e,n,a,O,t,r,c,["0"],["0"]));break;case"KOMPRESSOR":var h=B(),C=(ae=h.audioNode,{threshold:{controlType:w,paramID:"threshold",value:ae.threshold.value,range:[-100,0],maxRange:[-100,0]},knee:{controlType:w,paramID:"knee",value:ae.knee.value,range:[0,40],maxRange:[0,40]},ratio:{controlType:w,paramID:"ratio",value:ae.ratio.value,range:[1,20],maxRange:[1,20]},attack:{controlType:w,paramID:"attack",value:ae.attack.value,range:[0,1],maxRange:[0,1]},release:{controlType:w,paramID:"release",value:ae.release.value,range:[0,1],maxRange:[0,1]}});window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,h)),o(g(e,n,a,C,t,r,c,["0"],["0"]));break;case"STEREO_PANNER":var D=A(),I={pan:{controlType:w,paramID:"pan",value:0,range:[-1,1],maxRange:[-1,1]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,D)),o(g(e,n,a,I,t,r,c,["0"],["0"]));break;case"SIGNAL_DELAY":var j=F(),E={"delay time":{controlType:w,paramID:"delayTime",value:0,range:[0,2],maxRange:[0,60]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,j)),o(g(e,n,a,E,t,r,c,["0"],["0"]));break;case"CONSTANT":var y=S(),N={value:{controlType:w,paramID:"offset",value:0,range:[-100,100]},kill:{controlType:"BUTTON",paramID:"n/a"}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,y)),o(g(e,n,a,N,t,r,c,[],["0"]));break;case"MEDIA_ELEMENT":var M={"choose file":{controlType:"FILE"},play:{controlType:"BUTTON"},pause:{controlType:"BUTTON"}};window.addAudioTag(e),window.reRenderAudioTags(),o(g(e,n,a,M,t,r,c,[],["0"]));break;case"LINE_IN":_(e),o(g(e,n,a,{mute:{controlType:"SWITCH",paramID:"n/a",value:!1}},t,r,c,[],["0 (L)","1 (R)"]));break;case b:var k=G(e),L={};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,k)),o(g(e,n,a,L,t,r,c,[],[]));break;case"DISTORTION":var U=H(),W={amount:{controlType:w,value:0,range:[0,1e3]},oversample:{controlType:w,value:0,range:[0,4],maxRange:[0,4]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,U)),o(g(e,n,a,W,t,r,c,["0"],["0"]));break;case"ANALYZER":var q=K(),Q={"time graph":{controlType:"GRAPH",range:[-1.5,1.5]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,q)),o(g(e,n,a,Q,t,r,c,["0"],["0"]));break;case"ENVELOPED_TRIGGER":var J=V(),X={trigger:{controlType:"PAD"},attack:{controlType:w,value:.1,range:[.001,1],maxRange:[.001,100]},decay:{controlType:w,value:.2,range:[.001,1],maxRange:[.001,100]},sustain:{controlType:w,value:1,range:[0,1],maxRange:[0,100]},release:{controlType:w,value:.1,range:[.001,1],maxRange:[.001,100]}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,J)),o(g(e,n,a,X,t,r,c,[],["0"]));break;case"WHITE_NOISE":var Z=Y(),ee={};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,Z)),o(g(e,n,a,ee,t,r,c,[],["0"]));break;case"TUNER":var ne=$(),te={tuner:{controlType:"TUNER_CONTROL"}};window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,ne)),o(g(e,n,a,te,t,r,c,["0"],["0"]))}var ae,oe,re}};function ne(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return{isOpen:e,pointerId:n,onPointerMove:t,onPointerUp:a}}var te=Object(u.a)({PointerLayer:{width:"100vw",height:"100vh",position:"absolute",top:0,left:0,zIndex:300}});var ae=function(e){var n=e.pointerLayerData,t=e.resetPointerLayerData,r=te(),c=n.pointerId,i=n.onPointerMove,u=n.onPointerUp,l=Object(a.useRef)(null);return Object(a.useEffect)((function(){})),o.a.createElement("div",{className:r.PointerLayer,ref:l,onPointerMove:function(e){e.pointerId===c&&i(e)},onPointerUp:function(e){e.pointerId===c&&(u(e),t())}})},oe=t(76),re=t.n(oe),ce=t(77),ie=t.n(ce);var ue=function(){var e=re()(),n=ie()("http://192.168.1.64:30300");e.configure(n.fetch(window.fetch)),window.projectSaveService=e.service("project-save-service"),window.containerSaveService=e.service("container-save-service")};var le=function(){navigator.userAgent.toLowerCase().indexOf(" electron/")>-1?window.usingElectron=!0:window.usingElectron=!1},se=t(11),de="#282c34",me="#0000009e",fe="#00347d",pe="#001b40",ve="#000000c4",be="#000000b3",we="#282c34",ge="#c0c0c038",Oe="#37538a",he="white",Ce="#007ab3",De="#ffffff61",Ie="#ffffff60",je="black",Ee="#cc00006e",ye="#cc0000",Ne="red",xe="#0000009e",Se="white",Me="#cc00006e",ke="white",Te="#da1212",Re="blue",Ae="#028174",Fe="#7D1551",Be="#4C4141",Pe="#CA5F3C",Le="#00347D",ze="#00802da6",_e="#cc00006e",Ge="black",Ue="#08101deb",We="#282c349c",He="transparent",Ke="#1d1d2b",Ve="white",qe="#00802d",Ye={width:"400",toggleWidth:"2vmin",item:"9vmin"},Qe={iconGrid:"12vmin",gutterGrid:"6vmin",icon:"10vmin",bigIconWidth:"25vmin",bigIconHeight:"35vmin"},Je={large:"calc(25px + 2.8vmin)",medium:"calc(20px + 2.4vmin)",small:"calc(12px + 1.2vmin)",xsmall:"calc(8px + 1vmin)",xxsmall:"calc(7px + .8vmin)"},Xe={size:"2.5vmin",borderRadius:"2.5vmin",smallSize:"1.5vmin",smallBorderRadius:"1.5vmin"},Ze={size:7,markerWidth:.5,markerHeight:1.3,rotRange:[-150,150],sensitivity:1,borderWidth:8},$e={diameter:3},en={leftBarWidth:"20vmin",iconRouterWidth:"60vmin",height:"60vmin"},nn=Object(u.a)({ContextMenuBounder:{width:"100vw",height:"100vh",backgroundColor:"transparent",position:"fixed",overflow:"hidden",top:0,left:0,zIndex:d,opacity:1,visibility:function(e){return e.isOpen?"visible":"hidden"}},ContextMenu:{maxHeight:"12em",backgroundColor:Ue,padding:".2em",borderRadius:".2em",display:"flex",flexDirection:"column",position:"fixed",overflowY:"scroll","&::-webkit-scrollbar":{width:"0em"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},MenuItem:{maxWidth:"8em",borderStyle:"solid",borderColor:"transparent","&:hover":{borderColor:Ge}}});var tn=function(e){var n=e.children,t=e.showIf;return o.a.createElement(a.Fragment,null,t?n:null)};var an=function(e){var n=e.children,t=e.onClose,r=e.bounderStyle,c=e.style,i=e.event,u=e.isOpen,l=nn({isOpen:u}),s=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(s.current)if(i){var e=(a=i,(o=s).current?{top:window.innerHeight-a.pageY>=o.current.offsetHeight?a.pageY:window.innerHeight-o.current.offsetHeight,left:window.innerWidth-a.pageX>=o.current.offsetWidth?a.pageX:window.innerWidth-o.current.offsetWidth}:{top:-1e3,left:-1e3}),n=e.top,t=e.left;s.current.style.top="".concat(n,"px"),s.current.style.left="".concat(t,"px")}else s.current.style.top="-1000px",s.current.style.left="-1000px";var a,o}),[i]),o.a.createElement("div",{className:l.ContextMenuBounder,onPointerDown:function(){s.current&&(s.current.style.top="-1000px",s.current.style.left="-1000px"),t()},style:r},o.a.createElement("div",{className:l.ContextMenu,style:Object.assign({top:-1e3,left:-1e3},c),ref:s,onPointerDown:function(e){e.stopPropagation()}},o.a.createElement(tn,{showIf:u},n)))},on=Object(u.a)({FlexRow:{display:"flex",flexDirection:"row",justifyContent:function(e){return e.justifyContent},alignItems:function(e){return e.alignItems},flexWrap:function(e){return e.flexWrap}},FlexCol:{display:"flex",flexDirection:"column",justifyContent:function(e){return e.justifyContent},alignItems:function(e){return e.alignItems}}});var rn=function(e){var n=e.className,t=e.children,a=e.style,r=e.ref,c=e.justifyContent,i=e.alignItems,u=e.flexWrap,l=on({justifyContent:c,alignItems:i,flexWrap:u});return o.a.createElement("div",{className:n?"".concat(l.FlexRow," ").concat(n):l.FlexRow,style:a,ref:r},t)};var cn=function(e){switch(e){case"LINE_IN":case"OSCILLATOR":case"MEDIA_ELEMENT":case"CONSTANT":case"ENVELOPED_TRIGGER":case"WHITE_NOISE":return Ae;case"GAIN":case"AUTOFILTER":case"KOMPRESSOR":case"SIGNAL_DELAY":case"STEREO_PANNER":case"DISTORTION":return Fe;case b:return Be;case"OUTPUT":return Pe;case"ANALYZER":case"TUNER":return Le}},un=Object(u.a)({AutoPlacingGrid:{display:"grid",gridTemplateRows:function(e){var n=e.numRows;return"repeat(".concat(n,", auto)")},gridTemplateColumns:function(e){var n=e.numCols;return"repeat(".concat(n,", auto)")},gridAutoFlow:function(e){return e.direction},gridAutoRows:function(e){return e.numRows?null:"auto"},gridAutoColumns:function(e){return e.numCols?null:"auto"},gap:function(e){return e.gap},justifyItems:"center"}});var ln=function(e){var n=e.children,t=e.className,a=e.style,r=e.numRows,c=e.numCols,i=e.direction,u=e.gap,l=un({numRows:r,numCols:c,direction:i,gap:u});return o.a.createElement("div",{className:t?"".concat(l.AutoPlacingGrid," ").concat(t):l.AutoPlacingGrid,style:a},n)};var sn=function(e){var n=e.className,t=e.children,a=e.style,r=e.ref,c=e.onDrop,i=e.onDragOver,u=e.justifyContent,l=e.alignItems,s=on({justifyContent:u,alignItems:l});return o.a.createElement("div",{className:n?"".concat(s.FlexCol," ").concat(n):s.FlexCol,style:a,ref:r,onDrop:c,onDragOver:i},t)};function dn(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;0===t.length?e.audioNode.connect(n.audioNode,a,o):n.audioNode[t]?e.audioNode.connect(n.audioNode[t],a):alert("param does not exist")}function mn(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;0===t.length?"number"===typeof a?e.audioNode.disconnect(n.audioNode,a):e.audioNode.disconnect(n.audioNode):n.audioNode[t]?"number"===typeof a?e.audioNode.disconnect(n.audioNode[t],a):e.audioNode.disconnect(n.audioNode[t]):alert("param does not exist")}function fn(e,n,t,a,o){for(var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=0;c<n.outputs.length;c++){var i=e[n.outputs[c]],u=i.toID,l=i.actualInputID,s=i.param,d=i.outputIndex,m=i.inputIndex,f=l||u;if(f===t&&r===s&&a===d&&o===m)return!0}return!1}function pn(e,n,t,a,o,r,c,i,u,l){var s=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"",d=o[e],m=window.audioModules,f=d.moduleType===b,p=o[t].moduleType===b;fn(r,d,a,i,u,s)?alert("modules already connected"):(dn(m[n],m[a],s,i,u),c(j(e,t,s,i,u,f?n:void 0,p?a:void 0)),window.flashNotification(qe,"connection created"),l&&l())}var vn=Object(u.a)({Module:{borderRadius:"1.5vmin",display:"flex",flexDirection:"column",alignItems:"center",flexGrow:1,flexShrink:1,"&::-webkit-scrollbar":{width:"0px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"},padding:".2em .5em",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},IconConnector:{backgroundColor:Ne,width:Xe.size,height:Xe.size,borderRadius:Xe.borderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"solid",borderColor:"transparent","&:hover":{cursor:"pointer",borderColor:"white"}},ConnectorBounder:{alignItems:"center"},Name:{whiteSpace:"noWrap",fontSize:Je.medium,marginBottom:".2em","&:hover":{cursor:"pointer"}},ConnectorName:{whiteSpace:"noWrap",fontSize:Je.small},ParamName:{whiteSpace:"noWrap",fontSize:Je.small},ConnectionReciever:{backgroundColor:"black",width:Xe.size,height:Xe.size,borderRadius:Xe.borderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"solid",borderColor:Te,borderWidth:".25em"},SmallConnectionReciever:{backgroundColor:"black",width:Xe.smallSize,height:Xe.smallSize,borderRadius:Xe.smallBorderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"solid",borderColor:Re,borderWidth:".2em"}});var bn=function(e){var n=e.modID,t=e.startsBig,r=e.fromID,c=e.toID,u=e.onClose,l=vn(),s=Object(se.c)((function(e){return e.modules[n]})),d=Object(se.c)((function(e){return e})),m=d.modules,f=d.connections,p=window.audioModules[n],v=Object(a.useState)(t),b=Object(i.a)(v,2),w=b[0],g=b[1],O=Object(se.b)();return o.a.createElement("div",{className:l.Module,style:{backgroundColor:cn(s.moduleType)}},o.a.createElement("div",{className:l.Name,style:{marginBottom:".2em"},onClick:function(){g(!w)}},s.name),o.a.createElement(rn,{style:{justifyContent:"center"}},o.a.createElement(sn,{style:{marginRight:0!==p.connectingParamIDs.length?".4em":"0em"}},w?s.connectionInputs.map((function(e,t){return o.a.createElement(sn,{key:t},o.a.createElement("div",{className:l.ConnectionReciever,onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault();var a=e.dataTransfer.getData("actualFromID"),o=Number(e.dataTransfer.getData("outputIndex"));pn(r,a,c,n,m,f,O,o,t,u)}}),1!==s.connectionInputs.length?e:null)})):null),0===p.connectingParamIDs.length?null:o.a.createElement(ln,{direction:"row",numCols:"2",gap:".2em"},w?p.connectingParamIDs.map((function(e,t){return o.a.createElement(sn,{style:{alignItems:"center"},key:t,onDragOver:function(e){e.preventDefault()},onDrop:function(a){a.preventDefault();var o=a.dataTransfer.getData("actualFromID"),i=Number(a.dataTransfer.getData("outputIndex"));pn(r,o,c,n,m,f,O,i,t,u,e)}},o.a.createElement("div",{className:l.SmallConnectionReciever}),o.a.createElement("div",{className:l.ParamName},e))})):null)))};var wn=function e(n){var t=n.modID,r=n.startsBig,c=n.fromID,u=n.toID,l=n.isFromContainer,s=n.onClose,d=n.isBase,m=vn(),f=Object(se.c)((function(e){return e.modules})),p=f[t],v=p.connectionInputs,w=v.length<=2,g=Object(a.useState)(r),O=Object(i.a)(g,2),h=O[0],C=O[1];return o.a.createElement("div",{className:m.Module,style:{backgroundColor:cn(b),maxHeight:d?"60vmin":"40vmin",overflowY:d?"scroll":"visible"}},o.a.createElement("div",{className:m.Name,onClick:function(){C(!h)}},p.name),o.a.createElement(ln,{direction:"row",numCols:2,gap:".2em"},h?v.map((function(n,t){return f[n].moduleType===b?o.a.createElement(e,{key:t,modID:n,fromID:c,toID:u,isFromContainer:l,onClose:s,isBase:!1,startsBig:w}):o.a.createElement(bn,{key:t,modID:n,fromID:c,toID:u,onClose:s,startsBig:w})})):null))};var gn=function(e){var n=e.modID,t=e.startsBig,r=e.isBase,c=vn(),u=Object(se.c)((function(e){return e.modules[n]})),l=Object(a.useState)(t),s=Object(i.a)(l,2),d=s[0],m=s[1];return o.a.createElement("div",{className:c.Module,style:{backgroundColor:cn(u.moduleType),overflow:"visible",marginRight:r?"1em":"0em"}},o.a.createElement("div",{className:c.Name,onClick:function(){m(!d)}},u.name),d?u.connectionOutputs.length>1?o.a.createElement(ln,{direction:"row",numCols:"2",gap:".2em"},u.connectionOutputs.map((function(e,t){return o.a.createElement(sn,{className:c.ConnectorBounder,key:t},o.a.createElement("div",{className:c.IconConnector,draggable:!0,onDragStart:function(e){e.dataTransfer.setData("actualFromID",n),e.dataTransfer.setData("outputIndex",t.toString())}}),1===u.connectionOutputs.length?null:o.a.createElement("div",{className:c.ConnectorName},e))}))):o.a.createElement(sn,{className:c.ConnectorBounder},o.a.createElement("div",{className:c.IconConnector,draggable:!0,onDragStart:function(e){e.dataTransfer.setData("actualFromID",n),e.dataTransfer.setData("outputIndex","0")}})):null)};var On=function e(n){var t=n.modID,r=n.startsBig,c=n.isBase,u=vn(),l=Object(se.c)((function(e){return e.modules})),s=l[t],d=s.connectionOutputs,m=d.length<=2,f=Object(a.useState)(r),p=Object(i.a)(f,2),v=p[0],w=p[1];return o.a.createElement("div",{className:u.Module,style:{backgroundColor:cn(s.moduleType),marginRight:c?"1em":"0em",maxHeight:c?"60vmin":"40vmin",overflowY:c?"scroll":"visible"}},o.a.createElement("div",{className:u.Name,onClick:function(){w(!v)}},s.name),o.a.createElement(ln,{direction:"row",numCols:2,gap:".2em"},v?d.map((function(n,t){return l[n].moduleType===b?o.a.createElement(e,{key:t,modID:n,startsBig:m,isBase:!1}):o.a.createElement(gn,{key:t,modID:n,startsBig:m,isBase:!1})})):null))};function hn(e,n,t,a){return{isOpen:e,event:n,fromMod:t,toMod:a}}var Cn=function(){var e=Object(a.useState)(hn(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.event,u=t.fromMod,l=t.toMod,s=n[1],d=Object(se.c)((function(e){return e})).modules;window.openConnectionMenu=function(e,n,t){s(hn(!0,e,d[n],d[t]))};var m=function(){s(hn(!1))};return o.a.createElement(an,{event:c,isOpen:r,onClose:m,style:{padding:".7em"},bounderStyle:{backgroundColor:"rgba(0,0,0,.4)"}},o.a.createElement(rn,null,(null===u||void 0===u?void 0:u.moduleType)===b?o.a.createElement(On,{modID:null===u||void 0===u?void 0:u.id,startsBig:!0,isBase:!0}):o.a.createElement(gn,{modID:null===u||void 0===u?void 0:u.id,startsBig:!0,isBase:!0}),(null===l||void 0===l?void 0:l.moduleType)===b?o.a.createElement(wn,{modID:null===l||void 0===l?void 0:l.id,startsBig:!0,fromID:null===u||void 0===u?void 0:u.id,toID:null===l||void 0===l?void 0:l.id,isFromContainer:(null===u||void 0===u?void 0:u.moduleType)===b,onClose:m,isBase:!0}):o.a.createElement(bn,{modID:null===l||void 0===l?void 0:l.id,startsBig:!0,fromID:null===u||void 0===u?void 0:u.id,toID:null===l||void 0===l?void 0:l.id,onClose:m})))},Dn=Object(u.a)({Button:{backgroundColor:je,borderColor:"transparent",borderRadius:"1vmin",borderStyle:"solid","&:active":{borderColor:"transparent"},"&:hover":{cursor:function(e){return e.notClickable?"":"pointer"},borderColor:function(e){return e.notClickable?"transparent":"white"}},display:"flex",alignItems:"center",justifyContent:"center",padding:".4em",margin:".3em",textAlign:"center",fontSize:function(e){return e.fontSize},boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}});var In=function(e){var n=e.className,t=e.onClick,a=e.children,r=e.style,c=e.onPointerDown,i=e.ref,u=e.onKeyDown,l=e.onContextMenu,s=e.fontSize,d=e.notClickable,m=Dn({fontSize:s,notClickable:d});return o.a.createElement("div",{className:n?"".concat(m.Button," ").concat(n):m.Button,onClick:t,onPointerDown:c,style:r,ref:i,onKeyDown:u,onContextMenu:l},a)},jn=t(78),En=t.n(jn);var yn=function(e){var n=e.className,t=e.style,a=e.alt;return o.a.createElement("img",{className:n,style:t,src:En.a,alt:a})},Nn=Object(u.a)({DeleteButtonBounder:{backgroundColor:Ee,fontSize:Je.small,padding:".2em .4em","&:hover":{borderColor:Ee}},DeleteButtonSVG:{width:"1.5em",height:"1.5em"}});var xn=function(e){var n=e.onClick,t=Nn();return o.a.createElement(In,{className:t.DeleteButtonBounder,onPointerDown:function(e){e.stopPropagation()},onClick:n},o.a.createElement(yn,{className:t.DeleteButtonSVG,alt:"delete"}))};var Sn=function(e){var n=e.modID,t=e.onClose,a=window.audioModules,r=Object(se.b)(),c=Object(se.c)((function(e){return e.connections})),i=Object(se.c)((function(e){return e.modules[n]}));return o.a.createElement(xn,{onClick:function(){i.inputs.forEach((function(e){var n=c[e],t=n.fromID,o=n.toID,r=n.param,i=n.outputIndex,u=n.actualOutputID,l=n.actualInputID;mn(a[u||t],a[l||o],r,i)})),i.outputs.forEach((function(e){var n=c[e],t=n.fromID,o=n.toID,r=n.param,i=n.outputIndex,u=n.actualOutputID,l=n.actualInputID;mn(a[u||t],a[l||o],r,i)})),r({type:"REMOVE_MODULE",id:i.id}),t()}})},Mn=Object(u.a)({Connection:{fontSize:Je.xsmall,backgroundColor:ge,margin:".5vmin 3vmin",borderRadius:"1vmin",borderColor:"transparent",borderStyle:"solid",minWidth:"30%",padding:"1vmin",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{cursor:"pointer",borderColor:Ee},boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},Name:{fontSize:Je.medium,margin:"1vmin","&:hover":{cursor:"pointer"}},MenuHeader:{fontSize:Je.small,borderStyle:"none none solid none",margin:"1vmin",whiteSpace:"noWrap"},OpenButton:{fontSize:Je.small},SaveButton:{fontSize:Je.small}});var kn=function(e){var n=e.modID,t=e.modules,r=Mn(),c=Object(se.b)(),i=window.audioModules,u=Object(se.c)((function(e){return e.connections})),l=Object(se.c)((function(e){return e.modules[n]}));return o.a.createElement(a.Fragment,null,0===l.inputs.length?null:o.a.createElement("div",{className:r.MenuHeader},"inputs"),l.inputs.map((function(e,n){var a=u[e],s=a.fromID,d=a.param,m=a.outputIndex,f=a.actualOutputID,p=a.actualInputID,v=t[s].name;return o.a.createElement("div",{className:r.Connection,key:s+d+"inp"+n,onClick:function(n){n.stopPropagation(),c(E(e)),mn(i[f||s],i[p||l.id],d,m)},onPointerDown:function(e){e.stopPropagation()}},"".concat(v).concat(f?" - ".concat(t[f].name):"").concat(0!==d.length?" - ".concat(d):""))})),0===l.outputs.length?null:o.a.createElement("div",{className:r.MenuHeader},"outputs"),l.outputs.map((function(e,n){var a=u[e],s=a.toID,d=a.param,m=a.outputIndex,f=a.actualOutputID,p=a.actualInputID,v=t[s].name;return o.a.createElement("div",{className:r.Connection,key:s+d+"out"+n,onClick:function(n){n.stopPropagation(),c(E(e)),mn(i[f||l.id],i[p||s],d,m)},onPointerDown:function(e){e.stopPropagation()}},"".concat(v).concat(p?" - ".concat(t[p].name):"").concat(0!==d.length?" - ".concat(d):""))})))};var Tn=function(e){var n=e.modules,t=e.modID,r=e.onClose,c=Mn();return o.a.createElement(a.Fragment,null,n[t].moduleType!==b?null:o.a.createElement(In,{className:c.OpenButton,onClick:function(){window.fillContainerID=t,window.reRenderFillContainer(),r()},onPointerDown:function(e){e.stopPropagation()}},"open"))};var Rn=function(e){var n=e.modules,t=e.modID,r=e.onClose,c=Mn();return o.a.createElement(a.Fragment,null,window.usingElectron&&n[t].moduleType===b?o.a.createElement(In,{className:c.SaveButton,onClick:function(){window.containerSaveService.find().then((function(e){window.openSpaceDBContainerSaveMenu(e,t,r)})),r()}},"save to spaceDB"):null)},An=Object(u.a)({Bounder:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderRadius:"15px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",userSelect:"none",margin:"10px","&:hover":{cursor:"pointer"},padding:"1vmin"},SwitchSVG:{marginLeft:"1.5vmin",flexShrink:0},Text:{fontSize:function(e){return e.fontSize}}}),Fn=t(28),Bn=2*$e.diameter,Pn=$e.diameter+1,Ln=1.5*$e.diameter,zn=$e.diameter-1,_n=$e.diameter/4,Gn=($e.diameter+1)/2;var Un=function(e){var n=e.text,t=e.onSwitch,r=e.initState,c=e.style,u=e.fontSize,l=Object(a.useState)(r),s=Object(i.a)(l,2),d=s[0],m=s[1],f=An({fontSize:u}),p=Object(Fn.b)({cx:"".concat(d?Bn-$e.diameter/2:$e.diameter/2,"vmin"),fill:d?"green":"red",config:{tension:250}});return o.a.createElement("div",{className:f.Bounder,style:c},o.a.createElement("div",{className:f.Text,onClick:function(){t(!d),m(!d)}},n),o.a.createElement("svg",{className:f.SwitchSVG,width:"".concat(Bn,"vmin"),height:"".concat(Pn,"vmin"),onClick:function(){t(!d),m(!d)}},o.a.createElement("rect",{width:"".concat(Ln,"vmin"),height:"".concat(zn,"vmin"),x:"".concat(_n,"vmin"),y:"".concat(1,"vmin"),rx:"10",ry:"10",fill:de}),o.a.createElement(Fn.a.circle,{cx:p.cx,cy:"".concat(Gn,"vmin"),r:"".concat($e.diameter/2,"vmin"),fill:p.fill})))};var Wn=function(e){var n=e.selectedModule,t=Object(se.b)(),a=Object(se.c)((function(e){return e.modules})),r=Mn(),c=n.moduleType===b?0!==n.containerControls.length:0!==Object.keys(n.controlData).length;return o.a.createElement(tn,{showIf:c},o.a.createElement(sn,null,o.a.createElement("div",{className:r.MenuHeader}," mark as container control "),o.a.createElement(rn,{justifyContent:"center",style:{flexWrap:"wrap",maxWidth:"40vmin"}},n.moduleType===b?n.containerControls.map((function(e,r){var c,i=e.modID,u=e.controlID,l=e.actualModID,s=e.name,d=e.markedToContainer,m=a[i].name,f=!!d;return f&&(c=a[n.parentID].containerControls.filter((function(e){return e.controlID===u&&e.actualModID===l}))[0]),o.a.createElement(rn,null,o.a.createElement(Un,{initState:f,text:s||"".concat(m," - ").concat(u),style:{fontSize:Je.small,padding:".2em"},key:i+r,onSwitch:function(e){t(e?h(n.id,u,l):C(n.id,u,l))}}),f?o.a.createElement(In,{fontSize:Je.xsmall,onClick:function(){window.openControlRenameMenu(u,n.parentID,c)}},"edit"):null)})):null,n.moduleType===b?null:Object.keys(n.controlData).map((function(e,r){var c,i=!!n.controlData[e].markedToContainer;return i&&(c=a[n.parentID].containerControls.filter((function(t){return t.controlID===e&&t.actualModID===n.id}))[0]),o.a.createElement(rn,{key:r},o.a.createElement(Un,{initState:i,text:e,style:{fontSize:Je.xsmall,padding:"1vmin"},key:e+r,onSwitch:function(a){t(a?h(n.id,e,n.id):C(n.id,e,n.id))}}),i?o.a.createElement(In,{style:{fontSize:Je.small},onClick:function(){window.openControlRenameMenu(e,n.parentID,c)}},"edit"):null)})))))},Hn={fontSize:Je.small,padding:".1em"};var Kn=function(e){var n=e.modID,t=Object(se.b)(),a=Object(se.c)((function(e){return e.baseContainerID})),r=Object(se.c)((function(e){return e.modules[n]})),c=0!==r.connectionInputs.length,i=0!==r.connectionOutputs.length,u=Mn();return o.a.createElement(tn,{showIf:window.fillContainerID!==a},o.a.createElement(Wn,{selectedModule:r}),o.a.createElement(tn,{showIf:c||i},o.a.createElement("div",{className:u.MenuHeader},"mark as container io"),o.a.createElement(rn,{justifyContent:"center"},o.a.createElement(tn,{showIf:c},o.a.createElement(Un,{style:Hn,fontSize:Je.xsmall,key:r.id+"inputSwitch",text:"input",initState:r.isContainerInput,onSwitch:function(e){t(e?{type:"MARK_CONTAINER_INPUT",id:r.id}:function(e){return{type:"UNMARK_CONTAINER_INPUT",id:e}}(r.id))}})),o.a.createElement(tn,{showIf:i},o.a.createElement(Un,{style:Hn,fontSize:Je.xsmall,key:r.id+"outputSwitch",text:"output",initState:r.isContainerOutput,onSwitch:function(e){t(e?{type:"MARK_CONTAINER_OUTPUT",id:r.id}:function(e){return{type:"UNMARK_CONTAINER_OUTPUT",id:e}}(r.id))}})))))};var Vn=function(e){var n=e.modID,t=e.modules,a=e.onClose,r=Mn();return o.a.createElement(tn,{showIf:t[n].moduleType===b},o.a.createElement(In,{className:r.SaveButton,onClick:function(){window.openFileContainerSaveMenu(n),a()}},"save to file"))};function qn(e,n,t){return{isOpen:e,event:n,modID:t}}var Yn=function(){var e,n=Object(a.useState)(qn(!1)),t=Object(i.a)(n,2),r=t[0],c=r.isOpen,u=r.event,l=r.modID,s=t[1];window.openModuleContextMenu=function(e,n){s(qn(!0,e,n))};var d=function(){s(qn(!1))},m=Mn(),f=Object(se.c)((function(e){return e.modules}));return o.a.createElement(an,{onClose:d,event:u,isOpen:c},o.a.createElement("div",{className:m.Name,title:"rename module",onClick:function(){window.openModuleRenameMenu(l)}},null===(e=f[l])||void 0===e?void 0:e.name),o.a.createElement(Tn,{modules:f,modID:l,onClose:d}),o.a.createElement(kn,{modID:l,modules:f}),o.a.createElement(Rn,{modules:f,modID:l,onClose:d}),o.a.createElement(Vn,{modules:f,modID:l,onClose:d}),o.a.createElement(Kn,{modID:l}),o.a.createElement(Sn,{modID:l,onClose:d}))};var Qn=function(e){var n=e.saveName,t=e.onClose;return o.a.createElement(xn,{onClick:function(){window.containerSaveService.remove(n).then((function(e){console.log(e),window.refreshSpaceDBModules(),t()}))}})};function Jn(e,n,t){return{isOpen:e,event:n,saveName:t}}var Xn=function(){var e=Object(a.useState)(Jn(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.event,u=t.saveName,l=n[1];return window.openSDBModuleContextMenu=function(e,n){l(Jn(!0,e,n))},o.a.createElement(an,{event:c,onClose:function(){return l(Jn(!1))},bounderStyle:{zIndex:s+1},isOpen:r},o.a.createElement(Qn,{saveName:u,onClose:function(){return l(Jn(!1))}}))};var Zn=function(e){var n=e.saveName,t=e.setSaveList,a=e.onClose;return o.a.createElement(xn,{onClick:function(){window.openConfirmDeleteMenu(n,(function(){window.setTimeout((function(){window.projectSaveService.find().then((function(e){t(e)}))}),1e3)})),a()}})};function $n(e,n,t,a){return{isOpen:e,event:n,saveName:t,setSaveList:a}}var et=function(){var e=Object(a.useState)($n(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.event,u=t.saveName,l=t.setSaveList,s=n[1];window.openSDBProjectContextMenu=function(e,n,t){s($n(!0,e,n,t))};var d=function(){s($n(!1))};return o.a.createElement(an,{event:c,onClose:d,isOpen:r},o.a.createElement(Zn,{saveName:u,setSaveList:l,onClose:d}))};var nt=function(){return o.a.createElement(a.Fragment,null,o.a.createElement(Yn,null),o.a.createElement(et,null),o.a.createElement(Xn,null),o.a.createElement(Cn,null))},tt=Object(u.a)({FillBounder:{backgroundColor:ge,display:"flex",flexDirection:"column",margin:"5vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderRadius:"2vmin"},FillHeaderBounder:{display:"flex",justifyContent:"space-between"},FillHeader:{borderColor:"white",borderStyle:"none none none none",padding:"1vmin",marginLeft:"2vmin","&:hover":{cursor:"pointer"}},Fill:{display:"grid",minWidth:Qe.iconGrid,minHeight:Qe.iconGrid,padding:"4vmin",zIndex:1,rowGap:Qe.gutterGrid,columnGap:Qe.gutterGrid},ArcherContainer:{width:"100%",height:"100%",zIndex:0,display:"grid"},Icon:{backgroundColor:Oe,borderRadius:"1.5vmin",borderStyle:"none",borderColor:"white",whiteSpace:"wrap",fontSize:Je.medium,padding:"1vmin",display:"flex",flexFlow:"column nowrap",alignItems:"flex-end",justifyContent:"flex-start",overflow:"hidden",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)","&:hover":{cursor:"pointer",borderStyle:"solid"},zIndex:2},IconControlContainer:{width:Qe.bigIconWidth,maxHeight:Qe.bigIconHeight,justifySelf:"flex-end",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",overflowY:"scroll",overflowX:"hidden","&::-webkit-scrollbar":{width:"0px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},ArcherElement:{zIndex:1,display:"grid",backgroundColor:"transparent",gridTemplateRows:"10px auto 10px",gridTemplateColumns:"10px auto 10px",padding:"1vmin"},IconName:{fontSize:Je.small,"&:hover":{cursor:"pointer"}},IconConnector:{backgroundColor:Ne,width:Xe.size,height:Xe.size,borderRadius:Xe.borderRadius,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderStyle:"solid",borderColor:"transparent","&:hover":{cursor:"pointer",borderColor:"white"},justifySelf:"flex-start",alignSelf:"flex-end",flexShrink:0}}),at=t(45),ot=Object(u.a)({MenuHeader:{fontSize:Je.medium,borderStyle:"none none solid none",margin:"1vmin",width:"90%"},ControlBounder:{display:"flex",flexFlow:"row wrap",alignItems:"center",fontSize:Je.small,justifyContent:"center",margin:"0vmin 1vmin"},ControlMenu:{display:"flex",flexFlow:"row wrap",width:"100%",alignItems:"center",justifyContent:"center"}}),rt=Object(u.a)({ControlTypeSelect:{minWidth:"9vmin",maxWidth:"5em",margin:"1vmin",fontSize:Je.small,backgroundColor:xe,color:Se,textAlign:"center"},ControlInput:{minWidth:"9vmin",maxWidth:"5em",margin:"1vmin",fontSize:Je.small},ControlMenu:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},Pad:{width:"20vmin",height:"15vmin",borderRadius:"2vmin",backgroundColor:"black"},SrcName:{fontSize:Je.xsmall,textAlign:"center",whiteSpace:"normal",justifyContent:"center",width:"100%",overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"}});var ct=function(e){var n=e.actualModID,t=e.controlID,a=e.setFunc,r=e.reRenderIcon,c=e.modName,i=e.label,u=rt();return o.a.createElement("div",{className:u.ControlMenu},o.a.createElement("label",{style:{minWidth:"50%"},htmlFor:n+t},o.a.createElement(In,{fontSize:Je.small},i||(c?"".concat(c," - ").concat(t):t))),o.a.createElement("input",{style:{width:0,height:0,opacity:0},type:"file",id:n+t,onChange:function(e){var t=e.target.files[0];a(URL.createObjectURL(t)),window.audioTags[n].srcName=t.name,window.reRenderAudioTags(),r()}}),o.a.createElement("div",{className:u.SrcName},window.audioTags[n].srcName))};var it=function(e){var n=e.setFunc,t=e.controlID,a=e.actualModID,r=e.modName,c=e.label,i=rt(),u=window.audioModules[a],l=u.audioNode,s=Object(se.b)(),d=Object(se.c)((function(e){return e.modules[a].controlData[t].value}));return o.a.createElement(rn,{style:{justifyContent:"center",margin:"1vmin 0vmin"}},o.a.createElement("label",{htmlFor:"type"},c||(r?"set type - ".concat(r):"set type")),o.a.createElement("select",{className:i.ControlTypeSelect,name:"type",id:"type",onChange:function(e){n(e.target.value),s(D(a,t,e.target.value))},value:d||l.type},u.typeTypes.map((function(e){return o.a.createElement("option",{value:e,key:a+e},e)}))))};function ut(e,n){for(var t=0;t<n.length;t++)if(n[t]===e)return!0;return!1}function lt(e,n,t){return ut(e,t)&&ut(n,t)}function st(e,n){for(var t=[],a=e;a<n;a++)t.push(a);return t}function dt(e,n){return Math.min(n[1],Math.max(n[0],e))}function mt(e,n){return e>=n[0]&&e<=n[1]}function ft(e,n,t){var a=(e-n[0])/(n[1]-n[0]),o=t[1]-t[0];return t[0]+a*o}function pt(e,n){return(e-n[0])/(n[1]-n[0])*(Ze.rotRange[1]-Ze.rotRange[0])+Ze.rotRange[0]}function vt(e){var n=(Math.floor(10*e)/10).toString();return"."===n.slice(n.length-2,n.length-1)?n:n+".0"}var bt=Object(u.a)({KnobContainer:{display:"grid",gridTemplateRows:"auto",gridTemplateColumns:"auto",placeItems:"center",margin:"1vmin"},KnobSVG:{gridRow:"1",gridColumn:"1",width:"".concat(Ze.size+1,"vmin"),height:"".concat(Ze.size+1,"vmin"),zIndex:9},KnobText:{gridRow:"1",gridColumn:"1",fontSize:Je.xxsmall,textAlign:"center",color:Se,zIndex:10,width:"4em",borderStyle:"none",backgroundColor:"transparent","&::-webkit-outer-spin-button":{"-webkit-appearance":"none",margin:0},"&::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0}},InteractionLayer:{gridRow:"1",gridColumn:"1",zIndex:11,width:"".concat(Ze.size,"vmin"),height:"".concat(Ze.size,"vmin")},SettingsButton:{width:"".concat(Ze.size/6,"vmin"),height:"".concat(Ze.size/6,"vmin"),gridRow:"1",gridColumn:"1",placeSelf:"end",zIndex:12}}),wt=t(79),gt=t.n(wt),Ot=!1;var ht=function(e){var n=e.initValue,t=e.range,r=e.onChange,c=e.onEveryChange,i=e.onSettingsClick,u=e.inputVal,l=e.setInputVal,s=bt(),d=Object(a.useRef)(null),m=(t[1]-t[0])*Ze.sensitivity/200,f=dt(n,t),p=Object(a.useRef)(null),v=function(e){f=dt(f-e.movementY*m,t),d.current&&(d.current.style.transform="rotate(".concat(pt(f,t),"deg)")),p.current&&(p.current.value="".concat(vt(f))),c&&c(f)},b=function(){r&&r(f),l(vt(f))};return o.a.createElement("div",{className:s.KnobContainer},o.a.createElement("svg",{className:s.KnobSVG,width:"".concat(Ze.size+1,"vmin"),height:"".concat(Ze.size+1,"vmin"),ref:d,style:{transform:"rotate(".concat(pt(n,t),"deg)")}},o.a.createElement("circle",{cx:"".concat((Ze.size+1)/2,"vmin"),cy:"".concat((Ze.size+1)/2,"vmin"),r:"".concat(Ze.size/2,"vmin"),stroke:Me,strokeWidth:Ze.borderWidth,fill:xe}),o.a.createElement("rect",{width:"".concat(Ze.markerWidth,"vmin"),height:"".concat(Ze.markerHeight,"vmin"),x:"".concat((Ze.size+1)/2-Ze.markerWidth/2,"vmin"),y:".5vmin",fill:ke})),o.a.createElement("input",{className:s.KnobText,ref:p,onChange:function(e){l(e.target.value),c&&c(dt(Number(e.target.value),t))},onBlur:function(e){if(0!==e.target.value.length){var n=dt(Number(e.target.value),t);r&&r(n),l(vt(n))}else p.current&&(p.current.value=u)},onKeyDown:function(e){var n;"Enter"===e.key&&(null===(n=p.current)||void 0===n||n.blur())},type:"number",value:u}),o.a.createElement("div",{className:s.InteractionLayer,title:"".concat(n),onClick:function(e){return e.stopPropagation()},onDragStart:function(e){return e.stopPropagation()},onPointerDown:function(e){e.stopPropagation(),e.preventDefault(),e.shiftKey||Ot?p.current&&(p.current.placeholder=p.current.value,p.current.value="",p.current.focus()):(window.openPointerLayer(e.pointerId,v,b),Ot=!0,window.setTimeout((function(){Ot=!1}),200))}}),i?o.a.createElement("img",{className:s.SettingsButton,title:"edit knob range",src:gt.a,alt:"settings",onClick:i}):null)};var Ct=function(e){var n=e.controlID,t=e.setFunc,r=e.actualModID,c=e.displayModName,u=e.label,l=Object(se.c)((function(e){return{val:e.modules[r].controlData[n].value,currRange:e.modules[r].controlData[n].range}})),s=l.val,d=l.currRange,m=Object(a.useState)(vt(s)),f=Object(i.a)(m,2),p=f[0],v=f[1],b=Object(se.b)();return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement(ht,{initValue:s,range:d,inputVal:p,setInputVal:v,onEveryChange:function(e){t(e.toString())},onChange:function(e){t(e.toString()),b(D(r,n,e))},onSettingsClick:function(){window.openKnobRangeSetMenu(r,n,(function(e){t(dt(s,e).toString()),v(vt(dt(s,e))),b(I(r,n,e))}))}}),o.a.createElement("div",null,u||(c?"".concat(c," - ").concat(n):n)))};var Dt=function(e){var n=e.setFunc,t=e.controlID,a=e.modName,r=e.label;return o.a.createElement(In,{fontSize:Je.small,onClick:function(){n("")}},r||(a?"".concat(a," - ").concat(t):t))};var It=function(e){var n=e.controlID,t=e.setFunc,a=e.actualModID,r=e.modName,c=e.label,i=Object(se.c)((function(e){return e.modules[a].controlData[n].value}));return o.a.createElement(Un,{text:c||(r?"".concat(r," - ").concat(n):n),initState:i,onSwitch:function(e){t(e?"true":"false")}})},jt=t(80),Et=t.n(jt);var yt=function(e){var n=e.modID,t=window.audioModules[n],r=Object(se.c)((function(e){return e.modules[n].controlData["time graph"].range})),c=200-ft(0,r,[0,200]),u=Object(a.useState)(0),l=Object(i.a)(u,2),s=l[0],d=l[1],m=Object(se.b)();return o.a.createElement(sn,{justifyContent:"center",alignItems:"center"},o.a.createElement(Et.a,{style:{width:Qe.bigIconWidth},setup:function(e,n){e.createCanvas(n.clientWidth,200).parent(n),e.textAlign(e.CENTER,e.CENTER),e.fill(100),d(n.clientWidth)},draw:function(e){t.audioNode.getFloatTimeDomainData(t.timeArray);var n=s/t.bufferLength;e.background(0);var a=0,o=200-ft(t.timeArray[0],r,[0,200]);e.stroke(Le),e.strokeWeight(6);for(var i=0;i<t.bufferLength-1;i++){var u=(i+1)*n,l=200-ft(t.timeArray[i+1],r,[0,200]);e.line(a,o,u,l),a=u,o=l}var d=s/20;e.stroke(100),e.strokeWeight(1),e.line(0,c,d,c),e.text("0",1.5*d,c)}}),o.a.createElement(In,{style:{width:"10em"},onClick:function(){window.openAnalyzerRangeSetMenu(r,(function(e){m(I(n,"time graph",e))}))}},"change range"))},Nt=t(24),xt=t(83),St=Object(u.a)({BabylonCanvas:{width:function(e){return e.width},height:function(e){return e.height}}});var Mt=function(e){var n=e.onRender,t=e.onSceneReady,r=e.antialias,c=e.engineOptions,i=e.adaptToDeviceRatio,u=e.sceneOptions,l=e.width,s=e.height,d=Object(xt.a)(e,["onRender","onSceneReady","antialias","engineOptions","adaptToDeviceRatio","sceneOptions","width","height"]),m=Object(a.useRef)(null),f=St({width:l,height:s}).BabylonCanvas;return Object(a.useEffect)((function(){if(m.current){var e=new Nt.d(m.current,r,c,i),a=new Nt.h(e,u);a.isReady()?t&&t(a):a.onReadyObservable.addOnce((function(e){t&&t(e)})),e.runRenderLoop((function(){"function"===typeof n&&n(a),a.render()}));var o=function(){a.getEngine().resize()};return window&&window.addEventListener("resize",o),function(){a.getEngine().dispose(),window&&window.removeEventListener("resize",o)}}}),[i,r,c,n,t,u]),o.a.createElement("canvas",Object.assign({className:f,ref:m},d))},kt=t(63);function Tt(e,n){return Object.fromEntries(Object.entries(e).filter((function(e){return!ut(e[0],n)})))}function Rt(e,n){return Object.fromEntries(Object.entries(e).filter((function(e){return ut(e[0],n)})))}function At(e,n){return e.length===n.length?Object.fromEntries(e.map((function(e,t){return[e,n[t]]}))):{}}var Ft={C0:16.35,"C#0":17.32,Db0:17.32,D0:18.35,"D#0":19.45,Eb0:19.45,E0:20.6,F0:21.83,"F#0":23.12,Gb0:23.12,G0:24.5,"G#0":25.96,Ab0:25.96,A0:27.5,"A#0":29.14,Bb0:29.14,B0:30.87,C1:32.7,"C#1":34.65,Db1:34.65,D1:36.71,"D#1":38.89,Eb1:38.89,E1:41.2,F1:43.65,"F#1":46.25,Gb1:46.25,G1:49,"G#1":51.91,Ab1:51.91,A1:55,"A#1":58.27,Bb1:58.27,B1:61.74,C2:65.41,"C#2":69.3,Db2:69.3,D2:73.42,"D#2":77.78,Eb2:77.78,E2:82.41,F2:87.31,"F#2":92.5,Gb2:92.5,G2:98,"G#2":103.83,Ab2:103.83,A2:110,"A#2":116.54,Bb2:116.54,B2:123.47,C3:130.81,"C#3":138.59,Db3:138.59,D3:146.83,"D#3":155.56,Eb3:155.56,E3:164.81,F3:174.61,"F#3":185,Gb3:185,G3:196,"G#3":207.65,Ab3:207.65,A3:220,"A#3":233.08,Bb3:233.08,B3:246.94,C4:261.63,"C#4":277.18,Db4:277.18,D4:293.66,"D#4":311.13,Eb4:311.13,E4:329.63,F4:349.23,"F#4":369.99,Gb4:369.99,G4:392,"G#4":415.3,Ab4:415.3,A4:440,"A#4":466.16,Bb4:466.16,B4:493.88,C5:523.25,"C#5":554.37,Db5:554.37,D5:587.33,"D#5":622.25,Eb5:622.25,E5:659.26,F5:698.46,"F#5":739.99,Gb5:739.99,G5:783.99,"G#5":830.61,Ab5:830.61,A5:880,"A#5":932.33,Bb5:932.33,B5:987.77,C6:1046.5,"C#6":1108.73,Db6:1108.73,D6:1174.66,"D#6":1244.51,Eb6:1244.51,E6:1318.51,F6:1396.91,"F#6":1479.98,Gb6:1479.98,G6:1567.98,"G#6":1661.22,Ab6:1661.22,A6:1760,"A#6":1864.66,Bb6:1864.66,B6:1975.53,C7:2093,"C#7":2217.46,Db7:2217.46,D7:2349.32,"D#7":2489.02,Eb7:2489.02,E7:2637.02,F7:2793.83,"F#7":2959.96,Gb7:2959.96,G7:3135.96,"G#7":3322.44,Ab7:3322.44,A7:3520,"A#7":3729.31,Bb7:3729.31,B7:3951.07,C8:4186.01,"C#8":4434.92,Db8:4434.92,D8:4698.64,"D#8":4978.03,Eb8:4978.03},Bt=Object.keys(Ft).filter((function(e){return e.length<=2||"#"!==e[1]})),Pt=At(Bt,Bt.map((function(e){return Ft[e]}))),Lt=At(Bt,Bt.map((function(e,n){return n}))),zt=[Math.log(Ft.C1),Math.log(Ft.C5)],_t=[0,2*Math.PI*.95];function Gt(e,n,t,a){var o=Nt.e.CreatePlane(e,{width:t,height:40,sourcePlane:new Nt.f(1,0,0,0)}),r=kt.AdvancedDynamicTexture.CreateForMesh(o),c=new kt.TextBlock("".concat(e,"text"),n);return c.fontSize=a,c.width=t,c.height=50,c.color="black",r.addControl(c),o}var Ut=function(e){var n=new Nt.i("dialMat",e),t=new Nt.i("tickMat",e);t.diffuseColor=new Nt.b(0,.5,0);var a=Nt.e.CreateCylinder("dial",{height:160,diameter:1600,tessellation:Math.pow(2,7)},e);a.material=n,a.cullingStrategy=Nt.a.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION,Object.keys(Pt).filter((function(e,n){return n>=Lt.C1&&n<=Lt.C5})).forEach((function(e){var n=ft(Math.log(Ft[e]),zt,_t),o=new Nt.k("".concat(e,"node")),r=Nt.e.CreateBox("".concat(e,"tick"),{height:80,width:2,depth:10});r.material=t,r.position.x=802,r.parent=o,o.rotation.y=-n,o.parent=a;var c=Gt("".concat(e,"textplane"),e,50,450);c.position.y=60,c.parent=r;var i=Gt("".concat(e,"freqplane"),"".concat(Ft[e]).slice(0,Math.min("".concat(Ft[e]).length,5)),50,400);i.position.y=-60,i.parent=r}))};var Wt=function(e){var n=e.modID,t=-.1,r=0,c=window.audioModules[n];return o.a.createElement(a.Fragment,null,o.a.createElement(Mt,{onSceneReady:function(e){e.clearColor=Nt.c.FromHexString(cn("TUNER")),e.ambientColor=new Nt.b(.5,.5,.5);var n=new Nt.l(1e3,0,0);new Nt.j("tunerCam",n,e).setTarget(new Nt.l(0,0,0));var t=new Nt.l(1110.5,300,0),a=new Nt.g("light",t,e);a.diffuse=new Nt.b(1,0,0),a.specular=new Nt.b(0,.1,0),Ut(e)},onRender:function(e){if(0===r){var n=c.controlSetFuncs.tuner(""),a=Object(i.a)(n,2),o=a[0],u=a[1];t=u>-75?ft(dt(Math.log(o),zt),zt,_t):-.15}var l=e.getMeshByName("dial");l.rotation.y+=.1*(t-l.rotation.y),r=(r+1)%30},style:{borderRadius:".8em",marginTop:"1em"},width:Qe.bigIconWidth,height:"200px"}))};var Ht=function(e){var n=e.setFunc,t=rt();return o.a.createElement("div",{className:t.Pad,onPointerDown:function(e){e.preventDefault(),n("on")},onPointerCancel:function(e){e.preventDefault(),n("off")},onPointerUp:function(e){e.preventDefault(),n("off")}})};var Kt=function(e){var n=e.audioModule,t=e.selectedModule,a=e.reRenderIcon,r=ot();return o.a.createElement("div",{className:r.ControlMenu},Object.keys(t.controlData).map((function(e,c){var i=t.controlData[e].controlType,u=n.controlSetFuncs[e];return o.a.createElement("div",{className:r.ControlBounder,key:t.id+e+c},i===w?o.a.createElement(Ct,{controlID:e,setFunc:u,actualModID:t.id}):"BUTTON"===i&&"open"!==e?o.a.createElement(Dt,{setFunc:u,controlID:e}):"TYPE"===i?o.a.createElement(it,{setFunc:u,controlID:e,actualModID:t.id}):"FILE"===i?o.a.createElement(ct,{controlID:e,setFunc:u,reRenderIcon:a,actualModID:t.id}):"SWITCH"===i?o.a.createElement(It,{controlID:e,setFunc:u,actualModID:t.id}):"GRAPH"===i?o.a.createElement(yt,{modID:t.id}):"PAD"===i?o.a.createElement(Ht,{setFunc:u}):"TUNER_CONTROL"===i?o.a.createElement(Wt,{modID:t.id}):null)})))};var Vt=function(e){var n=e.selectedModule,t=e.reRenderIcon,a=ot(),r=Object(se.c)((function(e){return e.modules}));return o.a.createElement("div",{className:a.ControlMenu},n.containerControls.map((function(e,n){var c=e.modID,i=e.controlID,u=e.actualModID,l=e.name,s=window.audioModules[u],d=r[u].controlData[i].controlType,m=s.controlSetFuncs[i],f=r[c].name;return o.a.createElement("div",{className:a.ControlBounder,key:c+i+n},d===w?o.a.createElement(Ct,{controlID:i,setFunc:m,actualModID:u,displayModName:f,label:l}):"BUTTON"===d?o.a.createElement(Dt,{setFunc:m,controlID:i,modName:f,label:l}):"TYPE"===d?o.a.createElement(it,{setFunc:m,controlID:i,actualModID:u,modName:f,label:l}):"FILE"===d?o.a.createElement(ct,{controlID:i,setFunc:m,reRenderIcon:t,modName:f,actualModID:u,label:l}):"SWITCH"===d?o.a.createElement(It,{controlID:i,setFunc:m,actualModID:u,modName:f,label:l}):"GRAPH"===d?o.a.createElement(yt,{modID:u}):"PAD"===d?o.a.createElement(Ht,{setFunc:m}):"TUNER_CONTROL"===d?o.a.createElement(Wt,{modID:u}):null)})))},qt=Object(u.a)({DropSquare:{width:Qe.icon,height:Qe.icon,padding:".5vmin",borderStyle:"solid",borderRadius:"10px",zIndex:1,"&:hover":{cursor:"pointer"}}});function Yt(e,n,t){var a=function e(n,t){return t[n].moduleType===b?1===t[n].connectionOutputs.length&&e(t[n].connectionOutputs[0],t):1===t[n].connectionOutputs.length&&n}(e,t),o=function e(n,t){return t[n].moduleType===b?1===t[n].connectionInputs.length&&e(t[n].connectionInputs[0],t):1===t[n].connectionInputs.length&&0===window.audioModules[n].connectingParamIDs.length&&n}(n,t);return{onlyOne:"string"===typeof a&&"string"===typeof o,actualFromID:a,actualToID:o}}function Qt(e,n){var t=n[e].childModules,a=[];for(var o in t)n[t[o]].moduleType===b&&(a=[].concat(Object(Q.a)(a),Object(Q.a)(Qt(t[o],n))));return[].concat(Object(Q.a)(t),Object(Q.a)(a))}function Jt(e,n){var t=Object.keys(e),a=[];for(var o in t){var r=e[t[o]],c=r.fromID,i=r.toID,u=r.actualOutputID,l=r.actualInputID;lt(u||c,l||i,n)&&(a=[].concat(Object(Q.a)(a),[t[o]]))}return a}function Xt(e,n){return Rt(e,Jt(e,n))}function Zt(e,n){var t=[n].concat(Object(Q.a)(Qt(n,e.modules)));return{modules:Rt(e.modules,t),connections:Xt(e.connections,t)}}var $t=function(e,n,t){switch(n){case"OSCILLATOR":var a=z(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,a));break;case"GAIN":var o=P(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,o));break;case"OUTPUT":var r=R(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,r));break;case"AUTOFILTER":var c=T(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,c));break;case"KOMPRESSOR":var i=B(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,i));break;case"STEREO_PANNER":var u=A(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,u));break;case"SIGNAL_DELAY":var l=F(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,l));break;case"CONSTANT":var s=S(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,s));break;case"MEDIA_ELEMENT":window.addAudioTag(e),window.reRenderAudioTags();break;case"LINE_IN":_(e);break;case b:var d=G(e);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,d));break;case"DISTORTION":var m=H(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,m));break;case"ANALYZER":var f=K(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,f));break;case"ENVELOPED_TRIGGER":var w=V(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,w));break;case"WHITE_NOISE":var g=Y(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,g));break;case"TUNER":var O=$(t);window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},e,O))}};var ea=function(e,n){Object.keys(e).forEach((function(n){var t=e[n],a=t.moduleType,o=t.controlData;$t(n,a,o)})),n&&Object.keys(n).forEach((function(t){var a=n[t],o=a.fromID,r=a.toID,c=a.param,i=a.outputIndex,u=a.inputIndex,l=a.actualOutputID,s=a.actualInputID,d=e[s||r].moduleType,m=e[l||o].moduleType;"MEDIA_ELEMENT"===d||"MEDIA_ELEMENT"===m||"LINE_IN"===d||"LINE_IN"===m?window.setTimeout((function(){dn(window.audioModules[l||o],window.audioModules[s||r],c,i,u)}),200):dn(window.audioModules[l||o],window.audioModules[s||r],c,i,u)}))};var na=function(e,n){return"".concat(n).concat(e).concat(Math.floor(20480*Math.random()))};function ta(e,n,t,a){var o=Object.keys(e),r=Object.keys(n),c=At(o,o.map((function(e,n){return na(n,t)}))),i=At(r,r.map((function(e,n){return na(n,a)}))),u=At(Object.values(c),o.map((function(n){if(e[n].moduleType===b){var t=e[n];return Object(v.a)(Object(v.a)({},t),{},{id:c[n],inputs:t.inputs.filter((function(e){return ut(e,r)})).map((function(e){return i[e]})),outputs:t.outputs.filter((function(e){return ut(e,r)})).map((function(e){return i[e]})),containerControls:t.containerControls.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{modID:c[e.modID],actualModID:c[e.actualModID]})})),childModules:t.childModules.map((function(e){return c[e]})),parentID:e[n].parentID?c[e[n].parentID]:null,connectionOutputs:e[n].connectionOutputs.map((function(e){return c[e]})),connectionInputs:e[n].connectionInputs.map((function(e){return c[e]}))})}return Object(v.a)(Object(v.a)({},e[n]),{},{id:c[n],inputs:e[n].inputs.filter((function(e){return ut(e,r)})).map((function(e){return i[e]})),outputs:e[n].outputs.filter((function(e){return ut(e,r)})).map((function(e){return i[e]})),parentID:c[e[n].parentID]})}))),l=At(Object.values(i),r.map((function(e){var t=n[e];return Object(v.a)(Object(v.a)({},t),{},{fromID:c[t.fromID],toID:c[t.toID],actualOutputID:t.actualOutputID?c[t.actualOutputID]:void 0,actualInputID:t.actualInputID?c[t.actualInputID]:void 0})})));return{modIDConverter:c,newModules:u,newConnections:l}}function aa(e,n,t,a,o,r,c,i,u){var l=ta(n,t,a,o),s=l.modIDConverter,d=l.newModules,m=l.newConnections;ea(d,m),e(y(s[c],d,m,r,i,u))}var oa=function(e,n,t,a,o){var r=na(0,Object.keys(n.modules).length),c=n.modules[t],i=c.name,u=c.moduleType,l=c.controlData,s=c.parentID,d=c.connectionInputs,m=c.connectionOutputs;$t(r,u,l),e(g(r,i,u,l,s,a,o,d,m))};function ra(e,n,t,a,o,r){var c=e.dataTransfer.getData("id"),i=t.modules[window.fillContainerID].childModules,u=t.modules[c],l=function(e,n,t,a){for(var o=0;o<t.length;o++){var r=a[t[o]];if(r.row===e&&r.col===n)return r.id}return!1}(a,o,i,t.modules);if(u)if(l){var s=e.dataTransfer.getData("fromRow"),d=e.dataTransfer.getData("fromCol");r(!1),n(O(c,a,o)),n(O(l,Number(s),Number(d))),window.setTimeout(window.refreshArcherContainer,1)}else{var m=e.dataTransfer.getData("type");switch(r(!1),m){case ca:n(O(c,a,o));break;case ia:t.modules[c].moduleType===b?function(e,n,t,a,o,r){var c=Zt(n,a);aa(e,c.modules,c.connections,Object.keys(n.modules).length,Object.keys(n.connections).length,t,a,o,r)}(n,t,window.fillContainerID,c,a,o):oa(n,t,c,a,o)}window.setTimeout(window.refreshArcherContainer,1)}else if(!l){var f=e.dataTransfer.getData("type"),p=e.dataTransfer.getData("name");switch(f){case"ADD_MODULE":var v=e.dataTransfer.getData("moduleType");window.addModule(c,p,window.fillContainerID,v,n,a,o);break;case"CONTAINER_RESTORE":var w=Object.keys(t.modules).length,g=Object.keys(t.connections).length;window.containerSaveService.get(p).then((function(e){var t=e.containerID,r=e.modules,c=e.connections;aa(n,r,c,w,g,window.fillContainerID,t,a,o)}))}r(!1)}}var ca="MOVE",ia="COPY";var ua=function(e){var n=e.row,t=e.col,r=qt(),c=Object(se.b)(),u=Object(se.c)((function(e){return e})),l=Object(a.useState)(!1),s=Object(i.a)(l,2),d=s[0],m=s[1],f={gridColumn:"".concat(t+1," / span 1"),gridRow:"".concat(n+1," / span 1"),borderColor:d?Ie:"transparent"};return o.a.createElement("div",{className:r.DropSquare,style:f,onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.dataTransfer.types.length>=3&&m(!0)},onDragLeave:function(e){m(!1)},onDrop:function(e){ra(e,c,u,n,t,m)},onContextMenu:function(e){e.preventDefault(),window.openAddModuleMenu(n,t)},onPointerEnter:function(e){e.preventDefault(),m(!0)},onPointerLeave:function(e){e.preventDefault(),m(!1)}})};var la=function(e){var n=e.mod,t=e.gridCol,r=e.gridRow,c=tt(),u=Object(a.useState)(!1),l=Object(i.a)(u,2),s=l[0],d=l[1],m=Object(a.useState)(!1),f=Object(i.a)(m,2),p=f[0],v=f[1],w=function(){v(!p)},g={gridColumn:"".concat(t," / span 1"),gridRow:"".concat(r," / span 1"),width:s?Qe.bigIconWidth:Qe.icon,height:s?Qe.bigIconHeight:Qe.icon},h=Object.assign({},g,{borderStyle:s?"solid":"none",backgroundColor:cn(n.moduleType)}),C={fontSize:Je.small},D=Object(se.c)((function(e){return e})),I=D.modules,j=D.connections,E=Object(se.b)();return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:c.Icon,style:h,onPointerDown:function(e){return e.stopPropagation()},onDragOver:function(e){e.preventDefault()},onDrop:function(e){!function(e,n,t,a,o){e.stopPropagation();var r=e.dataTransfer.getData("id"),c=e.dataTransfer.getData("type");if(r){if(n[r]&&c===ca){var i=e.dataTransfer.getData("fromRow"),u=e.dataTransfer.getData("fromCol");o(O(r,a.row,a.col)),o(O(a.id,Number(i),Number(u))),window.setTimeout(window.refreshArcherContainer,100)}}else if(0===a.connectionInputs.length&&0===window.audioModules[a.id].connectingParamIDs.length)alert("mod cannot accept input");else{var l=e.dataTransfer.getData("fromID");if(l){var s=Yt(l,a.id,n),d=s.onlyOne,m=s.actualFromID,f=s.actualToID;d?pn(l,m,a.id,f,n,t,o,0,0):(e.persist(),window.openConnectionMenu(e,l,a.id))}}}(e,I,j,n,E)},draggable:!s,onDragStart:function(e){!function(e,n){e.shiftKey?e.dataTransfer.setData("type",ia):e.dataTransfer.setData("type",ca),e.dataTransfer.setData("id",n.id),e.dataTransfer.setData("fromRow","".concat(n.row)),e.dataTransfer.setData("fromCol","".concat(n.col))}(e,n)},onClick:function(e){e.stopPropagation(),d(!s),window.setTimeout(window.refreshArcherContainer,0)},onContextMenu:function(e){e.preventDefault(),e.persist(),window.openModuleContextMenu(e,n.id)}},0===n.connectionOutputs.length?null:o.a.createElement("div",{className:c.IconConnector,draggable:!0,onDragStart:function(e){e.stopPropagation(),e.dataTransfer.setData("fromID",n.id)}}),o.a.createElement("div",{className:c.IconName,style:C,onClick:function(e){s&&(e.stopPropagation(),window.openModuleRenameMenu(n.id))}},n.name),s?o.a.createElement("div",{className:c.IconControlContainer,onClick:function(e){return e.stopPropagation()}},n.moduleType===b?o.a.createElement(Vt,{selectedModule:n,reRenderIcon:w}):null,n.moduleType!==b?o.a.createElement(Kt,{audioModule:window.audioModules[n.id],selectedModule:n,reRenderIcon:w}):null):null),o.a.createElement("div",{className:c.ArcherElement,style:g},o.a.createElement("div",{style:{gridColumn:"".concat(1," / span 1"),gridRow:"".concat(1," / span 1")}},o.a.createElement(at.ArcherElement,{id:n.id+" input"},o.a.createElement("div",{style:{width:"10px",height:"10px"}}))),o.a.createElement("div",{style:{gridColumn:"".concat(1," / span 1"),gridRow:"".concat(3," / span 1")}},o.a.createElement(at.ArcherElement,{id:n.id+" controls"},o.a.createElement("div",{style:{width:"10px",height:"10px"}}))),o.a.createElement("div",{style:{gridColumn:"".concat(3," / span 1"),gridRow:"".concat(1," / span 1")}},o.a.createElement(at.ArcherElement,{id:n.id+" output",relations:n.outputs.filter((function(e){var n=j[e];return lt(n.fromID,n.toID,I[window.fillContainerID].childModules)})).map((function(e){var n=j[e],t=n.toID,a=n.param;return{targetId:""===a?t+" input":t+" controls",targetAnchor:"left",sourceAnchor:"right",style:{strokeColor:""===a?"red":"blue"}}}))},o.a.createElement("div",{style:{width:"10px",height:"10px"}})))))};var sa=function(){var e=tt(),n=Object(a.useState)(!1),t=Object(i.a)(n,2),r=t[0],c=t[1];window.reRenderFillContainer=function(){c(!r)};var u,l=Object(se.c)((function(e){return{modules:e.modules,baseContainerID:e.baseContainerID}})),s=l.modules,d=l.baseContainerID,m=s[window.fillContainerID],f=function(e,n){var t=0,a=0;return e.forEach((function(e){var o=n[e];o.row>t&&(t=o.row),o.col>a&&(a=o.col)})),{maxRow:t,maxCol:a}}(m.childModules,s),p=f.maxRow,v=f.maxCol,b=0===m.childModules.length;u=b?{gridTemplateRows:"repeat(".concat(1,", ","auto",")"),gridTemplateColumns:"repeat(".concat(1,", ","auto",")")}:{gridTemplateRows:"repeat(".concat(p+2,", ","auto",")"),gridTemplateColumns:"repeat(".concat(v+2,", ","auto",")")};var w=Object(a.useRef)(null);return window.refreshArcherContainer=function(){var e;null===(e=w.current)||void 0===e||e.refreshScreen()},o.a.createElement("div",{className:e.FillBounder},o.a.createElement("div",{className:e.FillHeaderBounder},o.a.createElement("div",{className:e.FillHeader,style:{width:"".concat(m.name.length/2,"em")},onClick:function(e){e.stopPropagation(),window.openModuleRenameMenu(window.fillContainerID)},onPointerDown:function(e){return e.stopPropagation()}},m.name),m.id===d?null:o.a.createElement(In,{style:{height:".7em"},onPointerDown:function(){window.fillContainerID=m.parentID,window.reRenderFillContainer()}},o.a.createElement("div",null,"back"))),o.a.createElement(at.ArcherContainer,{ref:w,svgContainerStyle:{zIndex:-1},strokeWidth:8,arrowLength:0},o.a.createElement("div",{className:e.Fill,style:u},b?o.a.createElement(ua,{row:0,col:0}):st(0,p+2).map((function(e){return st(0,v+2).map((function(n){return o.a.createElement(ua,{key:"".concat(e," ").concat(n),row:e,col:n})}))})).flat(),m.childModules.map((function(e){var n=s[e];return o.a.createElement(la,{key:n.id,mod:n,gridRow:n.row+1,gridCol:n.col+1})})))))},da=Object(u.a)({DrawerBounder:{width:"0px",height:"100vh",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",color:"white",position:"absolute",top:"0px",right:"0px",userSelect:"none",zIndex:10},Drawer:{backgroundColor:me,height:"100vh",width:"".concat(Ye.width,"px"),display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-start",position:"absolute",top:"0px",right:"0px"},DrawerHeader:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"inherit",overflowX:"scroll",overflowY:"hidden","&::-webkit-scrollbar":{height:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},DrawerHeaderItem:{fontSize:Je.medium,padding:"1vmin 1.5vmin",color:he,textDecoration:"none",whiteSpace:"nowrap","&:hover":{cursor:"pointer"}},ItemRouter:{width:"".concat(Ye.width,"px"),height:"calc(100% - 60px)",display:"flex",flexFlow:"column wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start","&::-webkit-scrollbar":{width:"0px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},Toggle:{backgroundColor:fe,width:Ye.toggleWidth,zIndex:10,height:"100%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"},position:"absolute",top:"0px",right:"".concat(Ye.width,"px")},ToggleLine:{backgroundColor:pe,borderRadius:"4px",width:"0.75vmin",height:"80px"},SDBSaveList:{display:"flex",flexDirection:"column",overflow:"scroll",height:"60%","&::-webkit-scrollbar":{width:"0px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}}});var ma=function(e){var n=e.className,t=e.text,a=e.onClick,r={color:e.selectedRoute===t?Ce:he};return o.a.createElement("div",{className:n,onClick:a,style:r},t)};var fa=function(e,n){var t=n.modules,a=n.connections;Object.keys(e).forEach((function(n){var t=e[n],a=t.fromID,o=t.toID,r=t.param,c=t.outputIndex,i=t.actualOutputID,u=t.actualInputID;window.audioModules[i||a]&&window.audioModules[u||o]&&mn(window.audioModules[i||a],window.audioModules[u||o],r,c)})),window.numberRestores++,window.audioModules={},window.audioTags={},Object.keys(t).forEach((function(e){var n=t[e],a=n.moduleType,o=n.controlData;$t(e,a,o)})),a&&Object.keys(a).forEach((function(e){var n=a[e],o=n.fromID,r=n.toID,c=n.param,i=n.outputIndex,u=n.inputIndex,l=n.actualOutputID,s=n.actualInputID,d=t[s||r].moduleType,m=t[l||o].moduleType;"MEDIA_ELEMENT"===d||"MEDIA_ELEMENT"===m||"LINE_IN"===d||"LINE_IN"===m?function e(n,t,a,o,r,c,i,u){n>10?alert("restore failed"):window.setTimeout((function(){window.audioModules[i||t]&&window.audioModules[u||a]?dn(window.audioModules[i||t],window.audioModules[u||a],o,r,c):e(n+1,t,a,o,r,c,i,u)}),500)}(0,o,r,c,i,u,l,s):dn(window.audioModules[l||o],window.audioModules[s||r],c,i,u)}))},pa={backgroundColor:"transparent"};var va=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],c=Object(se.b)(),u=Object(se.c)((function(e){return e.connections}));Object(a.useEffect)((function(){window.projectSaveService.find().then((function(e){r(e)}))}),[]);var l=da();return o.a.createElement("div",{style:{}},o.a.createElement(In,{style:{backgroundColor:We},onClick:function(){window.openSpaceDBProjectSaveMenu(t,(function(){window.setTimeout((function(){window.projectSaveService.find().then((function(e){r(e)}))}),1e3)}))}},"save project"),o.a.createElement("div",{className:l.SDBSaveList},t.map((function(e,n){return o.a.createElement(In,{style:pa,key:n,onClick:function(){window.projectSaveService.get(e).then((function(e){fa(u,e),c(N(e))}))},onContextMenu:function(n){n.preventDefault(),n.persist(),window.openSDBProjectContextMenu(n,e,r)}},e)}))))};var ba=function(){var e=Object(se.c)((function(e){return Object.keys(e.modules).length}));return o.a.createElement(a.Fragment,null,e<2?null:o.a.createElement(In,{onClick:function(){window.openConfirmBlankProjectMenu()}},"blank project"))},wa=t(18),ga=t.n(wa),Oa=t(21),ha=t(81);function Ca(e,n){return Da.apply(this,arguments)}function Da(){return(Da=Object(Oa.a)(ga.a.mark((function e(n,t){var a;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createWritable();case 2:return a=e.sent,e.next=5,a.write(JSON.stringify(t));case 5:return e.next=7,a.close();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ia(e){return ja.apply(this,arguments)}function ja(){return(ja=Object(Oa.a)(ga.a.mark((function e(n){var t,a,o,r,c;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showOpenFilePicker();case 2:if(t=e.sent,a=Object(i.a)(t,1),!(o=a[0])){e.next=16;break}return n&&n(o),e.next=9,o.getFile();case 9:return r=e.sent,e.next=12,r.text();case 12:return c=e.sent,e.abrupt("return",JSON.parse(c));case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e,n){return ya.apply(this,arguments)}function ya(){return(ya=Object(Oa.a)(ga.a.mark((function e(n,t){return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showSaveFilePicker({types:[{description:"space machine project",accept:{"example/*":[".sm"]}}]});case 2:return window.saveFileHandle=e.sent,e.next=5,Ca(window.saveFileHandle,n);case 5:t&&t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Na(e){var n=e.name;return n.slice(0,n.length-3)}function xa(e){return Sa.apply(this,arguments)}function Sa(){return(Sa=Object(Oa.a)(ga.a.mark((function e(n){var t,a,o,r,c,i,u,l;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=!0,o=!1,e.prev=3,c=Object(ha.a)(n.values());case 5:return e.next=7,c.next();case 7:return i=e.sent,a=i.done,e.next=11,i.value;case 11:if(u=e.sent,a){e.next=18;break}l=u,t.push(l.name);case 15:a=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),o=!0,r=e.t0;case 24:if(e.prev=24,e.prev=25,a||null==c.return){e.next=29;break}return e.next=29,c.return();case 29:if(e.prev=29,!o){e.next=32;break}throw r;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",t);case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function Ma(e){return ka.apply(this,arguments)}function ka(){return(ka=Object(Oa.a)(ga.a.mark((function e(n){var t;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(n);case 2:return t=e.sent,e.abrupt("return",t.filter((function(e){return e.length>4&&".smm"===e.slice(e.length-4)})).map((function(e){return e.slice(0,e.length-4)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e,n,t){return Ra.apply(this,arguments)}function Ra(){return(Ra=Object(Oa.a)(ga.a.mark((function e(n,t,a){var o;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getFileHandle("".concat(t,".smm"),{create:!0});case 2:return o=e.sent,e.next=5,Ca(o,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(e,n){return Fa.apply(this,arguments)}function Fa(){return(Fa=Object(Oa.a)(ga.a.mark((function e(n,t){var a,o,r;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getFileHandle("".concat(t,".smm"));case 2:return a=e.sent,e.next=5,a.getFile();case 5:return o=e.sent,e.next=8,o.text();case 8:return r=e.sent,e.abrupt("return",JSON.parse(r));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ba=function(e){var n=e.reRender,t=e.state,a=Object(se.b)();return o.a.createElement(In,{fontSize:Je.medium,onClick:Object(Oa.a)(ga.a.mark((function e(){var o;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ia((function(e){window.saveFileHandle=e}));case 2:(o=e.sent)?(fa(t.connections,o),a(N(o)),n()):window.flashNotification("rgba(1, 1, 1, .4)","no file selected");case 4:case"end":return e.stop()}}),e)})))},"open")};var Pa=function(e){var n=e.state,t=e.reRender;return o.a.createElement(In,{fontSize:Je.medium,onClick:Object(Oa.a)(ga.a.mark((function e(){return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ea(n,(function(){t(),window.flashNotification(qe,"".concat(Na(window.saveFileHandle)," saved"))}));case 1:case"end":return e.stop()}}),e)})))},"save as")};var La=function(e){var n=e.state;return o.a.createElement(a.Fragment,null,window.saveFileHandle?o.a.createElement(In,{fontSize:Je.medium,onClick:Object(Oa.a)(ga.a.mark((function e(){return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(window.saveFileHandle,n);case 2:window.flashNotification(qe,"".concat(Na(window.saveFileHandle)," saved"));case 3:case"end":return e.stop()}}),e)})))},"save ".concat(Na(window.saveFileHandle))):o.a.createElement(In,{fontSize:Je.medium,notClickable:!0,style:{backgroundColor:"transparent",color:De}}," no file open "))};var za=function(){var e=Object(se.c)((function(e){return e})),n=Object(a.useState)({}),t=Object(i.a)(n,2)[1];return window.reRenderFileMenu=function(){t({})},o.a.createElement(rn,{alignItems:"center",flexWrap:"wrap",style:{width:"100%"}},o.a.createElement(Ba,{state:e,reRender:window.reRenderFileMenu}),o.a.createElement(Pa,{state:e,reRender:window.reRenderFileMenu}),o.a.createElement(La,{state:e}),o.a.createElement(ba,null))},_a="".concat(Ye.width),Ga=function(e){return"".concat(e,"px")};var Ua=function(){var e=da(),n=Object(a.useState)(!0),t=Object(i.a)(n,2),r=t[0],c=t[1],u=Object(a.useState)(_a),l=Object(i.a)(u,2),s=l[0],d=l[1],m=Object(Fn.b)({transform:r?"translate(0px, 0px)":"translate(".concat(s,"px, 0px)"),config:{tension:220,clamp:!0}}),f=Object(a.useState)(window.usingElectron?"spaceDB projects":"file"),p=Object(i.a)(f,2),v=p[0],b=p[1],w=Object(a.useRef)(null),g=Object(a.useRef)(null),O=Object(a.useRef)(null),h=Object(a.useRef)(null),C=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),D=!1,I=Object(a.useState)({}),j=Object(i.a)(I,2)[1];return Object(a.useEffect)((function(){window.addEventListener("resize",(function(){window.setTimeout((function(){j({})}),500)}))}),[]),o.a.createElement(Fn.a.div,{className:e.DrawerBounder,style:m,onPointerDown:function(e){return e.stopPropagation()}},o.a.createElement("div",{className:e.Toggle,ref:g,onPointerDown:function(e){var n;r&&e.shiftKey?(D=!0,null===(n=g.current)||void 0===n||n.setPointerCapture(e.pointerId)):c(!r)},onPointerMove:function(e){D&&(_a="".concat(dt(C-e.clientX,[150,700])),w.current&&(w.current.style.width=Ga(_a)),O.current&&(O.current.style.width=Ga(_a)),h.current&&(h.current.style.width=Ga(_a)),g.current&&(g.current.style.right=Ga(_a)))},onPointerUp:function(e){var n;D&&(D=!1,d(_a),null===(n=g.current)||void 0===n||n.releasePointerCapture(e.pointerId))}},o.a.createElement("div",{className:e.ToggleLine,onClick:function(){c(!r)}})),o.a.createElement("div",{className:e.Drawer,ref:w},o.a.createElement("div",{className:e.DrawerHeader,ref:O,onWheel:function(e){O&&O.current&&(O.current.scrollLeft+=e.deltaY)}},window.usingElectron?o.a.createElement(ma,{className:e.DrawerHeaderItem,text:"spaceDB projects",onClick:function(){b("spaceDB projects")},selectedRoute:v}):null,o.a.createElement(ma,{className:e.DrawerHeaderItem,text:"file",onClick:function(){b("file")},selectedRoute:v})),o.a.createElement("div",{className:e.ItemRouter,ref:h},"spaceDB projects"===v?o.a.createElement(va,null):"file"===v?o.a.createElement(za,null):null)))};var Wa=function(e){var n=e.id,t=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(!window.audioModules[n]){var e=U(t);e&&(window.audioModules=Object(v.a)(Object(v.a)({},window.audioModules),{},Object(p.a)({},n,e)))}})),o.a.createElement("audio",{ref:t,autoPlay:!0})};window.addAudioTag=function(e){window.audioTags[e]={id:e,srcName:""}},window.audioTags={},window.numberRestores=0;var Ha=function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],r=n[1];window.reRenderAudioTags=function(){r(!t)};var c=Object.keys(window.audioTags);return o.a.createElement(a.Fragment,null,c.map((function(e){return o.a.createElement(Wa,{key:e+window.numberRestores,id:e})})))},Ka=Object(u.a)({CMInputBounder:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},CenterMenuInput:{backgroundColor:de,color:"white",height:"2vmin",padding:"1vmin",margin:"1.5vmin .75vmin 1.5vmin 1.5vmin",borderStyle:"none",borderRadius:"1vmin",fontSize:Je.small,width:"15vmin","&:hover":{cursor:"text"}}}),Va=Object(u.a)({CenterMenuBounder:{backgroundColor:be,backdropFilter:"blur(5px)",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:s},CenterMenu:{backgroundColor:ve,position:"fixed",top:"50vh",left:"50vw",transform:"translate(-50%, calc(-50% - 50px))",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"1.2vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",minWidth:"15vw",padding:"1vmin 2vmin 2vmin 2vmin",border:".1em solid ".concat(we)},Header:{padding:"1vmin 2vmin",margin:"0vmin 0vmin 2vmin 0vmin",borderColor:"white",borderStyle:"none none solid none",fontSize:Je.large}});var qa=function(e){var n=e.isClosed,t=e.className,r=e.style,c=e.headerClassName,i=e.headerStyle,u=e.children,l=e.header,s=e.onClose,d=e.bounderStyle,m=Va();return o.a.createElement(a.Fragment,null,n?null:o.a.createElement(Fn.a.div,{className:m.CenterMenuBounder,onPointerDown:function(e){e.stopPropagation(),s()},style:d},o.a.createElement("div",{className:t?"".concat(m.CenterMenu," ").concat(t):m.CenterMenu,onPointerDown:function(e){e.stopPropagation()},style:r},l?o.a.createElement("div",{className:c?"".concat(m.Header," ").concat(c):m.Header,style:i},l):null,u)))};function Ya(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{isOpen:e,controlID:n,onChangeSubmit:t}}var Qa=function(){var e=Object(a.useState)(Ya(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.controlID,u=t.onChangeSubmit,l=n[1],s=Object(se.c)((function(e){return e.modules})),d=Object(a.useState)(0),m=Object(i.a)(d,2),f=m[0],p=m[1],v=Object(a.useState)(0),b=Object(i.a)(v,2),w=b[0],g=b[1],O=Object(a.useState)(void 0),h=Object(i.a)(O,2),C=h[0],D=h[1];window.openKnobRangeSetMenu=function(e,n,t){var a=s[e].controlData[n],o=a.range,r=a.maxRange;l(Ya(!0,n,t)),p(o[0]),g(o[1]),D(r)};var I=function(){l(Ya(!1))},j=Ka();return o.a.createElement(qa,{isClosed:!r,header:"set ".concat(c," range"),onClose:I},o.a.createElement("div",{style:{fontSize:Je.small}},C?"max range from ".concat(C[0]," to ").concat(C[1]):null),o.a.createElement("div",{className:j.CMInputBounder,onKeyDown:function(e){"Escape"===e.key?I():"Enter"===e.key&&(u([f,w]),I())}},o.a.createElement("input",{className:j.CenterMenuInput,onChange:function(e){p(Number(e.target.value))},value:f,type:"number"}),o.a.createElement("input",{className:j.CenterMenuInput,onChange:function(e){g(Number(e.target.value))},value:w,type:"number"})),o.a.createElement(In,{style:{fontSize:Je.small,backgroundColor:ze},onClick:function(){C?mt(f,C)&&mt(w,C)?w>f?(u([f,w]),I()):alert("min must be less than max"):alert("a value is not within maximum range bounds"):w>f?(u([f,w]),I()):alert("min must be less than max")}},"confirm"))},Ja=Object(u.a)({CenterMenuInput:{backgroundColor:de,color:"white",height:"1em",padding:"1vmin",margin:"1.5vmin .75vmin 1.5vmin 1.5vmin",borderStyle:"none",borderRadius:"1vmin",fontSize:Je.medium,textAlign:"center","&:hover":{cursor:"text"}}});function Xa(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{isOpen:e,saveList:n,preOnClose:t}}var Za=function(){var e=Object(a.useState)(Xa(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.saveList,u=t.preOnClose,l=n[1],s=Object(se.c)((function(e){return e})),d=s.baseContainerID,m=s.modules,f=Object(a.useState)(""),p=Object(i.a)(f,2),v=p[0],b=p[1],w=Object(a.useState)({isOpen:!1,message:""}),g=Object(i.a)(w,2),O=g[0],h=g[1];window.openSpaceDBProjectSaveMenu=function(e,n){b(m[d].name),h({isOpen:!1,message:""}),l(Xa(!0,e,n))};var C=function(){u(),l(Xa(!1))},D=Object(a.useRef)(null),I=Ja();return o.a.createElement(qa,{header:"save project",isClosed:!r,onClose:C},o.a.createElement(rn,{style:{alignItems:"center"}},o.a.createElement("input",{className:I.CenterMenuInput,value:v,placeholder:m[d].name,onChange:function(e){b(e.target.value)},onKeyDown:function(e){switch(e.key){case"Enter":ut(v,c)?h({isOpen:!0,message:"would you like to overwrite this save?"}):(window.projectSaveService.create({saveName:v,state:s}).then((function(e){e&&window.flashNotification("green","project saved")})),C());break;case"Escape":C()}},ref:D,autoFocus:!0}),o.a.createElement(In,{onPointerDown:function(e){return e.preventDefault()},onClick:function(e){e.preventDefault(),ut(v,c)?h({isOpen:!0,message:"save already exists. do you want to replace it?"}):(window.projectSaveService.create({saveName:v,state:s}).then((function(e){e&&window.flashNotification("green","project saved")})),C())}},"save to spaceDB")),O.isOpen?o.a.createElement(sn,null,o.a.createElement("div",{style:{fontSize:Je.small}},O.message),o.a.createElement(rn,{style:{justifyContent:"center"}},o.a.createElement(In,{style:{backgroundColor:_e,marginRight:"3vmin"},onClick:function(){var e;null===(e=D.current)||void 0===e||e.focus(),h({isOpen:!1,message:""})}},"no"),o.a.createElement(In,{style:{backgroundColor:ze},onClick:function(){window.projectSaveService.update(v,s).then((function(e){e&&window.flashNotification("green","project updated")})),C()}},"yes"))):null)};function $a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{isOpen:e,saveName:n,preOnClose:t}}var eo=function(){var e=Object(a.useState)($a(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.saveName,u=t.preOnClose,l=n[1];window.openConfirmDeleteMenu=function(e,n){l($a(!0,e,n))};var s=function(){u(),l($a(!1))};return o.a.createElement(qa,{header:"are you sure you want to delete ".concat(c,"?"),isClosed:!r,onClose:s},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},o.a.createElement(In,{style:{backgroundColor:_e,marginRight:"3vmin"},onClick:function(){s()}},"no"),o.a.createElement(In,{style:{backgroundColor:ze},onClick:function(){window.projectSaveService.remove(c),s()}},"yes")))};function no(e,n,t,a,o,r){if(ut(t,a))e({isOpen:!0,message:"module with this name already exists. would you like to update it?"});else{var c=Zt(o,n),i=c.modules,u=c.connections;window.containerSaveService.create({saveName:t,containerID:n,modules:i,connections:u}).then((function(e){e&&(window.flashNotification("green","module saved to spaceDB"),window.refreshSpaceDBModules())})),r()}}function to(e,n,t){return ao.apply(this,arguments)}function ao(){return(ao=Object(Oa.a)(ga.a.mark((function e(n,t,a){var o,r,c,i;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Zt(a,t),r=o.modules,c=o.connections,i={containerID:t,modules:r,connections:c},e.next=4,Ta(window.moduleDirectoryHandle,n,i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oo="",ro="";var co=function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),u=Object(i.a)(c,2),l=u[0],s=u[1],d=Object(a.useState)(!1),m=Object(i.a)(d,2),f=m[0],p=m[1],v=Object(se.c)((function(e){return e}));window.openFileContainerSaveMenu=function(e){ro=e,oo=v.modules[e].name,s(oo),p(!1),r(!0)};var b=function(){r(!1)};function w(){return g.apply(this,arguments)}function g(){return(g=Object(Oa.a)(ga.a.mark((function e(){return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ut(l,window.fileModuleSaveNames)){e.next=4;break}p(!0),e.next=8;break;case 4:return e.next=6,to(l,ro,v);case 6:window.flashNotification(qe,"".concat(l," saved to file")),b();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=Ja(),h=Object(a.useRef)(null);return o.a.createElement(qa,{header:"",isClosed:!t,onClose:b},o.a.createElement("input",{className:O.CenterMenuInput,onChange:function(e){s(e.target.value)},value:l,placeholder:oo,onKeyDown:function(e){switch(e.key){case"Enter":w();break;case"Esc":b()}},ref:h,autoFocus:!0}),o.a.createElement(In,{onClick:w},"save"),o.a.createElement(tn,{showIf:f},o.a.createElement(sn,null,o.a.createElement("div",null,"module with this name already exists. would you like to update it?"),o.a.createElement(rn,null,o.a.createElement(In,{onClick:function(){h.current&&(h.current.value="",h.current.focus()),p(!1)}},"no"),o.a.createElement(In,{onClick:function(){to(l,ro,v),b()}},"yes")))))};function io(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return{isOpen:e,id:n,saveList:t,preOnClose:a,initName:o}}var uo=function(){var e=Object(a.useState)(io(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.id,u=t.saveList,l=t.preOnClose,s=t.initName,d=n[1],m=Object(se.c)((function(e){return e})),f=Object(a.useState)(""),p=Object(i.a)(f,2),v=p[0],b=p[1];window.openSpaceDBContainerSaveMenu=function(e,n,t){d(io(!0,n,e,t,m.modules[n].name)),b(m.modules[n].name)};var w=function(){l(),d(io(!1))},g=Object(a.useState)({isOpen:!1,message:""}),O=Object(i.a)(g,2),h=O[0],C=O[1],D=Object(a.useRef)(null),I=Ja();return o.a.createElement(qa,{header:"save container module",isClosed:!r,onClose:w},o.a.createElement("input",{className:I.CenterMenuInput,value:v,placeholder:s,ref:D,onChange:function(e){b(e.target.value)},onKeyDown:function(e){switch(e.key){case"Enter":no(C,c,v,u,m,w);break;case"Escape":w()}},autoFocus:!0}),o.a.createElement(In,{onClick:function(){no(C,c,v,u,m,w)}},"confirm"),h.isOpen?o.a.createElement(a.Fragment,null,o.a.createElement("div",{style:{fontSize:Je.small}},h.message),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(In,{style:{backgroundColor:_e},onClick:function(){D.current&&(D.current.value="",D.current.focus()),C({isOpen:!1,message:""})}},"no"),o.a.createElement(In,{style:{backgroundColor:ze},onClick:function(){var e=Zt(m,c),n=e.modules,t=e.connections;window.containerSaveService.update(v,{saveName:v,containerID:c,modules:n,connections:t}).then((function(e){e&&(window.flashNotification("green","module updated"),window.refreshSpaceDBModules())})),w()}},"yes"))):null)};function lo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return{isOpen:e,onChangeSubmit:n}}var so=function(){var e=Object(a.useState)(lo(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.onChangeSubmit,u=n[1],l=Object(a.useState)(0),s=Object(i.a)(l,2),d=s[0],m=s[1],f=Object(a.useState)(0),p=Object(i.a)(f,2),v=p[0],b=p[1];window.openAnalyzerRangeSetMenu=function(e,n){m(e[0]),b(e[1]),u(lo(!0,n))};var w=function(){u(lo(!1))},g=Ka();return o.a.createElement(qa,{isClosed:!r,header:"set analyzer range",onClose:w},o.a.createElement("div",{className:g.CMInputBounder,onKeyDown:function(e){"Escape"===e.key?w():"Enter"===e.key&&(c([d,v]),w())}},o.a.createElement("input",{className:g.CenterMenuInput,onChange:function(e){m(Number(e.target.value))},value:d,type:"number"}),o.a.createElement("input",{className:g.CenterMenuInput,onChange:function(e){b(Number(e.target.value))},value:v,type:"number"})),o.a.createElement(In,{style:{fontSize:Je.small,backgroundColor:ze},onClick:function(){c([d,v]),w()}},"confirm"))},mo=Object(u.a)({CMInputBounder:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},CenterMenuInput:{backgroundColor:de,color:"white",height:"2vmin",padding:"1vmin",margin:"1.5vmin .75vmin 1.5vmin 1.5vmin",borderStyle:"none",borderRadius:"1vmin",fontSize:Je.small,width:"23vmin","&:hover":{cursor:"text"}},InputSubmit:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:de,height:"2vmin",padding:"1vmin",margin:"1.5vmin 1.5vmin 1.5vmin 0.75vmin",borderRadius:"1vmin","&:hover":{cursor:"pointer"},fontSize:Je.small},Error:{backgroundColor:ye,width:"90%",color:"white",fontSize:Je.small,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"1vmin",padding:"1vmin 0vmin",marginBottom:"1vmin"}});var fo=function(e){var n=e.isOpen,t=e.header,r=e.onSubmit,c=e.placeholder,u=e.onClose,l=mo(),s=Object(a.useState)(""),d=Object(i.a)(s,2),m=d[0],f=d[1],p=Object(a.useState)(!1),v=Object(i.a)(p,2),b=v[0],w=v[1];function g(){m.length>0?(r(m),u(),f("")):w(!0)}return o.a.createElement(qa,{isClosed:!n,header:t,onClose:function(){u(),f("")}},o.a.createElement("div",{className:l.CMInputBounder},o.a.createElement("input",{className:l.CenterMenuInput,placeholder:c,value:m,onChange:function(e){f(e.target.value)},onKeyDown:function(e){switch(e.key){case"Enter":g();break;case"Escape":u()}},autoFocus:!0}),o.a.createElement(In,{onClick:function(){g()}},"confirm"),b?o.a.createElement("div",{className:l.Error},"please enter a name"):null))};function po(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{isOpen:e,toRenameID:n}}var vo=function(){var e,n=Object(a.useState)(po(!1)),t=Object(i.a)(n,2),r=t[0],c=r.isOpen,u=r.toRenameID,l=t[1];window.openModuleRenameMenu=function(e){l(po(!0,e))};var s=Object(se.c)((function(e){return e.modules})),d=Object(se.b)();return o.a.createElement(fo,{header:"rename module",isOpen:c,onSubmit:function(e){d(function(e,n){return{type:"RENAME_MODULE",id:e,newName:n}}(u,e))},placeholder:null===(e=s[u])||void 0===e?void 0:e.name,onClose:function(){l(po(!1))}})};function bo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;return{isOpen:e,placeholder:n,containerControl:a,parentModID:t}}var wo=function(){var e=Object(a.useState)(bo(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.placeholder,u=t.containerControl,l=t.parentModID,s=n[1];window.openControlRenameMenu=function(e,n,t){s(bo(!0,e,n,t))};var d=Object(se.b)();return o.a.createElement(fo,{header:"rename control",isOpen:r,onSubmit:function(e){var n=u,t=n.modID,a=n.controlID,o=n.actualModID;d(function(e,n,t,a,o){return{type:"RENAME_CONTAINER_CONTROL",name:e,parentModID:n,modID:t,controlID:a,actualModID:o}}(e,l,t,a,o)),window.flashNotification("green","control passthrough renamed")},placeholder:c,onClose:function(){return s(bo(!1))}})},go=Object(u.a)({LeftBar:{width:en.leftBarWidth,backgroundColor:He},LeftBarButton:{borderRadius:"0em",margin:"0em",backgroundColor:"transparent",borderColor:"transparent",borderWidth:"1px","&:hover":{borderColor:"transparent"}},RouterBounder:{alignItems:"center"},IconRouter:{width:en.iconRouterWidth,height:en.height,overflowY:"scroll",display:"grid",gridTemplateColumns:"repeat(3, auto)",gridAutoRows:"20vmin",gridAutoFlow:"row",placeItems:"center","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"white"}},SearchBar:{width:"80%",height:"1.5em",marginTop:"1.3em",marginBottom:".4em",fontSize:Je.small,backgroundColor:Ke,color:Ve,textAlign:"center",borderStyle:"none",borderRadius:".2em","&:focus":{outline:"none"}}});var Oo=function(e){var n=e.selectedGroup,t=e.setSG,a=go();return o.a.createElement(sn,{className:a.LeftBar},Go.filter((function(e){return window.usingElectron||e!==Lo})).map((function(e,r){var c=e===n;return o.a.createElement(In,{className:a.LeftBarButton,key:r,style:{color:c?Ce:"white"},onClick:function(){t(e)}},e)})))},ho=Object(u.a)({DrawerItem:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",borderRadius:"10px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},DrawerIcon:{backgroundColor:de,borderColor:de,borderStyle:"solid",width:Ye.item,height:Ye.item,borderRadius:"1.5vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",marginBottom:"1.5vmin","&:hover":{cursor:"pointer",borderColor:"white"}},DrawerItemText:{fontSize:Je.small}});var Co=function(e){var n=e.fullName,t=e.shortName,a=e.moduleType,r=e.isFocussed,c=e.totNumModules,i=e.row,u=e.col,l=e.onClose,s=ho(),d=Object(se.b)();function m(){window.addModule(na(0,c),t,window.fillContainerID,a,d,i,u),l()}return r&&(window.addSelectedSearchModule=m),o.a.createElement("div",{className:s.DrawerItem},o.a.createElement("div",{className:s.DrawerIcon,style:{backgroundColor:cn(a),borderColor:r?"white":de},onFocus:function(e){e.preventDefault(),console.log("focussing 2")},onClick:m,draggable:!0,onDragStart:function(e){e.persist(),e.dataTransfer.setData("type","ADD_MODULE"),e.dataTransfer.setData("id",na(0,c)),e.dataTransfer.setData("moduleType",a),e.dataTransfer.setData("name",t)},onKeyDown:function(e){switch(e.key){case"Enter":m()}}}),o.a.createElement("div",{className:s.DrawerItemText},n))};var Do=function(e){var n=e.totNumModules,t=e.moduleData,r=e.row,c=e.col,u=e.onClose;return o.a.createElement(a.Fragment,null,t.map((function(e,t){var a=Object(i.a)(e,3),l=a[0],s=a[1],d=a[2];return o.a.createElement(Co,{key:t,fullName:l,shortName:s,moduleType:d,totNumModules:n,row:r,col:c,onClose:u})})))},Io=[["gain","gain","GAIN"],["filter","filter","AUTOFILTER"],["kompressor","komp","KOMPRESSOR"],["signal delay","delay","SIGNAL_DELAY"],["stereo panner","pan","STEREO_PANNER"],["distortion","dist","DISTORTION"]],jo=[["file","file","MEDIA_ELEMENT"],["stream","stream","LINE_IN"],["oscillator","osc","OSCILLATOR"],["constant","const","CONSTANT"],["enveloped pad","env","ENVELOPED_TRIGGER"],["white noise","noise","WHITE_NOISE"]],Eo=[["container","cntnr",b],["output","out","OUTPUT"],["analyzer","analyzer","ANALYZER"],["tuner","tuner","TUNER"]],yo=Io.concat(jo).concat(Eo);var No=function(e){var n=e.moduleName,t=e.totNumberModules,a=e.totNumberConnections,r=e.onClose,c=e.row,i=e.col,u=e.isFocussed,l=ho(),s=Object(se.b)();function d(){window.containerSaveService.get(n).then((function(e){var n=e.containerID,o=e.modules,r=e.connections;aa(s,o,r,t,a,window.fillContainerID,n,c,i)})),r()}return u&&(window.addSelectedSearchModule=d),o.a.createElement("div",{className:l.DrawerItem},o.a.createElement("div",{className:l.DrawerIcon,style:{backgroundColor:cn(b),borderColor:u?"white":de},onClick:d,onContextMenu:function(e){e.preventDefault(),e.persist(),window.openSDBModuleContextMenu(e,n)}}),o.a.createElement("div",{className:l.DrawerItemText},n))};var xo=function(e){var n=e.spaceDBModules,t=e.totNumModules,r=e.totNumConnections,c=e.onClose,i=e.row,u=e.col;return Object(a.useEffect)((function(){window.refreshSpaceDBModules()}),[]),o.a.createElement(a.Fragment,null,n.map((function(e,n){return o.a.createElement(No,{moduleName:e,key:n,totNumberModules:t,totNumberConnections:r,onClose:c,row:i,col:u})})))};var So=function(e){var n=e.name,t=e.totNumModules,a=e.totNumConnections,r=e.row,c=e.col,i=e.onClose,u=e.isFocussed,l=ho();function s(){return d.apply(this,arguments)}function d(){return(d=Object(Oa.a)(ga.a.mark((function e(){var o,u,l,s;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Aa(window.moduleDirectoryHandle,n);case 2:o=e.sent,u=o.containerID,l=o.modules,s=o.connections,aa(m,l,s,t,a,window.fillContainerID,u,r,c),i();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u&&(window.addSelectedSearchModule=s);var m=Object(se.b)();return o.a.createElement("div",{className:l.DrawerItem},o.a.createElement("div",{className:l.DrawerIcon,style:{backgroundColor:cn(b),borderColor:u?"white":de},onClick:s}),o.a.createElement("div",{className:l.DrawerItemText},n))};var Mo=function(e){var n=e.query,t=e.spaceDBModules,r=e.totNumModules,c=e.totNumConnections,u=e.onClose,l=e.row,s=e.col,d=n.toUpperCase(),m=t.filter((function(e){return e.toUpperCase().slice(0,d.length)===d})),f=yo.filter((function(e){return Object(i.a)(e,2)[0].toUpperCase().slice(0,d.length)===d})),p=window.fileModuleSaveNames.filter((function(e){return e.toUpperCase().slice(0,d.length)===d}));return o.a.createElement(a.Fragment,null,m.map((function(e,n){return o.a.createElement(No,{key:e,moduleName:e,totNumberModules:r,totNumberConnections:c,onClose:u,row:l,col:s,isFocussed:0===n})})),p.map((function(e,n){return o.a.createElement(So,{key:e,name:e,totNumModules:r,totNumConnections:c,onClose:u,row:l,col:s,isFocussed:0===m.length&&0===n})})),f.map((function(e,n){var t=Object(i.a)(e,3),a=t[0],c=t[1],d=t[2];return o.a.createElement(Co,{isFocussed:0===m.length&&0===p.length&&0===n,key:n,fullName:a,shortName:c,moduleType:d,totNumModules:r,row:l,col:s,onClose:u})})))};window.fileModuleSaveNames=[];var ko=function(e){var n=e.totNumModules,t=e.totNumConnections,r=e.row,c=e.col,u=e.onClose,l=Object(a.useState)(window.fileModuleSaveNames),s=Object(i.a)(l,2),d=s[0],m=s[1];return o.a.createElement(a.Fragment,null,window.moduleDirectoryHandle?0===d.length?o.a.createElement(a.Fragment,null,o.a.createElement(In,{fontSize:Je.small,notClickable:!0},"no modules in this directory. save modules by right clicking a custom container, and selecting save to file."),o.a.createElement(In,{onClick:Object(Oa.a)(ga.a.mark((function e(){return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showDirectoryPicker();case 2:return window.moduleDirectoryHandle=e.sent,e.next=5,Ma(window.moduleDirectoryHandle);case 5:window.fileModuleSaveNames=e.sent,m(window.fileModuleSaveNames);case 7:case"end":return e.stop()}}),e)})))},"change directory")):d.map((function(e,a){return o.a.createElement(So,{key:a,name:e,onClose:u,totNumModules:n,totNumConnections:t,row:r,col:c})})):o.a.createElement(In,{onClick:Object(Oa.a)(ga.a.mark((function e(){return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showDirectoryPicker();case 2:return window.moduleDirectoryHandle=e.sent,e.next=5,Ma(window.moduleDirectoryHandle);case 5:window.fileModuleSaveNames=e.sent,m(window.fileModuleSaveNames);case 7:case"end":return e.stop()}}),e)})))},"select module directory"))};var To,Ro=function(e){var n=e.selectedGroup,t=e.row,a=e.col,r=e.onClose,c=e.query,i=e.spaceDBModules,u=Object(se.c)((function(e){return Object.keys(e.modules).length})),l=Object(se.c)((function(e){return Object.keys(e.connections).length})),s=go();return o.a.createElement("div",{className:s.IconRouter},o.a.createElement(Do,{totNumModules:u,moduleData:n===Fo?Io:n===Bo?jo:n===Po?Eo:[],row:t,col:a,onClose:r}),n!==Lo?null:o.a.createElement(xo,{spaceDBModules:i,totNumModules:u,totNumConnections:l,onClose:r,row:t,col:a}),n!==zo?null:o.a.createElement(ko,{onClose:r,totNumModules:u,totNumConnections:l,row:t,col:a}),n!==_o?null:o.a.createElement(Mo,{query:c,spaceDBModules:i,totNumModules:u,totNumConnections:l,onClose:r,row:t,col:a}))};var Ao=function(e){var n=e.selectedGroup,t=e.setSG,a=e.setQuery,r=e.searchRef,c=e.onClose,i=go();return n!==_o&&(To=n),o.a.createElement("input",{className:i.SearchBar,ref:r,onChange:function(e){0===e.target.value.length?(t(To),window.addSelectedSearchModule=function(){}):(a(e.target.value),t(_o))},onKeyDown:function(e){switch(e.key){case"Escape":c();break;case"Enter":window.addSelectedSearchModule()}},placeholder:"search"})},Fo="effects",Bo="sources",Po="utility",Lo="spaceDB",zo="local file",_o="search",Go=[Fo,Bo,Po,Lo,zo];function Uo(e,n,t){return{isOpen:e,row:n,col:t}}var Wo=function(){var e=Object(a.useState)(Uo(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.row,u=t.col,d=n[1],m=Object(a.useRef)(null);window.openAddModuleMenu=function(e,n){C(""),d(Uo(!0,e,n)),m.current&&(m.current.value="",m.current.focus())};var f=function(){d(Uo(!1))},p=Object(a.useState)(Fo),v=Object(i.a)(p,2),b=v[0],w=v[1],g=Object(a.useState)(""),O=Object(i.a)(g,2),h=O[0],C=O[1],D=Object(a.useState)([]),I=Object(i.a)(D,2),j=I[0],E=I[1];window.refreshSpaceDBModules=function(){window.containerSaveService.find().then((function(e){E(e)}))};var y=Object(Fn.b)({opacity:r?1:0,config:{tension:270}});Object(a.useEffect)((function(){window.usingElectron&&window.refreshSpaceDBModules()}),[]);var N=go();return o.a.createElement(qa,{header:"add module",onClose:f,bounderStyle:Object.assign({},y,{zIndex:r?s:l-1})},o.a.createElement(rn,null,o.a.createElement(sn,{className:N.RouterBounder},o.a.createElement(Ao,{selectedGroup:b,setSG:w,setQuery:C,searchRef:m,onClose:f}),o.a.createElement(Oo,{selectedGroup:b,setSG:w})),o.a.createElement(Ro,{selectedGroup:b,row:c,col:u,onClose:f,query:h,spaceDBModules:j})))},Ho=function(e,n){var t,a,o=n.id,r=n.name,c=n.moduleType,i=n.controlData,u=n.row,l=n.col,s=n.parentID,d=n.connectionInputs,m=n.connectionOutputs;switch(c){case b:return Object.assign({},e,(t={},Object(p.a)(t,o,{id:o,name:r,row:u,col:l,parentID:s,moduleType:c,controlData:i,connectionInputs:d,connectionOutputs:m,inputs:[],outputs:[],containerControls:[],toContainerControls:[],childModules:[],isBaseContainer:!1,isContainerInput:!1,isContainerOutput:!1}),Object(p.a)(t,s,Object(v.a)(Object(v.a)({},e[s]),{},{childModules:[].concat(Object(Q.a)(e[s].childModules),[o])})),t));default:return Object.assign({},e,(a={},Object(p.a)(a,o,{id:o,name:r,row:u,col:l,parentID:s,moduleType:c,controlData:i,connectionInputs:d,connectionOutputs:m,toContainerControls:[],isContainerInput:!1,isContainerOutput:!1,inputs:[],outputs:[]}),Object(p.a)(a,s,Object(v.a)(Object(v.a)({},e[s]),{},{childModules:[].concat(Object(Q.a)(e[s].childModules),[o])})),a))}},Ko=function(e,n){var t=n.id,a=n.newRow,o=n.newCol;return Object.assign({},e,Object(p.a)({},t,Object(v.a)(Object(v.a)({},e[t]),{},{row:a,col:o})))},Vo=function(e,n){var t=n.id,a=n.newName;return Object.assign({},e,Object(p.a)({},t,Object(v.a)(Object(v.a)({},e[t]),{},{name:a})))},qo=function(e,n){var t,a=n.id,o=e[a].parentID;return Object.assign({},e,(t={},Object(p.a)(t,a,Object(v.a)(Object(v.a)({},e[a]),{},{isContainerInput:!0})),Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{connectionInputs:[].concat(Object(Q.a)(e[o].connectionInputs),[a])})),t))},Yo=function(e,n){var t,a=n.id,o=e[a].parentID;return Object.assign({},e,(t={},Object(p.a)(t,a,Object(v.a)(Object(v.a)({},e[a]),{},{isContainerInput:!1})),Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{connectionInputs:e[o].connectionInputs.filter((function(e){return e!==a}))})),t))},Qo=function(e,n){var t,a=n.id,o=e[a].parentID;return Object.assign({},e,(t={},Object(p.a)(t,a,Object(v.a)(Object(v.a)({},e[a]),{},{isContainerOutput:!0})),Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{connectionOutputs:[].concat(Object(Q.a)(e[o].connectionOutputs),[a])})),t))},Jo=function(e,n){var t,a=n.id,o=e[a].parentID;return Object.assign({},e,(t={},Object(p.a)(t,a,Object(v.a)(Object(v.a)({},e[a]),{},{isContainerInput:!1})),Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{connectionOutputs:e[o].connectionOutputs.filter((function(e){return e!==a}))})),t))},Xo=function(e,n){var t,a,o=n.modID,r=n.controlID,c=n.actualModID,i=n.name,u=e[o].parentID;return e[o].moduleType===b?Object.assign({},e,(t={},Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{containerControls:e[o].containerControls.map((function(e){return e.controlID!==r||e.actualModID!==c?e:Object(v.a)(Object(v.a)({},e),{},{markedToContainer:!0})}))})),Object(p.a)(t,u,Object(v.a)(Object(v.a)({},e[u]),{},{containerControls:[].concat(Object(Q.a)(e[u].containerControls),[{modID:o,controlID:r,actualModID:c,name:i,markedToContainer:!1}])})),t)):Object.assign({},e,(a={},Object(p.a)(a,c,Object(v.a)(Object(v.a)({},e[c]),{},{controlData:Object(v.a)(Object(v.a)({},e[c].controlData),{},Object(p.a)({},r,Object(v.a)(Object(v.a)({},e[c].controlData[r]),{},{markedToContainer:!0})))})),Object(p.a)(a,u,Object(v.a)(Object(v.a)({},e[u]),{},{containerControls:[].concat(Object(Q.a)(e[u].containerControls),[{modID:o,controlID:r,actualModID:c,name:i,markedToContainer:!1}])})),a))},Zo=function(e,n){var t,a,o=n.modID,r=n.controlID,c=n.actualModID,i=e[o].parentID;return e[o].moduleType===b?Object.assign({},e,(t={},Object(p.a)(t,o,Object(v.a)(Object(v.a)({},e[o]),{},{containerControls:e[o].containerControls.map((function(e){return e.controlID!==r||e.actualModID!==c?e:Object(v.a)(Object(v.a)({},e),{},{markedToContainer:!1})}))})),Object(p.a)(t,i,Object(v.a)(Object(v.a)({},e[i]),{},{containerControls:e[i].containerControls.filter((function(e){return e.modID!==o||e.controlID!==r||e.actualModID!==c}))})),t)):Object.assign({},e,(a={},Object(p.a)(a,c,Object(v.a)(Object(v.a)({},e[c]),{},{controlData:Object(v.a)(Object(v.a)({},e[c].controlData),{},Object(p.a)({},r,Object(v.a)(Object(v.a)({},e[c].controlData[r]),{},{markedToContainer:!1})))})),Object(p.a)(a,i,Object(v.a)(Object(v.a)({},e[i]),{},{containerControls:e[i].containerControls.filter((function(e){return e.modID!==o||e.controlID!==r||e.actualModID!==c}))})),a))},$o=function(e,n){var t=n.name,a=n.parentModID,o=(n.modID,n.controlID),r=n.actualModID,c=e[a];return Object.assign({},e,Object(p.a)({},a,Object(v.a)(Object(v.a)({},c),{},{containerControls:c.containerControls.map((function(e){return e.controlID!==o||e.actualModID!==r?e:Object(v.a)(Object(v.a)({},e),{},{name:t})}))})))},er=function(e,n){var t=n.modID,a=n.controlID,o=n.newValue;return Object.assign({},e,Object(p.a)({},t,Object(v.a)(Object(v.a)({},e[t]),{},{controlData:Object(v.a)(Object(v.a)({},e[t].controlData),{},Object(p.a)({},a,Object(v.a)(Object(v.a)({},e[t].controlData[a]),{},{value:o})))})))},nr=function(e,n){var t=n.modID,a=n.controlID,o=n.newRange;return Object.assign({},e,Object(p.a)({},t,Object(v.a)(Object(v.a)({},e[t]),{},{controlData:Object(v.a)(Object(v.a)({},e[t].controlData),{},Object(p.a)({},a,Object(v.a)(Object(v.a)({},e[t].controlData[a]),{},{range:o,value:dt(e[t].controlData[a].value,o)})))})))},tr={project:{id:"project",name:"project",row:0,col:0,moduleType:b,controlData:{open:{controlType:"BUTTON",paramID:"n/a"}},connectionInputs:[],connectionOutputs:[],inputs:[],outputs:[],parentID:null,childModules:[],isBaseContainer:!0,isContainerInput:!1,isContainerOutput:!1,containerControls:[]}},ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,n=arguments.length>1?arguments[1]:void 0;if(!n)return e;switch(n.type){case"ADD_MODULE":return Ho(e,n);case"MOVE_MODULE":return Ko(e,n);case"RENAME_MODULE":return Vo(e,n);case"MARK_CONTAINER_INPUT":return qo(e,n);case"UNMARK_CONTAINER_INPUT":return Yo(e,n);case"MARK_CONTAINER_OUTPUT":return Qo(e,n);case"UNMARK_CONTAINER_OUTPUT":return Jo(e,n);case"MARK_CONTAINER_CONTROL":return Xo(e,n);case"UNMARK_CONTAINER_CONTROL":return Zo(e,n);case"UPDATE_CONTROL_DATA":return er(e,n);case"UPDATE_CONTROL_RANGE":return nr(e,n);case"RENAME_CONTAINER_CONTROL":return $o(e,n);default:return e}},or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"project",n=arguments.length>1?arguments[1]:void 0;if(!n)return e;switch(n.type){case"DOWN_1_BASE":case"CHANGE_BASE":return n.newID;default:return e}},rr=function(e,n,t){var a,o=t.fromID,r=t.toID,c=t.param,i=t.outputIndex,u=t.inputIndex,l=t.containerOutputChildID,s=t.containerInputChildID,d=na(0,Object.keys(n).length);return{newModules:Object.assign({},e,(a={},Object(p.a)(a,o,Object(v.a)(Object(v.a)({},e[o]),{},{outputs:[].concat(Object(Q.a)(e[o].outputs),[d])})),Object(p.a)(a,r,Object(v.a)(Object(v.a)({},e[r]),{},{inputs:[].concat(Object(Q.a)(e[r].inputs),[d])})),a)),newConnections:Object(v.a)(Object(v.a)({},n),{},Object(p.a)({},d,{connectionID:d,fromID:o,toID:r,param:c,outputIndex:i,inputIndex:u,actualOutputID:l,actualInputID:s}))}},cr=function(e,n,t){var a,o=t.connectionID,r=n[o],c=r.fromID,i=r.toID,u=r.actualOutputID,l=r.actualInputID;return{newModules:Object.assign({},e,(a={},Object(p.a)(a,c,Object(v.a)(Object(v.a)({},e[c]),{},{outputs:e[c].outputs.filter((function(e){return e!==o}))})),Object(p.a)(a,i,Object(v.a)(Object(v.a)({},e[i]),{},{inputs:e[i].inputs.filter((function(e){return e!==o}))})),a),u?Object(p.a)({},u,Object(v.a)(Object(v.a)({},e[u]),{},{outputs:e[u].outputs.filter((function(e){return e!==o}))})):{},l?Object(p.a)({},l,Object(v.a)(Object(v.a)({},e[l]),{},{inputs:e[c].outputs.filter((function(e){return e!==o}))})):{}),newConnections:Tt(n,[o])}},ir=function(e,n,t){var a=t.id,o=e[a].parentID,r=e[a].moduleType===b?function(e,n){return[e].concat(Object(Q.a)(Qt(e,n)))}(a,e):[a],c=e[a].moduleType===b?[].concat(Object(Q.a)(e[a].inputs),Object(Q.a)(e[a].outputs),Object(Q.a)(Jt(n,r))):[].concat(Object(Q.a)(e[a].inputs),Object(Q.a)(e[a].outputs)),i=Tt(e,r);return{newModules:Object.assign({},Object.fromEntries(Object.entries(i).map((function(n){return[n[0],Object(v.a)(Object(v.a)({},n[1]),{},{inputs:n[1].inputs.filter((function(n){return!ut(n,[].concat(Object(Q.a)(e[a].inputs),Object(Q.a)(e[a].outputs)))})),outputs:n[1].outputs.filter((function(n){return!ut(n,[].concat(Object(Q.a)(e[a].inputs),Object(Q.a)(e[a].outputs)))}))})]}))),Object(p.a)({},o,Object(v.a)(Object(v.a)({},e[o]),{},{childModules:e[o].childModules.filter((function(e){return e!==a})),connectionInputs:e[o].connectionInputs.filter((function(e){return e!==a})),connectionOutputs:e[o].connectionOutputs.filter((function(e){return e!==a})),containerControls:e[o].containerControls.filter((function(e){return e.modID!==a}))}))),newConnections:Tt(n,c)}},ur=function(e,n,t){var a,o=t.containerID,r=t.newModules,c=t.newConnections,i=t.row,u=t.col,l=t.parentID;return{newModules:Object.assign({},e,r,(a={},Object(p.a)(a,l,Object(v.a)(Object(v.a)({},e[l]),{},{childModules:[].concat(Object(Q.a)(e[l].childModules),[o])})),Object(p.a)(a,o,Object(v.a)(Object(v.a)({},r[o]),{},{parentID:l,row:i,col:u,isBaseContainer:!1})),a)),newConnections:Object.assign({},n,c)}},lr=function(e,n,t){switch(t.type){case"ADD_CONNECTION":return rr(e,n,t);case"REMOVE_CONNECTION":return cr(e,n,t);case"REMOVE_MODULE":return ir(e,n,t);case"MERGE_CONTAINER":return ur(e,n,t);default:return{newModules:e,newConnections:n}}};function sr(){return{modules:ar(),connections:{},baseContainerID:or()}}var dr=sr();function mr(e,n){return"ADD_CONNECTION"===n.type||"REMOVE_CONNECTION"===n.type||"REMOVE_MODULE"===n.type||"MERGE_CONTAINER"===n.type?lr(e.modules,e.connections,n):{newModules:ar(e.modules,n),newConnections:e.connections}}var fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr,n=arguments.length>1?arguments[1]:void 0;if("RESTORE_FROM_STATE"===n.type){var t=n.state;return Object.assign(t,t.connections?{}:{connections:{}})}var a=mr(e,n),o=a.newModules,r=a.newConnections;return{modules:o,connections:r,baseContainerID:or(e.baseContainerID,n)}};function pr(e,n){var t=sr();fa(n,t),e(N(t)),window.flashNotification(qe,"created blank project"),window.saveFileHandle=void 0,window.reRenderFileMenu()}var vr=function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],r=n[1];window.openConfirmBlankProjectMenu=function(){r(!0)};var c=function(){r(!1)},u=Object(se.c)((function(e){return e})),l=Object(se.b)();return o.a.createElement(qa,{isClosed:!t,onClose:c},o.a.createElement("div",{style:{fontSize:Je.medium,textAlign:"center"}}," would you like to save the current project before closing? "),o.a.createElement(rn,null,o.a.createElement(In,{onClick:function(){pr(l,u.connections),c()}},"no"),o.a.createElement(In,{onClick:Object(Oa.a)(ga.a.mark((function e(){return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.saveFileHandle){e.next=5;break}return e.next=3,Ca(window.saveFileHandle,u);case 3:e.next=7;break;case 5:return e.next=7,Ea(u);case 7:pr(l,u.connections),c();case 9:case"end":return e.stop()}}),e)})))},"yes")))};var br=function(){return o.a.createElement(a.Fragment,null,o.a.createElement(Wo,null),o.a.createElement(vo,null),o.a.createElement(wo,null),o.a.createElement(Qa,null),o.a.createElement(so,null),o.a.createElement(Za,null),o.a.createElement(uo,null),o.a.createElement(eo,null),o.a.createElement(co,null),o.a.createElement(vr,null))};function wr(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{isOpen:e,color:n,text:t}}var gr=Object(u.a)({Notification:{position:"absolute",top:"10vh",left:"50vw",transform:"translate(-50%, 0%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2vmin",borderRadius:"4vmin",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",zIndex:1e3,fontSize:Je.small}});var Or=function(){var e=Object(a.useState)(wr(!1)),n=Object(i.a)(e,2),t=n[0],r=t.isOpen,c=t.color,u=t.text,l=n[1],s=Object(a.useState)(!1),d=Object(i.a)(s,2),m=d[0],f=d[1],p=gr();window.flashNotification=function(e,n){l(wr(!0,e,n)),f(!0),window.setTimeout((function(){f(!1)}),2500),window.setTimeout((function(){l(wr(!1))}),3200)};var v=Object(Fn.b)({opacity:m?1:0});return o.a.createElement(a.Fragment,null,r?o.a.createElement(Fn.a.div,{className:p.Notification,style:Object.assign({backgroundColor:c},v)},u):null)};window.fillContainerID="project",window.audioModules={},ee(),ue(),le();var hr=function(){var e=f(),n=Object(a.useState)(ne(!1)),t=Object(i.a)(n,2),r=t[0],c=t[1];return window.openPointerLayer=function(e,n,t){c(ne(!0,e,n,t))},o.a.createElement("div",{className:e.Bounder},o.a.createElement("div",{className:e.ModuleViewBounder},o.a.createElement(sa,null)),o.a.createElement(Ua,null),o.a.createElement(Ha,null),r.isOpen?o.a.createElement(ae,{pointerLayerData:r,resetPointerLayerData:function(){c(ne(!1))}}):null,o.a.createElement(br,null),o.a.createElement(nt,null),o.a.createElement(Or,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Cr=t(48),Dr=t(82),Ir=Object(Cr.createStore)(fr,Object(Dr.composeWithDevTools)());c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(se.a,{store:Ir},o.a.createElement(hr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,n,t){e.exports=t.p+"static/media/trash.9d2c8d42.svg"},79:function(e,n,t){e.exports=t.p+"static/media/settings.04e848f8.svg"},84:function(e,n,t){e.exports=t(130)},89:function(e,n,t){}},[[84,1,2]]]);
//# sourceMappingURL=main.4cc6b3aa.chunk.js.map